{"version":3,"file":"field-attr-configurator.map.js","names":["BX","namespace","Crm","EntityFieldAttributeConfigurator","this","_id","_settings","_typeId","UI","EntityFieldAttributeType","undefined","_fieldName","_config","_captions","_phases","_groups","_button","_popup","_label","_switchCheckBox","_switchCheckBoxHandler","delegate","onSwitchCheckBoxClick","_isPermitted","_isPhaseDependent","_isEnabled","_isOpened","_isChanged","_closingNotifier","CrmNotifier","create","prototype","initialize","id","settings","type","isNotEmptyString","util","getRandomString","prop","getBoolean","getInteger","required","getString","getObject","configTypeId","typeId","getArray","pipelinePhases","junkPhases","i","length","phase","semantics","push","createGroup","name","getCaption","phaseGroupTypeId","EntityFieldAttributePhaseGroupType","general","pipeline","junk","isEmpty","getId","getTypeId","getTitle","isAttrConfigButtonHidden","getPhaseIndexById","getPhaseInfoById","resolvePhaseName","phaseId","resolvePhaseGroupType","prepareLegendData","layout","EntityPhaseLayout","getCurrent","groups","group","items","backgroundColor","getBackgroundColor","color","calculateTextColor","text","adjust","isEnabled","getDefaultConfiguration","getEmptyConfiguration","innerHTML","htmlspecialchars","setEnabled","enabled","isChanged","isCustomized","isPermitted","isPhaseDependent","runLockScript","lockScript","eval","getConfiguration","acceptChanges","isSelected","applyConfiguration","key","hasOwnProperty","title","phases","options","EntityFieldAttributePhaseGroup","configurator","isReadOnly","hasSelectedGroup","processGroupChange","groupId","setSelected","isChildrenGroupsFullySelected","Object","keys","filter","every","isFullySelected","addClosingListener","listener","addListener","removeClosingListener","removeListener","open","anchor","PopupWindow","autoHide","draggable","closeByEsc","offsetLeft","offsetTop","zIndex","bindOptions","forceBindPosition","content","prepareContent","events","onPopupShow","onPopupClose","onPopupDestroy","show","close","innerWrapper","Tag","render","wrapper","forEach","setContainer","checked","destroy","notify","config","_innerWrapper","getButton","EntityFieldAttributeConfigButton","isHidden","getSwitchCheckBox","setSwitchCheckBox","checkBox","unbind","bind","getLabel","setLabel","label","e","baseColor","r","g","b","hexComponent","split","parseInt","test","c","substring","join","y","self"],"sources":["field-attr-configurator.js"],"mappings":"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","ignoreList":[]}