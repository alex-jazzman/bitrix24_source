{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":[";(function () {\n\t'use strict';\n\n\tBX.namespace('BX.SaleCenterDelivery');\n\n\tBX.SaleCenterDelivery = {\n\t\tdelivery: null,\n\t\tsignedParameters: null,\n\n\t\tinit: function(config)\n\t\t{\n\t\t\tthis.deliveryParams = config.deliveryParams;\n\t\t\tthis.signedParameters = config.signedParameters;\n\n\t\t\tthis.delivery = new BX.TileGrid.Grid(this.deliveryParams);\n\t\t\tthis.delivery.draw();\n\t\t},\n\n\t\treloadSlider: function(responseData)\n\t\t{\n\t\t\tif(responseData.deliveryPanelParams)\n\t\t\t{\n\t\t\t\tthis.delivery.redraw(responseData.deliveryPanelParams);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t *\n\t * @param options\n\t * @extends {BX.TileGrid.Item}\n\t * @constructor\n\t */\n\tBX.SaleCenterDelivery.TileGrid = function(options)\n\t{\n\t\tBX.TileGrid.Item.apply(this, arguments);\n\n\t\tthis.title = options.title;\n\t\tthis.image = options.image;\n\t\tthis.itemSelected = options.itemSelected;\n\t\tthis.itemSelectedColor = options.itemSelectedColor;\n\t\tthis.itemSelectedImage = options.itemSelectedImage;\n\t\tthis.outerImage = options.outerImage || false;\n\t\tthis.layout = {\n\t\t\tcontainer: null,\n\t\t\timage: null,\n\t\t\ttitle: null,\n\t\t\tclipTitle: null,\n\t\t\tcompany: null,\n\t\t\tcontrols: null,\n\t\t\tbuttonAction: null,\n\t\t\tprice: null\n\t\t};\n\t\tthis.data = options.data || {};\n\t};\n\n\tBX.SaleCenterDelivery.TileGrid.prototype =\n\t{\n\t\t__proto__: BX.TileGrid.Item.prototype,\n\t\tconstructor: BX.TileGrid.Item,\n\n\t\tgetContent: function()\n\t\t{\n\t\t\tif (this.data.type === 'counter')\n\t\t\t{\n\t\t\t\treturn this.getItemCounter();\n\t\t\t}\n\n\t\t\tif(!this.layout.wrapper)\n\t\t\t{\n\t\t\t\tthis.layout.wrapper = BX.create('div', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: 'salescenter-delivery-item'\n\t\t\t\t\t},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: 'salescenter-delivery-item-content'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tthis.getImage(),\n\t\t\t\t\t\t\t\tthis.getTitle(),\n\t\t\t\t\t\t\t\tthis.getStatus()\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t],\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.onClick();\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.itemSelected || this.data.type === 'actionbox')\n\t\t\t{\n\t\t\t\tthis.setSelected();\n\t\t\t}\n\n\t\t\treturn this.layout.wrapper;\n\t\t},\n\n\t\tgetItemCounter: function()\n\t\t{\n\t\t\treturn BX.create(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: 'salescenter-delivery-item salescenter-delivery-integration-marketplace-tile-item salescenter-delivery-integration-marketplace-tile-counter',\n\t\t\t\t\t},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: 'salescenter-delivery-integration-marketplace-tile-counter-head',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\tclassName: 'salescenter-delivery-integration-marketplace-tile-counter-name',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttext: this.title,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\tclassName: 'salescenter-delivery-integration-marketplace-tile-counter-value',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttext: this.data.count,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tclassName: 'salescenter-delivery-integration-marketplace-tile-counter-link-box',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tBX.create('div', {\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\tclassName: 'salescenter-delivery-integration-marketplace-tile-counter-link',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttext: this.data.description,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}),\n\t\t\t\t\t],\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.onClick();\n\t\t\t\t\t\t}.bind(this),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t},\n\n\t\tgetImage: function()\n\t\t{\n\t\t\tif(!this.layout.image)\n\t\t\t{\n\t\t\t\tvar className = this.data.hasOwnProperty('hasOwnIcon') && this.data.hasOwnIcon\n\t\t\t\t\t? 'salescenter-delivery-marketplace-item-image'\n\t\t\t\t\t: 'salescenter-delivery-item-image';\n\n\t\t\t\tvar logo = BX.create('div', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: className\n\t\t\t\t\t},\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundSize: this.outerImage ? '50px' : '',\n\t\t\t\t\t\tbackgroundImage: this.image ? 'url(' + encodeURI(this.image) + ')' : null\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.layout.image = logo;\n\t\t\t}\n\n\t\t\treturn this.layout.image;\n\t\t},\n\n\t\tgetStatus: function()\n\t\t{\n\t\t\tif(!this.itemSelected)\n\t\t\t\treturn;\n\n\t\t\tthis.layout.itemSelected = BX.create('div', {\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: 'salescenter-delivery-item-status-selected'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn this.layout.itemSelected;\n\t\t},\n\n\t\tsetSelected: function()\n\t\t{\n\t\t\tBX.addClass(this.layout.wrapper, 'salescenter-delivery-item-selected');\n\n\t\t\tif(this.itemSelectedImage)\n\t\t\t{\n\t\t\t\tthis.layout.image.style.backgroundImage = 'url(' + this.itemSelectedImage + ')';\n\t\t\t}\n\n\t\t\tif(this.itemSelectedColor)\n\t\t\t{\n\t\t\t\tthis.layout.wrapper.style.backgroundColor = this.itemSelectedColor;\n\t\t\t}\n\t\t},\n\n\t\tsetUnselected: function()\n\t\t{\n\t\t\tif(this.itemSelected)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tBX.removeClass(this.layout.wrapper, 'salescenter-delivery-item-selected');\n\n\t\t\tif(this.image)\n\t\t\t{\n\t\t\t\tthis.layout.image.style.backgroundImage = 'url(' + this.image + ')';\n\t\t\t}\n\n\t\t\tthis.layout.wrapper.style.backgroundColor = '';\n\n\t\t\tvar itemSelected = content.querySelector('.salescenter-delivery-item-status-selected');\n\t\t\tif(itemSelected)\n\t\t\t{\n\t\t\t\titemSelected.parentNode.removeChild(itemSelected);\n\t\t\t}\n\t\t},\n\n\t\tgetTitle: function()\n\t\t{\n\t\t\tif(!this.layout.title)\n\t\t\t{\n\t\t\t\tthis.layout.title = BX.create('div', {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tclassName: this.data.type === 'marketplaceApp'\n\t\t\t\t\t\t\t? 'salescenter-delivery-marketplace-app-item-title'\n\t\t\t\t\t\t\t: 'salescenter-delivery-item-title',\n\t\t\t\t\t},\n\t\t\t\t\ttext: this.title\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.layout.title;\n\t\t},\n\n\t\topenRestAppLayout: function(applicationId, appCode)\n\t\t{\n\t\t\tBX.ajax.runComponentAction(\"bitrix:salescenter.delivery.panel\", \"getRestApp\", {\n\t\t\t\tdata: {\n\t\t\t\t\tcode: appCode\n\t\t\t\t}\n\t\t\t}).then(function(response)\n\t\t\t{\n\t\t\t\tvar app = response.data;\n\t\t\t\tif(app.TYPE === \"A\")\n\t\t\t\t{\n\t\t\t\t\tthis.showRestApplication(appCode);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.rest.AppLayout.openApplication(applicationId);\n\t\t\t\t}\n\t\t\t}.bind(this)).catch(function(response)\n\t\t\t{\n\t\t\t\tthis.restAppErrorPopup(\" \", response.errors.pop().message);\n\t\t\t}.bind(this));\n\t\t},\n\n\t\trestAppErrorPopup: function(title, text)\n\t\t{\n\t\t\tBX.UI.Dialogs.MessageBox.alert(\n\t\t\t\ttext,\n\t\t\t\ttitle,\n\t\t\t\t(messageBox) => messageBox.close(),\n\t\t\t\tBX.Loc.getMessage('SDP_SALESCENTER_JS_POPUP_CLOSE'),\n\t\t\t);\n\t\t},\n\n\t\tonClick: function()\n\t\t{\n\t\t\tif (this.data.type === \"delivery\")\n\t\t\t{\n\t\t\t\tvar sliderOptions = {\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonLoad: function(e) {\n\t\t\t\t\t\t\tvar slider = e.getSlider();\n\t\t\t\t\t\t\tif (slider.isOpen() && slider.url.indexOf('CREATE') > -1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.prepareDeliveryForm(slider);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(this),\n\t\t\t\t\t\tonClose: function (e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar slider = e.getSlider();\n\t\t\t\t\t\t\tthis.setDeliveryItemHandler(slider);\n\t\t\t\t\t\t}.bind(this),\n\t\t\t\t\t\tonDestroy: function (e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar slider = e.getSlider();\n\t\t\t\t\t\t\tthis.setDeliveryItemHandler(slider);\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tif(!this.itemSelected && !this.data.showMenu)\n\t\t\t\t{\n\t\t\t\t\tBX.Salescenter.Manager.openSlider(this.data.connectPath, {width: 835}).then(() => {\n\t\t\t\t\t\tthis.reload(BX.SaleCenterDelivery.signedParameters);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.showItemMenu(this, {\n\t\t\t\t\t\tsliderOptions: sliderOptions\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.data.type === 'counter')\n\t\t\t{\n\t\t\t\tBX.SidePanel.Instance.open(this.data.connectPath);\n\t\t\t}\n\t\t\telse if(this.data.type === \"marketplaceApp\")\n\t\t\t{\n\t\t\t\tif (this.itemSelected)\n\t\t\t\t{\n\t\t\t\t\tthis.openRestAppLayout(this.id, this.data.code);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.showRestApplication(this.data.code);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.data.type === 'recommend')\n\t\t\t{\n\t\t\t\tBX.Salescenter.Manager.openFeedbackFormParams(null, this.data.feedbackConfig);\n\t\t\t}\n\t\t\telse if(this.data.type === 'actionbox')\n\t\t\t{\n\t\t\t\tif (this.data.handler === 'anchor')\n\t\t\t\t{\n\t\t\t\t\twindow.open (this.data.move);\n\t\t\t\t}\n\t\t\t\telse if (this.data.handler === 'marketplace')\n\t\t\t\t{\n\t\t\t\t\tBX.rest.Marketplace.open({PLACEMENT: this.data.move});\n\t\t\t\t}\n\t\t\t\telse if (this.data.handler === 'landing')\n\t\t\t\t{\n\t\t\t\t\tvar dataMove = this.data.move;\n\t\t\t\t\tBX.SidePanel.Instance.open('salecenter', {\n\t\t\t\t\t\tcontentCallback: function () {\n\t\t\t\t\t\t\treturn \"<iframe src='\" + dataMove + \"'\" +\n\t\t\t\t\t\t\t\t\" style='width: 100%; height:\" +\n\t\t\t\t\t\t\t\t\" -webkit-calc(100vh - 20px); height:\" +\n\t\t\t\t\t\t\t\t\" calc(100vh - 20px);'></iframe>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowItemMenu: function (item, options)\n\t\t{\n\t\t\tvar menu = [],\n\t\t\t\tmenuItemIndex,\n\t\t\t\titemNode = item.layout.container,\n\t\t\t\tmenuitemId = 'salescenter-item-menu-' + BX.util.getRandomString(),\n\t\t\t\tfilter;\n\n\t\t\titem.sliderOptions = {};\n\t\t\tif (options.sliderOptions)\n\t\t\t{\n\t\t\t\titem.sliderOptions = options.sliderOptions;\n\t\t\t}\n\n\t\t\tfor (menuItemIndex in item.data.menuItems)\n\t\t\t{\n\t\t\t\tif (item.data.menuItems.hasOwnProperty(menuItemIndex))\n\t\t\t\t{\n\t\t\t\t\tif (item.data.menuItems[menuItemIndex].DELIMITER)\n\t\t\t\t\t{\n\t\t\t\t\t\tmenu.push({\n\t\t\t\t\t\t\tdelimiter: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if (item.data.menuItems[menuItemIndex].FILTER)\n\t\t\t\t\t{\n\t\t\t\t\t\tfilter = item.data.menuItems[menuItemIndex].FILTER;\n\t\t\t\t\t\tmenu.push({\n\t\t\t\t\t\t\ttext: item.data.menuItems[menuItemIndex].NAME,\n\t\t\t\t\t\t\tlink: item.data.menuItems[menuItemIndex].LINK,\n\t\t\t\t\t\t\tonclick: (e, tile) => {\n\t\t\t\t\t\t\t\titem.moreTabsMenu.close();\n\t\t\t\t\t\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t\t\t\t\t\t'bitrix:salescenter.delivery.panel',\n\t\t\t\t\t\t\t\t\t'setDeliveryListFilter',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmode: 'class',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\tfilter: filter\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t).then(function (response) {\n\t\t\t\t\t\t\t\t\tBX.SidePanel.Instance.open(tile.options.link, item.sliderOptions);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tmenu.push({\n\t\t\t\t\t\t\ttext: item.data.menuItems[menuItemIndex].NAME,\n\t\t\t\t\t\t\tlink: item.data.menuItems[menuItemIndex].LINK,\n\t\t\t\t\t\t\tonclick: (e, tile) =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titem.moreTabsMenu.close();\n\n\t\t\t\t\t\t\t\tBX.Salescenter.Manager.openSlider(tile.options.link, {width: 835}).then(() => {\n\t\t\t\t\t\t\t\t\tthis.reload(BX.SaleCenterDelivery.signedParameters);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.moreTabsMenu = BX.PopupMenu.create(\n\t\t\t\tmenuitemId,\n\t\t\t\titemNode,\n\t\t\t\tmenu,\n\t\t\t\t{\n\t\t\t\t\tautoHide: true,\n\t\t\t\t\toffsetLeft: 0,\n\t\t\t\t\toffsetTop: 0,\n\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonPopupClose : function()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.moreTabsMenu.popupWindow.destroy();\n\t\t\t\t\t\t\tBX.PopupMenu.destroy(menuitemId);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonPopupDestroy: function ()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.moreTabsMenu = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\titem.moreTabsMenu.popupWindow.show();\n\t\t},\n\n\t\tprepareDeliveryForm: function(slider)\n\t\t{\n\t\t\tvar sliderIframe, innerDoc, deliveryName, deliveryHandler, deliveryStores;\n\n\t\t\tsliderIframe = slider.iframe;\n\t\t\tinnerDoc = sliderIframe.contentDocument || sliderIframe.contentWindow.document;\n\t\t\tdeliveryName = innerDoc.getElementsByName('NAME')[0];\n\t\t\tif (deliveryName)\n\t\t\t{\n\t\t\t\tdeliveryName.value = this.title;\n\t\t\t}\n\n\t\t\tif (this.id === 'pickup')\n\t\t\t{\n\t\t\t\tdeliveryStores = innerDoc.getElementsByName('STORES_SHOW')[0];\n\t\t\t\tif (deliveryStores)\n\t\t\t\t{\n\t\t\t\t\tdeliveryStores.checked = true;\n\t\t\t\t\tvar eventChange = new Event('change');\n\t\t\t\t\tdeliveryStores.dispatchEvent(eventChange);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetDeliveryListAddButton: function(slider, url)\n\t\t{\n\t\t\tvar sliderIframe, innerDoc, addButtonWrapper, addButtonMenu, addButton, addButtonText;\n\n\t\t\tsliderIframe = slider.iframe;\n\t\t\tinnerDoc = sliderIframe.contentDocument || sliderIframe.contentWindow.document;\n\t\t\taddButtonWrapper = innerDoc.getElementsByClassName('ui-btn-split ui-btn-primary');\n\t\t\tif (addButtonWrapper)\n\t\t\t{\n\t\t\t\taddButtonMenu = addButtonWrapper[0].getElementsByClassName('ui-btn-main')[0];\n\t\t\t\tif (addButtonMenu)\n\t\t\t\t{\n\t\t\t\t\taddButtonText = addButtonMenu.innerText;\n\t\t\t\t\taddButton = BX.create('a', {\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tclassName: 'ui-btn-main',\n\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttext: addButtonText\n\t\t\t\t\t});\n\n\t\t\t\t\taddButtonWrapper[0].replaceChild(addButton, addButtonMenu);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetDeliveryItemHandler: function(slider)\n\t\t{\n\t\t\tvar sliderIframe, innerDoc, className, serviceType, url;\n\t\t\tsliderIframe = slider.iframe;\n\t\t\tinnerDoc = sliderIframe.contentDocument || sliderIframe.contentWindow.document;\n\n\t\t\turl = new URL(window.location.href + slider.url);\n\t\t\tclassName = url.searchParams.get(\"CLASS_NAME\");\n\t\t\tserviceType = url.searchParams.get(\"SERVICE_TYPE\");\n\n\t\t\tthis.reloadDeliveryItem(className, serviceType);\n\t\t},\n\n\t\treloadDeliveryItem: function(className, serviceType)\n\t\t{\n\t\t\tvar self = this;\n\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t'bitrix:salescenter.control_panel',\n\t\t\t\t'reloadDeliveryItem',\n\t\t\t\t{\n\t\t\t\t\tmode: 'class',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tclassName: className,\n\t\t\t\t\t\tserviceType: serviceType,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(function(response)\n\t\t\t{\n\t\t\t\tif(response.data.menuItems && response.data.menuItems.length > 0)\n\t\t\t\t{\n\t\t\t\t\tself.itemSelected = response.data.itemSelected;\n\t\t\t\t\tif (self.itemSelected)\n\t\t\t\t\t{\n\t\t\t\t\t\tself.setSelected();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tself.setUnselected();\n\t\t\t\t\t}\n\n\t\t\t\t\tself.data.menuItems = response.data.menuItems;\n\t\t\t\t\tself.data.showMenu = response.data.showMenu;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tshowRestApplication: function(appCode)\n\t\t{\n\t\t\tvar applicationUrlTemplate = \"/marketplace/detail/#app#/\";\n\t\t\tvar url = applicationUrlTemplate.replace(\"#app#\", encodeURIComponent(appCode));\n\t\t\tBX.SidePanel.Instance.open(url, {\n\t\t\t\tallowChangeHistory: false,\n\t\t\t\tevents: {\n\t\t\t\t\tonClose: this.reload.bind(this, BX.SaleCenterDelivery.signedParameters)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\treload: function(signedParameters)\n\t\t{\n\t\t\tBX.ajax.runComponentAction(\n\t\t\t\t\"bitrix:salescenter.delivery.panel\",\n\t\t\t\t\"getComponentResult\",\n\t\t\t\t{\n\t\t\t\t\tmode: \"ajax\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsignedParameters: signedParameters,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(function(response)\n\t\t\t{\n\t\t\t\tBX.SaleCenterDelivery.reloadSlider(response.data);\n\t\t\t});\n\t\t}\n\t};\n})();\n"],"names":["BX","namespace","SaleCenterDelivery","delivery","signedParameters","init","config","deliveryParams","TileGrid","Grid","draw","reloadSlider","responseData","deliveryPanelParams","redraw","options","Item","apply","arguments","title","image","itemSelected","itemSelectedColor","itemSelectedImage","outerImage","layout","container","clipTitle","company","controls","buttonAction","price","data","prototype","__proto__","constructor","getContent","type","getItemCounter","wrapper","create","props","className","children","getImage","getTitle","getStatus","events","click","onClick","bind","setSelected","text","count","description","hasOwnProperty","hasOwnIcon","logo","style","backgroundSize","backgroundImage","encodeURI","addClass","backgroundColor","setUnselected","removeClass","content","querySelector","parentNode","removeChild","openRestAppLayout","applicationId","appCode","ajax","runComponentAction","code","then","response","app","TYPE","showRestApplication","rest","AppLayout","openApplication","restAppErrorPopup","errors","pop","message","UI","Dialogs","MessageBox","alert","messageBox","close","Loc","getMessage","sliderOptions","allowChangeHistory","onLoad","e","slider","getSlider","isOpen","url","indexOf","prepareDeliveryForm","onClose","setDeliveryItemHandler","onDestroy","showMenu","Salescenter","Manager","openSlider","connectPath","width","reload","showItemMenu","SidePanel","Instance","open","id","openFeedbackFormParams","feedbackConfig","handler","window","move","Marketplace","PLACEMENT","dataMove","contentCallback","item","menu","menuItemIndex","itemNode","menuitemId","util","getRandomString","filter","menuItems","DELIMITER","push","delimiter","FILTER","NAME","link","LINK","onclick","tile","moreTabsMenu","mode","PopupMenu","autoHide","offsetLeft","offsetTop","closeByEsc","onPopupClose","popupWindow","destroy","onPopupDestroy","show","sliderIframe","innerDoc","deliveryName","deliveryHandler","deliveryStores","iframe","contentDocument","contentWindow","document","getElementsByName","value","checked","eventChange","Event","dispatchEvent","setDeliveryListAddButton","addButtonWrapper","addButtonMenu","addButton","addButtonText","getElementsByClassName","innerText","href","replaceChild","serviceType","URL","location","searchParams","get","reloadDeliveryItem","self","length","applicationUrlTemplate","replace","encodeURIComponent"],"mappings":"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"}