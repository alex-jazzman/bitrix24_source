{"version":3,"file":"chart-store.bundle.map.js","names":["this","BX","Humanresources","exports","ui_vue3_pinia","humanresources_companyStructure_api","humanresources_companyStructure_chartStore","main_core","humanresources_companyStructure_utils","UserServiceClass","addUsersToEntity","entityId","users","userCount","role","_targetEntity$heads","_targetEntity$employe","store","useChartStore","targetEntity","departments","get","memberRoles","getMemberRoles","entityType","newMemberUserIds","Set","map","user","id","has","userId","changeCurrentDepartment","heads","filter","employees","employee","push","refreshMultipleUsers","removeUserFromEntity","entity","oldMemberRoles","head","key","String","nodeIds","multipleUsers","Type","isArray","filtered","Number","length","moveUserToEntity","targetEntityId","_entity$employees","targetMemberRoles","find","EntityTypes","department","entityIds","current","v","delete","add","moveUsersToEntity","updatedDepartmentIds","_entityDepartment$emp","entityDepartment","headsUserIds","newUsers","forEach","Object","prototype","hasOwnProperty","call","refreshDepartments","removeUserFromAllEntities","entities","entitiesToUpdate","some","getData","UserService","defineStore","state","Map","currentDepartments","focusedNode","searchedUserId","structureMap","actions","Promise","all","keys","existingDepartment","set","employeeListOptions","page","shouldUpdateList","isListUpdated","oldDepartmentId","newDepartmentId","departmentId","loadHeads","updateDepartment","departmentData","position","parentId","oldData","prevParent","_newParent$children","children","childId","newParent","isNumber","splice","prevParentId","updateChatsInChildrenNodes","parentNodeId","parentDepartment","markDescendantsForChatReload","childrenIds","queue","visited","maxIterations","iterations","shift","childDepartment","chatsDetailed","channelsDetailed","collabsDetailed","CompanyStructure","Vue3","Pinia"],"sources":["chart-store.bundle.js"],"mappings":"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","ignoreList":[]}