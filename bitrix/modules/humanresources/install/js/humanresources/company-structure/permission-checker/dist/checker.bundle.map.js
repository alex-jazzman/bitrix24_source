{"version":3,"file":"checker.bundle.map.js","names":["this","BX","Humanresources","exports","humanresources_companyStructure_api","humanresources_companyStructure_permissionChecker","main_core","humanresources_companyStructure_chartStore","humanresources_companyStructure_utils","createTreeDataStore","treeData","dataMap","Map","forEach","item","_dataMap$get","_dataMap$get2","_mapParentItem$childr","id","parentId","colorName","entityType","mapItem","get","teamColor","getNodeColorSettings","set","mapParentItem","children","chartAPI","removeDepartment","getData","nodeId","getDepartmentsData","tool","category","event","getCurrentDepartments","getDictionary","getUserId","firstTimeOpened","postData","updateDepartment","name","changeOrder","draggedId","direction","count","BasePermissionChecker","isCheckerAction","action","Error","hasPermission","permissionValue","minLevel","PermissionActions","Object","freeze","structureView","departmentCreate","departmentDelete","departmentEdit","employeeAddToDepartment","employeeRemoveFromDepartment","employeeFire","departmentCommunicationEdit","accessEdit","teamAccessEdit","inviteToDepartment","teamView","teamCreate","teamEdit","teamDelete","teamAddMember","teamRemoveMember","teamSettingsEdit","teamCommunicationEdit","PermissionLevels","fullCompany","selfAndSub","self","none","TeamPermissionChecker","constructor","departmentChecker","currentUserPermissions","super","teamActions","includes","entityId","minValue","isTeamPermissionInsufficient","TEAM","isDepartmentPermissionInsufficient","DEPARTMENT","entities","useChartStore","structureMap","currentNode","EntityTypes","department","PermissionChecker","hasPermissionByTeamPermission","hasPermissionByDepartmentPermission","level","userEntities","currentDepartments","userTeams","Set","filter","team","has","currentDepartment","userDepartments","DepartmentPermissionChecker","departmentActions","departmentId","Type","isNumber","departments","rootId","values","find","PermissionCheckerClass","instance","isTeamsAvailable","isCollabsAvailable","isDeputyApprovesBPAvailable","isInitialized","teamChecker","getInstance","init","teamsAvailable","collabsAvailable","deputyApprovesBP","permissionLevel","checkDeputyApprovalBPAvailable","hasPermissionOfAction","canSortEntitiesByParentId","entity","teamTeamMinValue","teamDepartmentMinValue","teamAction","departmentAction","canBeParentForEntity","type","CompanyStructure"],"sources":["checker.bundle.js"],"mappings":"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","ignoreList":[]}