{"version":3,"file":"checker.bundle.map.js","names":["this","BX","Humanresources","exports","humanresources_companyStructure_api","humanresources_companyStructure_permissionChecker","main_core","humanresources_companyStructure_chartStore","humanresources_companyStructure_utils","createTreeDataStore","treeData","dataMap","Map","forEach","item","_dataMap$get","_dataMap$get2","_mapParentItem$childr","id","parentId","colorName","entityType","mapItem","get","teamColor","getNodeColorSettings","set","mapParentItem","children","chartAPI","removeDepartment","getData","nodeId","getDepartmentsData","tool","category","event","getCurrentDepartments","getDictionary","getUserId","firstTimeOpened","postData","updateDepartment","name","changeOrder","draggedId","direction","count","BasePermissionChecker","isCheckerAction","action","Error","hasPermission","permissionValue","minLevel","PermissionActions","Object","freeze","structureView","departmentCreate","departmentDelete","departmentEdit","employeeAddToDepartment","employeeRemoveFromDepartment","employeeFire","departmentSettingsEdit","departmentChatEdit","departmentChannelEdit","departmentCollabEdit","accessEdit","teamAccessEdit","inviteToDepartment","teamView","teamCreate","teamEdit","teamDelete","teamAddMember","teamRemoveMember","teamSettingsEdit","teamChatEdit","teamChannelEdit","teamCollabEdit","PermissionLevels","fullCompany","selfAndSub","self","none","TeamPermissionChecker","constructor","departmentChecker","currentUserPermissions","super","teamActions","includes","entityId","minValue","isTeamPermissionInsufficient","TEAM","isDepartmentPermissionInsufficient","DEPARTMENT","entities","useChartStore","structureMap","currentNode","EntityTypes","department","PermissionChecker","hasPermissionByTeamPermission","hasPermissionByDepartmentPermission","level","userEntities","currentDepartments","userTeams","Set","filter","team","has","currentDepartment","userDepartments","DepartmentPermissionChecker","departmentActions","departmentId","Type","isNumber","departments","rootId","values","find","PermissionCheckerClass","instance","isTeamsAvailable","isCollabsAvailable","isDeputyApprovesBPAvailable","isInitialized","teamChecker","getInstance","init","teamsAvailable","collabsAvailable","deputyApprovesBP","departmentSettingsAvailable","isDepartmentSettingsAvailable","permissionLevel","checkDeputyApprovalBPAvailable","checkDepartmentSettingsAvailable","hasPermissionOfAction","canSortEntitiesByParentId","entity","teamTeamMinValue","teamDepartmentMinValue","teamAction","departmentAction","canBeParentForEntity","type","CompanyStructure"],"sources":["checker.bundle.js"],"mappings":"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","ignoreList":[]}