{"version":3,"file":"checker.bundle.map.js","names":["this","BX","Humanresources","exports","humanresources_companyStructure_api","humanresources_companyStructure_permissionChecker","main_core","humanresources_companyStructure_chartStore","humanresources_companyStructure_utils","createTreeDataStore","treeData","dataMap","Map","forEach","item","_dataMap$get","_dataMap$get2","_mapParentItem$childr","id","parentId","colorName","entityType","mapItem","get","teamColor","getNodeColorSettings","set","mapParentItem","children","chartAPI","removeDepartment","getData","nodeId","getDepartmentsData","tool","category","event","getCurrentDepartments","getDictionary","getUserId","firstTimeOpened","postData","updateDepartment","name","changeOrder","draggedId","direction","count","BasePermissionChecker","isCheckerAction","action","Error","hasPermission","permissionValue","minLevel","PermissionActions","Object","freeze","structureView","departmentCreate","departmentDelete","departmentEdit","employeeAddToDepartment","employeeRemoveFromDepartment","employeeFire","departmentCommunicationEdit","accessEdit","teamAccessEdit","inviteToDepartment","teamView","teamCreate","teamEdit","teamDelete","teamAddMember","teamRemoveMember","teamSettingsEdit","teamCommunicationEdit","PermissionLevels","fullCompany","selfAndSub","self","none","TeamPermissionChecker","constructor","departmentChecker","currentUserPermissions","super","teamActions","includes","entityId","minValue","isTeamPermissionInsufficient","TEAM","isDepartmentPermissionInsufficient","DEPARTMENT","departments","useChartStore","currentNode","EntityTypes","department","PermissionChecker","hasPermissionByTeamPermission","hasPermissionByDepartmentPermission","level","nodes","userEntities","currentDepartments","userTeams","Set","filter","team","has","currentDepartment","userDepartments","DepartmentPermissionChecker","departmentActions","departmentId","Type","isNumber","rootId","values","find","PermissionCheckerClass","instance","isTeamsAvailable","isInitialized","teamChecker","getInstance","init","teamsAvailable","permissionLevel","hasPermissionOfAction","canSortEntitiesByParentId","entities","entity","teamTeamMinValue","teamDepartmentMinValue","teamAction","departmentAction","canBeParentForEntity","type","CompanyStructure"],"sources":["checker.bundle.js"],"mappings":"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","ignoreList":[]}