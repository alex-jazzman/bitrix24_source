this.BX=this.BX||{},this.BX.Booking=this.BX.Booking||{},function(t,e,o,n,i){"use strict";function s(){var t,e,o;return((null==(t=n.Core.getStore())||null==(e=t.state)||null==(o=e[i.Model.Interface])?void 0:o.embedItems)||[]).some(t=>t.moduleId===i.Module.Crm)?i.AnalyticsCSection.crm:i.AnalyticsCSection.booking}function c(){const t=n.Core.getStore().state[i.Model.ResourceCreationWizard].resourceId||null;return e.Type.isNumber(t)}function a(t,e=[]){return e.some(({moduleId:t})=>t===i.Module.Crm)||t>0?"crm":"main_menu"}function r(t,e=[]){if(t>0)return"crm_business";if(0===e.length)return"";const o=new Set(e.map(({entityTypeId:t})=>t)),n=t=>o.has(t);return n(i.EntityTypeId.Lead)?"lead":n(i.EntityTypeId.Deal)?"deal":(()=>{const t=/^DYNAMIC_\d+$/;for(const e of o)if(t.test(e))return!0;return!1})()?"smart":n(i.EntityTypeId.Company)?"company":n(i.EntityTypeId.Contact)?"contact":""}t.BannerAnalytics=class{static sendShowPopup(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"show_popup",c_section:"booking"};o.sendData(t)}static sendClickEnable(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"click_enable",c_section:"booking"};o.sendData(t)}},t.BookingAnalytics=class{static sendAddMultiBookings(t){const e=n.Core.getStore(),c=s(),a=e.getters[i.Model.Bookings+"/overbookingMap"];for(const e of t){const t=a.has(e),n={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"add_booking",c_section:c,c_element:"multi_button",p1:"isMultiResource_Y",p2:t?"isOverbooking_Y":"isOverbooking_N",p3:"isWaitlist_N"};o.sendData(n)}}static sendAddBooking({isOverbooking:t,isWaitlist:e}){const n={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"add_booking",c_section:s(),c_element:"solo_button",p1:"isMultiResource_N",p2:t?"isOverbooking_Y":"isOverbooking_N",p3:e?"isWaitlist_Y":"isWaitlist_N"};o.sendData(n)}},t.RcwAnalytics=class{static sendClickAddResource(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.clickAddResource,c_section:s(),c_element:i.AnalyticsElement.addButton};o.sendData(t)}static sendAddResourceStep1(){var t;const e=n.Core.getStore();if(c())return;const a={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.addResourceStep1,c_section:s()};let r=(null==(t=e.getters[i.Model.ResourceCreationWizard+"/advertisingResourceType"])?void 0:t.code)||null;"none"===r&&(r="other"),r?(a.type=r,o.sendData(a)):console.error("Booking.RCW. Code not found")}static sendAddResourceStep2(){const t=n.Core.getStore();if(c())return;const e={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.addResourceStep2,c_section:s(),p1:t.state[i.Model.ResourceCreationWizard].resource.isMain?"renderType_main":"renderType_additional",p2:t.state[i.Model.ResourceCreationWizard].globalSchedule?"setSchedule_Y":"setSchedule_N",p3:(()=>{switch(t.state[i.Model.ResourceCreationWizard].slotLengthId/60){case 1:return"slotLength_1h";case 2:return"slotLength_2h";case 24:return"slotLength_24h";case 168:return"slotLength_7d";default:return"slotLength_custom"}})()};o.sendData(e)}static sendAddResourceFinish(){const t=n.Core.getStore();if(c())return;const e=t.getters[i.Model.Notifications+"/isCurrentSenderAvailable"],a=t.state[i.Model.ResourceCreationWizard].resource,r={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.addResourceFinish,c_section:s(),p1:e&&a.isInfoNotificationOn?"infoNotification_Y":"infoNotification_N",p2:e&&a.isConfirmationNotificationOn?"confirmationNotification_Y":"confirmationNotification_N",p3:e&&a.isReminderNotificationOn?"reminderNotification_Y":"reminderNotification_N",p4:e&&a.isDelayedNotificationOn?"delayedNotification_Y":"delayedNotification_N",p5:e&&a.isFeedbackNotificationOn?"feedbackNotification_Y":"feedbackNotification_N"};o.sendData(r)}static sendAcceptAgreement({accepted:t}){if(c())return;const e={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.acceptAgreement,c_section:s(),c_sub_section:t?"accept":"deny"};o.sendData(e)}},t.SectionAnalytics=class{static sendOpenSection(){const t=n.Core.getStore(),e=t.getters[i.Model.Interface+"/embedItems"],s=t.getters[i.Model.Interface+"/editingBookingId"]||0,c={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"open_section",c_section:a(s,e),c_sub_section:r(s,e)};o.sendData(c)}}}(this.BX.Booking.Lib=this.BX.Booking.Lib||{},BX,BX.UI.Analytics,BX.Booking,BX.Booking.Const);
//# sourceMappingURL=analytics.bundle.js.map
