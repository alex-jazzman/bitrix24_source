this.BX=this.BX||{},this.BX.Booking=this.BX.Booking||{},function(t,o,e,n,i){"use strict";function s(){var t,o,n;return((null==(t=e.Core.getStore())||null==(o=t.state)||null==(n=o[i.Model.Interface])?void 0:n.embedItems)||[]).some(t=>t.moduleId===i.Module.Crm)?i.AnalyticsCSection.crm:i.AnalyticsCSection.booking}function c(){const t=e.Core.getStore().state[i.Model.ResourceCreationWizard].resourceId||null;return o.Type.isNumber(t)}function a(t,o=[]){return o.some(({moduleId:t})=>t===i.Module.Crm)||t>0?"crm":"main_menu"}function r(t,o=[]){if(t>0)return"crm_business";if(0===o.length)return"";const e=new Set(o.map(({entityTypeId:t})=>t)),n=t=>e.has(t);return n(i.EntityTypeId.Lead)?"lead":n(i.EntityTypeId.Deal)?"deal":(()=>{const t=/^DYNAMIC_\d+$/;for(const o of e)if(t.test(o))return!0;return!1})()?"smart":n(i.EntityTypeId.Company)?"company":n(i.EntityTypeId.Contact)?"contact":""}t.BannerAnalytics=class{static sendShowPopup(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"show_popup",c_section:"booking"};n.sendData(t)}static sendClickEnable(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"click_enable",c_section:"booking"};n.sendData(t)}},t.BookingAnalytics=class{static sendAddMultiBookings(t){const o=e.Core.getStore(),c=s(),a=o.getters[i.Model.Bookings+"/overbookingMap"];for(const o of t){const t=a.has(o),e={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"add_booking",c_section:c,c_element:"multi_button",p1:"isMultiResource_Y",p2:t?"isOverbooking_Y":"isOverbooking_N",p3:"isWaitlist_N"};n.sendData(e)}}static sendAddBooking({isOverbooking:t}={}){const o={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"add_booking",c_section:s(),c_element:"solo_button",p1:"isMultiResource_N",p2:t?"isOverbooking_Y":"isOverbooking_N",p3:"isWaitlist_N"};n.sendData(o)}static sendAddWaitListItem(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"add_booking",c_section:s(),c_element:"solo_button",p1:"isMultiResource_N",p2:"isOverbooking_N",p3:"isWaitlist_Y"};n.sendData(t)}},t.RcwAnalytics=class{static sendClickAddResource(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.clickAddResource,c_section:s(),c_element:i.AnalyticsElement.addButton};n.sendData(t)}static sendAddResourceStep1(){var t;const o=e.Core.getStore();if(c())return;const a={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.addResourceStep1,c_section:s()};let r=(null==(t=o.getters[i.Model.ResourceCreationWizard+"/advertisingResourceType"])?void 0:t.code)||null;"none"===r&&(r="other"),r?(a.type=r,n.sendData(a)):console.error("Booking.RCW. Code not found")}static sendAddResourceStep2(){const t=e.Core.getStore();if(c())return;const o={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.addResourceStep2,c_section:s(),p1:t.state[i.Model.ResourceCreationWizard].resource.isMain?"renderType_main":"renderType_additional",p2:t.state[i.Model.ResourceCreationWizard].globalSchedule?"setSchedule_Y":"setSchedule_N",p3:(()=>{switch(t.state[i.Model.ResourceCreationWizard].slotLengthId/60){case 1:return"slotLength_1h";case 2:return"slotLength_2h";case 24:return"slotLength_24h";case 168:return"slotLength_7d";default:return"slotLength_custom"}})()};n.sendData(o)}static sendAddResourceFinish(){const t=e.Core.getStore();if(c())return;const o=t.getters[i.Model.Notifications+"/isCurrentSenderAvailable"],a=t.state[i.Model.ResourceCreationWizard].resource,r={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.addResourceFinish,c_section:s(),p1:o&&a.isInfoNotificationOn?"infoNotification_Y":"infoNotification_N",p2:o&&a.isConfirmationNotificationOn?"confirmationNotification_Y":"confirmationNotification_N",p3:o&&a.isReminderNotificationOn?"reminderNotification_Y":"reminderNotification_N",p4:o&&a.isDelayedNotificationOn?"delayedNotification_Y":"delayedNotification_N",p5:o&&a.isFeedbackNotificationOn?"feedbackNotification_Y":"feedbackNotification_N"};n.sendData(r)}static sendAcceptAgreement({accepted:t}){if(c())return;const o={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:i.AnalyticsEvent.acceptAgreement,c_section:s(),c_sub_section:t?"accept":"deny"};n.sendData(o)}},t.SectionAnalytics=class{static sendOpenSection(){const t=e.Core.getStore(),o=t.getters[i.Model.Interface+"/embedItems"],s=t.getters[i.Model.Interface+"/editingBookingId"]||0,c={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.booking,event:"open_section",c_section:a(s,o),c_sub_section:r(s,o)};n.sendData(c)}},t.WaitListAnalytics=class{static sendAddBooking(){const t={tool:i.AnalyticsTool.booking,category:i.AnalyticsCategory.waitlist,c_section:s(),event:"add_booking",c_element:"add_button"};n.sendData(t)}}}(this.BX.Booking.Lib=this.BX.Booking.Lib||{},BX,BX.Booking,BX.UI.Analytics,BX.Booking.Const);
//# sourceMappingURL=analytics.bundle.js.map
