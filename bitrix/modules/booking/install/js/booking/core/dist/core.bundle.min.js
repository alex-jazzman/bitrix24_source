this.BX=this.BX||{};(function(e,s,a,l,i,t,o,r,d,n,c,b,B,u,v){"use strict";var p=babelHelpers.classPrivateFieldLooseKey("params");var P=babelHelpers.classPrivateFieldLooseKey("store");var h=babelHelpers.classPrivateFieldLooseKey("builder");var F=babelHelpers.classPrivateFieldLooseKey("initPromise");var H=babelHelpers.classPrivateFieldLooseKey("pullManager");var L=babelHelpers.classPrivateFieldLooseKey("initStore");var y=babelHelpers.classPrivateFieldLooseKey("initPull");class M{constructor(){Object.defineProperty(this,y,{value:m});Object.defineProperty(this,L,{value:g});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:null})}setParams(e){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e}getParams(){return babelHelpers.classPrivateFieldLooseBase(this,p)[p]}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}async init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,F))[F])!=null?s:e[F]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,P)[P]=await babelHelpers.classPrivateFieldLooseBase(this,L)[L]();babelHelpers.classPrivateFieldLooseBase(this,y)[y]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,F)[F]}async addDynamicModule(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,h)[h]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,P)[P].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,h)[h].addDynamicModel(e)}removeDynamicModule(e){if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,P)[P].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,h)[h].removeDynamicModel(e)}}}async function g(){const e=s.Extension.getSettings("booking.core");babelHelpers.classPrivateFieldLooseBase(this,h)[h]=a.Builder.init().addModel(i.Bookings.create()).addModel(t.MessageStatus.create()).addModel(o.Clients.create()).addModel(r.Counters.create()).addModel(d.Interface.create().setVariables({schedule:e.schedule,editingBookingId:babelHelpers.classPrivateFieldLooseBase(this,p)[p].editingBookingId,timezone:babelHelpers.classPrivateFieldLooseBase(this,p)[p].timezone,totalClients:babelHelpers.classPrivateFieldLooseBase(this,p)[p].totalClients,totalNewClientsToday:babelHelpers.classPrivateFieldLooseBase(this,p)[p].totalClientsToday,moneyStatistics:babelHelpers.classPrivateFieldLooseBase(this,p)[p].moneyStatistics,isFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,p)[p].isFeatureEnabled,canTurnOnTrial:babelHelpers.classPrivateFieldLooseBase(this,p)[p].canTurnOnTrial,canTurnOnDemo:babelHelpers.classPrivateFieldLooseBase(this,p)[p].canTurnOnDemo,embedItems:babelHelpers.classPrivateFieldLooseBase(this,p)[p].embedItems.map((e=>({value:e.id,entityTypeId:e.code,moduleId:e.module,data:{opportunity:0,currencyId:"",createdTimestamp:0,formattedOpportunity:""}})))})).addModel(n.ResourceTypes.create()).addModel(c.Resources.create()).addModel(b.Favorites.create()).addModel(B.Dictionary.create()).addModel(u.MainResources.create());const l=await babelHelpers.classPrivateFieldLooseBase(this,h)[h].build();return l.store}function m(){babelHelpers.classPrivateFieldLooseBase(this,H)[H]=new v.BookingPullManager({currentUserId:babelHelpers.classPrivateFieldLooseBase(this,p)[p].currentUserId});babelHelpers.classPrivateFieldLooseBase(this,H)[H].initQueueManager()}const k=new M;e.Core=k})(this.BX.Booking=this.BX.Booking||{},BX,BX.Vue3.Vuex,BX.Booking.Const,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Provider.Pull);
//# sourceMappingURL=core.bundle.map.js