this.BX=this.BX||{};(function(e,s,a,i,l,t,o,r,d,n,c,b,B,u,v,p,P){"use strict";var h=babelHelpers.classPrivateFieldLooseKey("params");var L=babelHelpers.classPrivateFieldLooseKey("store");var F=babelHelpers.classPrivateFieldLooseKey("builder");var H=babelHelpers.classPrivateFieldLooseKey("initPromise");var M=babelHelpers.classPrivateFieldLooseKey("pullManager");var g=babelHelpers.classPrivateFieldLooseKey("initStore");var y=babelHelpers.classPrivateFieldLooseKey("initPull");class m{constructor(){Object.defineProperty(this,y,{value:X});Object.defineProperty(this,g,{value:k});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,M,{writable:true,value:null})}setParams(e){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=e}getParams(){return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,L)[L]}async init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,H))[H])!=null?s:e[H]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L]=await babelHelpers.classPrivateFieldLooseBase(this,g)[g]();babelHelpers.classPrivateFieldLooseBase(this,y)[y]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,H)[H]}async addDynamicModule(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,F)[F]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,F)[F].addDynamicModel(e)}removeDynamicModule(e){if(babelHelpers.classPrivateFieldLooseBase(this,F)[F]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,F)[F].removeDynamicModel(e)}}}async function k(){const e=s.Extension.getSettings("booking.core");babelHelpers.classPrivateFieldLooseBase(this,F)[F]=a.Builder.init().addModel(l.Bookings.create()).addModel(t.MessageStatus.create()).addModel(o.Clients.create()).addModel(r.Counters.create()).addModel(d.Interface.create().setVariables({schedule:e.schedule,editingBookingId:babelHelpers.classPrivateFieldLooseBase(this,h)[h].editingBookingId,editingWaitListItemId:babelHelpers.classPrivateFieldLooseBase(this,h)[h].editingWaitListItemId,timezone:babelHelpers.classPrivateFieldLooseBase(this,h)[h].timezone,totalClients:babelHelpers.classPrivateFieldLooseBase(this,h)[h].totalClients,totalNewClientsToday:babelHelpers.classPrivateFieldLooseBase(this,h)[h].totalClientsToday,moneyStatistics:babelHelpers.classPrivateFieldLooseBase(this,h)[h].moneyStatistics,isFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,h)[h].isFeatureEnabled,canTurnOnTrial:babelHelpers.classPrivateFieldLooseBase(this,h)[h].canTurnOnTrial,canTurnOnDemo:babelHelpers.classPrivateFieldLooseBase(this,h)[h].canTurnOnDemo,embedItems:babelHelpers.classPrivateFieldLooseBase(this,h)[h].embedItems.map((e=>({value:e.id,entityTypeId:e.code,moduleId:e.module,data:{opportunity:0,currencyId:"",createdTimestamp:0,formattedOpportunity:""}}))),calendarExpanded:babelHelpers.classPrivateFieldLooseBase(this,h)[h].isCalendarExpanded,waitListExpanded:babelHelpers.classPrivateFieldLooseBase(this,h)[h].isWaitListExpanded})).addModel(n.ResourceTypes.create()).addModel(c.Resources.create()).addModel(b.Favorites.create()).addModel(B.Dictionary.create()).addModel(u.MainResources.create()).addModel(v.WaitList.create()).addModel(p.FormsMenu.create());const i=await babelHelpers.classPrivateFieldLooseBase(this,F)[F].build();return i.store}function X(){babelHelpers.classPrivateFieldLooseBase(this,M)[M]=new P.BookingPullManager({currentUserId:babelHelpers.classPrivateFieldLooseBase(this,h)[h].currentUserId});babelHelpers.classPrivateFieldLooseBase(this,M)[M].initQueueManager()}const f=new m;e.Core=f})(this.BX.Booking=this.BX.Booking||{},BX,BX.Vue3.Vuex,BX.Booking.Const,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Provider.Pull);
//# sourceMappingURL=core.bundle.map.js