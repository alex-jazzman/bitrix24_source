this.BX=this.BX||{};(function(e,s,a,i,l,t,o,r,d,n,c,b,B,u,v,p,P,h){"use strict";var F=babelHelpers.classPrivateFieldLooseKey("params");var L=babelHelpers.classPrivateFieldLooseKey("store");var H=babelHelpers.classPrivateFieldLooseKey("builder");var M=babelHelpers.classPrivateFieldLooseKey("initPromise");var g=babelHelpers.classPrivateFieldLooseKey("pullManager");var y=babelHelpers.classPrivateFieldLooseKey("initStore");var m=babelHelpers.classPrivateFieldLooseKey("initPull");class k{constructor(){Object.defineProperty(this,m,{value:f});Object.defineProperty(this,y,{value:X});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,M,{writable:true,value:void 0});Object.defineProperty(this,g,{writable:true,value:null})}setParams(e){babelHelpers.classPrivateFieldLooseBase(this,F)[F]=e}getParams(){return babelHelpers.classPrivateFieldLooseBase(this,F)[F]}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,L)[L]}async init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,M))[M])!=null?s:e[M]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L]=await babelHelpers.classPrivateFieldLooseBase(this,y)[y]();babelHelpers.classPrivateFieldLooseBase(this,m)[m]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,M)[M]}async addDynamicModule(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,H)[H]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,H)[H].addDynamicModel(e)}removeDynamicModule(e){if(babelHelpers.classPrivateFieldLooseBase(this,H)[H]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,L)[L].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,H)[H].removeDynamicModel(e)}}}async function X(){const e=s.Extension.getSettings("booking.core");babelHelpers.classPrivateFieldLooseBase(this,H)[H]=a.Builder.init().addModel(l.Bookings.create()).addModel(t.MessageStatus.create()).addModel(o.Clients.create()).addModel(r.Counters.create()).addModel(d.Interface.create().setVariables({schedule:e.schedule,editingBookingId:babelHelpers.classPrivateFieldLooseBase(this,F)[F].editingBookingId,editingWaitListItemId:babelHelpers.classPrivateFieldLooseBase(this,F)[F].editingWaitListItemId,timezone:babelHelpers.classPrivateFieldLooseBase(this,F)[F].timezone,totalClients:babelHelpers.classPrivateFieldLooseBase(this,F)[F].totalClients,totalNewClientsToday:babelHelpers.classPrivateFieldLooseBase(this,F)[F].totalClientsToday,moneyStatistics:babelHelpers.classPrivateFieldLooseBase(this,F)[F].moneyStatistics,isFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,F)[F].isFeatureEnabled,canTurnOnTrial:babelHelpers.classPrivateFieldLooseBase(this,F)[F].canTurnOnTrial,canTurnOnDemo:babelHelpers.classPrivateFieldLooseBase(this,F)[F].canTurnOnDemo,embedItems:babelHelpers.classPrivateFieldLooseBase(this,F)[F].embedItems.map((e=>({value:e.id,entityTypeId:e.code,moduleId:e.module,data:{opportunity:0,currencyId:"",createdTimestamp:0,formattedOpportunity:""}}))),calendarExpanded:babelHelpers.classPrivateFieldLooseBase(this,F)[F].isCalendarExpanded,waitListExpanded:babelHelpers.classPrivateFieldLooseBase(this,F)[F].isWaitListExpanded})).addModel(n.ResourceTypes.create()).addModel(c.Resources.create()).addModel(b.Favorites.create()).addModel(B.Dictionary.create()).addModel(u.MainResources.create()).addModel(v.WaitList.create()).addModel(P.Filter.create()).addModel(h.FormsMenu.create());const i=await babelHelpers.classPrivateFieldLooseBase(this,H)[H].build();return i.store}function f(){babelHelpers.classPrivateFieldLooseBase(this,g)[g]=new p.BookingPullManager({currentUserId:babelHelpers.classPrivateFieldLooseBase(this,F)[F].currentUserId});babelHelpers.classPrivateFieldLooseBase(this,g)[g].initQueueManager()}const w=new k;e.Core=w})(this.BX.Booking=this.BX.Booking||{},BX,BX.Vue3.Vuex,BX.Booking.Const,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Provider.Pull,BX.Booking.Model,BX.Booking.Model);
//# sourceMappingURL=core.bundle.map.js