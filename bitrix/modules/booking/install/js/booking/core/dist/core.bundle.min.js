this.BX=this.BX||{};(function(e,s,a,i,l,t,o,r,d,n,b,c,B,u,v,p){"use strict";var P=babelHelpers.classPrivateFieldLooseKey("params");var h=babelHelpers.classPrivateFieldLooseKey("store");var L=babelHelpers.classPrivateFieldLooseKey("builder");var F=babelHelpers.classPrivateFieldLooseKey("initPromise");var H=babelHelpers.classPrivateFieldLooseKey("pullManager");var y=babelHelpers.classPrivateFieldLooseKey("initStore");var g=babelHelpers.classPrivateFieldLooseKey("initPull");class M{constructor(){Object.defineProperty(this,g,{value:k});Object.defineProperty(this,y,{value:m});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:null})}setParams(e){babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e}getParams(){return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}async init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,F))[F])!=null?s:e[F]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,h)[h]=await babelHelpers.classPrivateFieldLooseBase(this,y)[y]();babelHelpers.classPrivateFieldLooseBase(this,g)[g]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,F)[F]}async addDynamicModule(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,L)[L]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,h)[h].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,L)[L].addDynamicModel(e)}removeDynamicModule(e){if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,h)[h].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,L)[L].removeDynamicModel(e)}}}async function m(){const e=s.Extension.getSettings("booking.core");babelHelpers.classPrivateFieldLooseBase(this,L)[L]=a.Builder.init().addModel(l.Bookings.create()).addModel(t.MessageStatus.create()).addModel(o.Clients.create()).addModel(r.Counters.create()).addModel(d.Interface.create().setVariables({schedule:e.schedule,editingBookingId:babelHelpers.classPrivateFieldLooseBase(this,P)[P].editingBookingId,editingWaitListItemId:babelHelpers.classPrivateFieldLooseBase(this,P)[P].editingWaitListItemId,timezone:babelHelpers.classPrivateFieldLooseBase(this,P)[P].timezone,totalClients:babelHelpers.classPrivateFieldLooseBase(this,P)[P].totalClients,totalNewClientsToday:babelHelpers.classPrivateFieldLooseBase(this,P)[P].totalClientsToday,moneyStatistics:babelHelpers.classPrivateFieldLooseBase(this,P)[P].moneyStatistics,isFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,P)[P].isFeatureEnabled,canTurnOnTrial:babelHelpers.classPrivateFieldLooseBase(this,P)[P].canTurnOnTrial,canTurnOnDemo:babelHelpers.classPrivateFieldLooseBase(this,P)[P].canTurnOnDemo,embedItems:babelHelpers.classPrivateFieldLooseBase(this,P)[P].embedItems.map((e=>({value:e.id,entityTypeId:e.code,moduleId:e.module,data:{opportunity:0,currencyId:"",createdTimestamp:0,formattedOpportunity:""}}))),calendarExpanded:babelHelpers.classPrivateFieldLooseBase(this,P)[P].isCalendarExpanded,waitListExpanded:babelHelpers.classPrivateFieldLooseBase(this,P)[P].isWaitListExpanded})).addModel(n.ResourceTypes.create()).addModel(b.Resources.create()).addModel(c.Favorites.create()).addModel(B.Dictionary.create()).addModel(u.MainResources.create()).addModel(v.WaitList.create());const i=await babelHelpers.classPrivateFieldLooseBase(this,L)[L].build();return i.store}function k(){babelHelpers.classPrivateFieldLooseBase(this,H)[H]=new p.BookingPullManager({currentUserId:babelHelpers.classPrivateFieldLooseBase(this,P)[P].currentUserId});babelHelpers.classPrivateFieldLooseBase(this,H)[H].initQueueManager()}const X=new M;e.Core=X})(this.BX.Booking=this.BX.Booking||{},BX,BX.Vue3.Vuex,BX.Booking.Const,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Model,BX.Booking.Provider.Pull);
//# sourceMappingURL=core.bundle.map.js