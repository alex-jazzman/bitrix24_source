this.BX=this.BX||{};this.BX.Booking=this.BX.Booking||{};this.BX.Booking.Provider=this.BX.Booking.Provider||{};(function(e,t,s,i,a){"use strict";var o=babelHelpers.classPrivateFieldLooseKey("data");class r{constructor(e){Object.defineProperty(this,o,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e}getAdvertisingTypes(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,o)[o].advertisingResourceTypes)!=null?e:[]}getNotifications(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].notificationsSettings.notifications}getSenders(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].notificationsSettings.senders}getCompanyScheduleSlots(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].companyScheduleSlots}isCompanyScheduleAccess(){return Boolean(babelHelpers.classPrivateFieldLooseBase(this,o)[o].isCompanyScheduleAccess)}getCompanyScheduleUrl(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].companyScheduleUrl}getWeekStart(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].weekStart}isChannelChoiceAvailable(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].isChannelChoiceAvailable}}class n{async fetchData(){await this.loadData()}async loadData(){try{const e=await i.apiClient.post("ResourceWizard.get",{});const t=new r(e);const a=s.Model.ResourceCreationWizard;await Promise.all([this.$store.dispatch(`${a}/setAdvertisingTypes`,t.getAdvertisingTypes()),this.$store.dispatch(`${a}/setCompanyScheduleSlots`,t.getCompanyScheduleSlots()),this.$store.dispatch(`${a}/setCompanyScheduleAccess`,t.isCompanyScheduleAccess()),this.$store.dispatch(`${a}/setCompanyScheduleUrl`,t.getCompanyScheduleUrl()),this.$store.dispatch(`${a}/setWeekStart`,t.getWeekStart()),this.$store.dispatch(`${a}/setIsChannelChoiceAvailable`,t.isChannelChoiceAvailable()),this.$store.dispatch(`${s.Model.Notifications}/upsertMany`,t.getNotifications()),this.$store.dispatch(`${s.Model.Notifications}/upsertManySenders`,t.getSenders())])}catch(e){console.error("ResourceCreationWizardService loadData error",e)}}async updateNotificationExpanded(e,t){await this.$store.dispatch(`${s.Model.Notifications}/setIsExpanded`,{type:e,isExpanded:t});const i=Object.fromEntries(this.$store.getters[`${s.Model.Notifications}/get`].map((e=>[e.type,e.isExpanded])));try{await a.optionService.set(s.Option.NotificationsExpanded,JSON.stringify(i))}catch(i){await this.$store.dispatch(`${s.Model.Notifications}/setIsExpanded`,{type:e,isExpanded:!t});console.error("ResourceCreationWizardService updateNotificationExpanded error",i)}}get $store(){return t.Core.getStore()}}const c=new n;e.resourceCreationWizardService=c})(this.BX.Booking.Provider.Service=this.BX.Booking.Provider.Service||{},BX.Booking,BX.Booking.Const,BX.Booking.Lib,BX.Booking.Provider.Service);
//# sourceMappingURL=resource-creation-wizard-service.bundle.map.js