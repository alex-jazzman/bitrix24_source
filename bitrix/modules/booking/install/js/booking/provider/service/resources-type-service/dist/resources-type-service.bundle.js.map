{"version":3,"file":"resources-type-service.bundle.js","sources":["../src/mappers.js","../src/resources-type-service.js","../src/index.js"],"sourcesContent":["import { ResourceTypeModel } from 'booking.model.resource-types';\nimport { ResourceTypeDto } from './types';\n\nexport function mapDtoToModel(resourceTypeDto: ResourceTypeDto): ResourceTypeModel\n{\n\treturn {\n\t\tid: resourceTypeDto.id,\n\t\tmoduleId: resourceTypeDto.moduleId,\n\t\tname: resourceTypeDto.name,\n\t\tcode: resourceTypeDto.code,\n\t\tresourcesCnt: resourceTypeDto.resourcesCnt,\n\n\t\t// info\n\t\tisInfoNotificationOn: resourceTypeDto.isInfoNotificationOn,\n\t\ttemplateTypeInfo: resourceTypeDto.templateTypeInfo,\n\t\tinfoNotificationDelay: resourceTypeDto.infoNotificationDelay,\n\n\t\t// confirmation\n\t\tisConfirmationNotificationOn: resourceTypeDto.isConfirmationNotificationOn,\n\t\ttemplateTypeConfirmation: resourceTypeDto.templateTypeConfirmation,\n\t\tconfirmationNotificationDelay: resourceTypeDto.confirmationNotificationDelay,\n\t\tconfirmationNotificationRepetitions: resourceTypeDto.confirmationNotificationRepetitions,\n\t\tconfirmationNotificationRepetitionsInterval: resourceTypeDto.confirmationNotificationRepetitionsInterval,\n\t\tconfirmationCounterDelay: resourceTypeDto.confirmationCounterDelay,\n\n\t\t// reminder\n\t\tisReminderNotificationOn: resourceTypeDto.isReminderNotificationOn,\n\t\ttemplateTypeReminder: resourceTypeDto.templateTypeReminder,\n\t\treminderNotificationDelay: resourceTypeDto.reminderNotificationDelay,\n\n\t\t// delayed\n\t\tisDelayedNotificationOn: resourceTypeDto.isDelayedNotificationOn,\n\t\ttemplateTypeDelayed: resourceTypeDto.templateTypeDelayed,\n\t\tdelayedNotificationDelay: resourceTypeDto.delayedNotificationDelay,\n\t\tdelayedCounterDelay: resourceTypeDto.delayedCounterDelay,\n\n\t\t// feedback\n\t\tisFeedbackNotificationOn: resourceTypeDto.isFeedbackNotificationOn,\n\t\ttemplateTypeFeedback: resourceTypeDto.templateTypeFeedback,\n\t};\n}\n\nexport function mapModelToDto(resourceType: ResourceTypeModel): ResourceTypeDto\n{\n\treturn {\n\t\tid: resourceType.id,\n\t\tmoduleId: resourceType.moduleId,\n\t\tname: resourceType.name,\n\t\tcode: resourceType.code,\n\t\tresourcesCnt: resourceType.resourcesCnt,\n\n\t\t// info\n\t\tisInfoNotificationOn: resourceType.isInfoNotificationOn,\n\t\ttemplateTypeInfo: resourceType.templateTypeInfo,\n\t\tinfoNotificationDelay: resourceType.infoNotificationDelay,\n\n\t\t// confirmation\n\t\tisConfirmationNotificationOn: resourceType.isConfirmationNotificationOn,\n\t\ttemplateTypeConfirmation: resourceType.templateTypeConfirmation,\n\t\tconfirmationNotificationDelay: resourceType.confirmationNotificationDelay,\n\t\tconfirmationNotificationRepetitions: resourceType.confirmationNotificationRepetitions,\n\t\tconfirmationNotificationRepetitionsInterval: resourceType.confirmationNotificationRepetitionsInterval,\n\t\tconfirmationCounterDelay: resourceType.confirmationCounterDelay,\n\n\t\t// reminder\n\t\tisReminderNotificationOn: resourceType.isReminderNotificationOn,\n\t\ttemplateTypeReminder: resourceType.templateTypeReminder,\n\t\treminderNotificationDelay: resourceType.reminderNotificationDelay,\n\n\t\t// delayed\n\t\tisDelayedNotificationOn: resourceType.isDelayedNotificationOn,\n\t\ttemplateTypeDelayed: resourceType.templateTypeDelayed,\n\t\tdelayedNotificationDelay: resourceType.delayedNotificationDelay,\n\t\tdelayedCounterDelay: resourceType.delayedCounterDelay,\n\n\t\t// feedback\n\t\tisFeedbackNotificationOn: resourceType.isFeedbackNotificationOn,\n\t\ttemplateTypeFeedback: resourceType.templateTypeFeedback,\n\t};\n}\n","import { Core } from 'booking.core';\nimport { ApiClient } from 'booking.lib.api-client';\nimport { ResourceTypeModel } from 'booking.model.resource-types';\nimport { mapModelToDto, mapDtoToModel } from './mappers';\nimport type { ResourceTypeDto } from './types';\n\nclass ResourceTypeService\n{\n\tasync add(resourceType: ResourceTypeModel): Promise<ResourceTypeModel>\n\t{\n\t\tlet createdResourceType = null;\n\n\t\ttry\n\t\t{\n\t\t\tconst resourceDto: ResourceTypeDto = mapModelToDto(resourceType);\n\t\t\tconst data = await (new ApiClient()).post(\n\t\t\t\t'ResourceType.add',\n\t\t\t\t{ resourceType: resourceDto },\n\t\t\t);\n\t\t\tcreatedResourceType = mapDtoToModel(data);\n\n\t\t\tvoid Core.getStore().dispatch('resourceTypes/upsert', createdResourceType);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('ResourceTypeService: add error', error);\n\t\t}\n\n\t\treturn createdResourceType;\n\t}\n\n\tasync update(resourceType: ResourceTypeModel): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst resourceDto: ResourceTypeDto = mapModelToDto(resourceType);\n\t\t\tconst data = await (new ApiClient()).post(\n\t\t\t\t'ResourceType.update',\n\t\t\t\t{ resourceType: resourceDto },\n\t\t\t);\n\n\t\t\tvoid Core.getStore().dispatch('resourceTypes/upsert', mapDtoToModel(data));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('ResourceTypeService: update error', error);\n\t\t}\n\t}\n\n\tasync delete(resourceTypeId: number): Promise<void>\n\t{\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport const resourceTypeService = new ResourceTypeService();\n","import { mapModelToDto, mapDtoToModel } from './mappers';\n\nexport { resourceTypeService } from './resources-type-service';\nexport const ResourceTypeMappers = { mapModelToDto, mapDtoToModel };\nexport type { ResourceTypeDto } from './types';\n"],"names":["mapDtoToModel","resourceTypeDto","id","moduleId","name","code","resourcesCnt","isInfoNotificationOn","templateTypeInfo","infoNotificationDelay","isConfirmationNotificationOn","templateTypeConfirmation","confirmationNotificationDelay","confirmationNotificationRepetitions","confirmationNotificationRepetitionsInterval","confirmationCounterDelay","isReminderNotificationOn","templateTypeReminder","reminderNotificationDelay","isDelayedNotificationOn","templateTypeDelayed","delayedNotificationDelay","delayedCounterDelay","isFeedbackNotificationOn","templateTypeFeedback","mapModelToDto","resourceType","ResourceTypeService","add","createdResourceType","resourceDto","data","ApiClient","post","Core","getStore","dispatch","error","console","update","delete","resourceTypeId","Promise","resolve","resourceTypeService","ResourceTypeMappers"],"mappings":"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"}