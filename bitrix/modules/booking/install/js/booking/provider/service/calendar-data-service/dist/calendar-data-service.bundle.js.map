{"version":3,"file":"calendar-data-service.bundle.js","sources":["../src/calendar-data-service.js","../src/mapper.js"],"sourcesContent":["import { Core } from 'booking.core';\nimport { Model } from 'booking.const';\nimport { apiClient } from 'booking.lib.api-client';\n\nimport { mapDtoToModel } from './mapper';\n\nexport class CalendarDataService\n{\n\tasync loadBookingInfo(bookingId: number): Promise<mixed>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst bookingInfoDto = await apiClient.post('CalendarData.bookingInfo', { bookingId });\n\n\t\t\tawait Core.getStore().dispatch(`${Model.BookingInfo}/setBookingInfo`, mapDtoToModel(bookingInfoDto));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('CalendarDataService. Load booking info error', error);\n\t\t}\n\t}\n}\n\nexport const calendarDataService = new CalendarDataService();\n","import type { BookingInfoModel } from 'booking.model.booking-info';\nimport type { BookingInfoResponse } from './types';\n\nexport function mapDtoToModel(bookingInfoDto: BookingInfoResponse): BookingInfoModel\n{\n\treturn {\n\t\tid: bookingInfoDto.id,\n\t\tresources: bookingInfoDto.resources || [],\n\t\tservices: bookingInfoDto.services || [],\n\t\tclient: bookingInfoDto.client,\n\t\tnote: bookingInfoDto.note ?? '',\n\t};\n}\n"],"names":["CalendarDataService","[object Object]","bookingId","bookingInfoDto","apiClient","post","Core","getStore","dispatch","Model","BookingInfo","id","resources","services","client","note","mapDtoToModel","error","console","calendarDataService"],"mappings":"mJAMaA,EAEZC,sBAAsBC,GAErB,IAEC,MAAMC,QAAuBC,YAAUC,KAAK,2BAA4B,CAAEH,UAAAA,UAEpEI,OAAKC,WAAWC,SAAYC,QAAMC,YAAR,kBCX5B,SAAuBP,GAC9B,MACC,MAAO,CACNQ,GAAIR,EAAeQ,GACnBC,UAAWT,EAAeS,WAAa,GACvCC,SAAUV,EAAeU,UAAY,GACrCC,OAAQX,EAAeW,OACvBC,cAAMZ,EAAeY,QAAQ,IDI0CC,CAAcb,IAErF,MAAOc,GAENC,QAAQD,MAAM,+CAAgDA,WAKpDE,EAAsB,IAAInB"}