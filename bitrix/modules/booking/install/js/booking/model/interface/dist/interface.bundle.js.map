{"version":3,"file":"interface.bundle.js","sources":["../src/lib/index.js","../src/interface.js"],"sourcesContent":["import type { OverbookingMapItem } from 'booking.model.bookings';\nimport type { Occupancy } from '../types';\n\ntype OverbookingMap = Map<number, OverbookingMapItem>;\n\nexport function getOverbookingOccupancy(overbookingMap: OverbookingMap, resources: Set<number>): Occupancy[]\n{\n\tconst occupancyList: Occupancy[] = [];\n\tconst hashSet: Set<string> = new Set();\n\n\tfor (const [, overbooking] of overbookingMap)\n\t{\n\t\tconst { dateFromTs, dateToTs, resourcesIds } = overbooking.booking;\n\t\tif (resourcesIds.every((id) => !resources.has(id)))\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\n\t\toverbooking.items\n\t\t\t.filter(({ resourceId }) => resources.has(resourceId))\n\t\t\t.forEach(({ resourceId, intersections }) => {\n\t\t\t\tintersections.forEach((intersection) => {\n\t\t\t\t\tconst occupancy: Occupancy = {\n\t\t\t\t\t\tfromTs: dateFromTs >= intersection.dateFromTs ? dateFromTs : intersection.dateFromTs,\n\t\t\t\t\t\ttoTs: dateToTs <= intersection.dateToTs ? dateToTs : intersection.dateToTs,\n\t\t\t\t\t\tresourcesIds: [resourceId],\n\t\t\t\t\t};\n\t\t\t\t\tconst occupancyHash = `${occupancy.fromTs}-${occupancy.toTs}-${occupancy.resourcesIds.join('-')}`;\n\t\t\t\t\tif (!hashSet.has(occupancyHash))\n\t\t\t\t\t{\n\t\t\t\t\t\thashSet.add(occupancyHash);\n\t\t\t\t\t\toccupancyList.push(occupancy);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\treturn occupancyList;\n}\n","/* eslint-disable no-param-reassign */\n\nimport { Type } from 'main.core';\nimport { BuilderModel } from 'ui.vue3.vuex';\nimport type { GetterTree, ActionTree, MutationTree } from 'ui.vue3.vuex';\n\nimport { BusySlot, DraggedElementKind, Model } from 'booking.const';\nimport { Timezone } from 'booking.lib.timezone';\nimport type { BusySlotDto } from 'booking.lib.busy-slots';\nimport type { BookingModel, DealData } from 'booking.model.bookings';\n\nimport { getOverbookingOccupancy } from './lib';\nimport type {\n\tInterfaceModelState,\n\tIntersections,\n\tMousePosition,\n\tMoneyStatistics,\n\tOccupancy,\n\tDraggedDataTransfer,\n} from './types';\n\nexport class Interface extends BuilderModel\n{\n\tgetName(): string\n\t{\n\t\treturn Model.Interface;\n\t}\n\n\tgetState(): InterfaceModelState\n\t{\n\t\tconst today = new Date();\n\t\tconst schedule = this.getVariable('schedule', {});\n\n\t\treturn {\n\t\t\tisFeatureEnabled: this.getVariable('isFeatureEnabled', false),\n\t\t\tcanTurnOnTrial: this.getVariable('canTurnOnTrial', false),\n\t\t\tcanTurnOnDemo: this.getVariable('canTurnOnDemo', false),\n\t\t\teditingBookingId: this.getVariable('editingBookingId', 0),\n\t\t\teditingWaitListItemId: this.getVariable('editingWaitListItemId', 0),\n\t\t\tdraggedBookingId: 0,\n\t\t\tdraggedBookingResourceId: 0,\n\t\t\tdraggedDataTransfer: {\n\t\t\t\tid: 0,\n\t\t\t\tresourceId: 0,\n\t\t\t\tkind: '',\n\t\t\t},\n\t\t\tresizedBookingId: 0,\n\t\t\tisLoaded: false,\n\t\t\tzoom: 1,\n\t\t\texpanded: false,\n\t\t\tscroll: 0,\n\t\t\toffHoursHover: false,\n\t\t\toffHoursExpanded: false,\n\t\t\twaitListExpanded: this.getVariable('waitListExpanded', true),\n\t\t\tcalendarExpanded: this.getVariable('calendarExpanded', true),\n\t\t\tfromHour: schedule.fromHour ?? 9,\n\t\t\ttoHour: schedule.toHour ?? 19,\n\t\t\tselectedDateTs: new Date(today.getFullYear(), today.getMonth(), today.getDate()).getTime(),\n\t\t\tviewDateTs: new Date(today.getFullYear(), today.getMonth()).getTime(),\n\t\t\tdeletingBookings: {},\n\t\t\tdeletingResources: {},\n\t\t\tdeletingWaitListItemIds: {},\n\t\t\tselectedCells: {},\n\t\t\thoveredCell: null,\n\t\t\tbusySlots: {},\n\t\t\tdisabledBusySlots: {},\n\t\t\tresourcesIds: [],\n\t\t\tpinnedResourceIds: [],\n\t\t\tisIntersectionForAll: true,\n\t\t\tcounterMarks: [],\n\t\t\tfreeMarks: [],\n\t\t\ttotalClients: this.getVariable('totalClients', 0),\n\t\t\ttotalNewClientsToday: this.getVariable('totalNewClientsToday', 0),\n\t\t\tmoneyStatistics: this.getVariable('moneyStatistics', null),\n\t\t\tintersections: {},\n\t\t\ttimezone: this.getVariable('timezone', Intl.DateTimeFormat().resolvedOptions().timeZone),\n\t\t\tmousePosition: {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t},\n\t\t\tisCurrentSenderAvailable: false,\n\t\t\tisShownTrialPopup: false,\n\t\t\tembedItems: this.getVariable('embedItems', []),\n\t\t\tanimationPause: false,\n\t\t\tcreatedFromEmbedBookings: {},\n\t\t\tcreatedFromEmbedWaitListItems: {},\n\t\t};\n\t}\n\n\t// eslint-disable-next-line max-lines-per-function\n\tgetGetters(): GetterTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\t/** @function interface/isFeatureEnabled */\n\t\t\tisFeatureEnabled: (state): boolean => {\n\t\t\t\treturn state.isFeatureEnabled || state.canTurnOnTrial;\n\t\t\t},\n\t\t\t/** @function interface/canTurnOnTrial */\n\t\t\tcanTurnOnTrial: (state): boolean => state.canTurnOnTrial,\n\t\t\t/** @function interface/canTurnOnDemo */\n\t\t\tcanTurnOnDemo: (state): boolean => state.canTurnOnDemo,\n\t\t\t/** @function interface/isShownTrialPopup */\n\t\t\tisShownTrialPopup: (state): boolean => state.isShownTrialPopup,\n\t\t\t/** @function interface/editingBookingId */\n\t\t\teditingBookingId: (state): number => state.editingBookingId,\n\t\t\t/** @function interface/editingWaitListItemId */\n\t\t\teditingWaitListItemId: (state): number => state.editingWaitListItemId,\n\t\t\t/** @function interface/isEditingBookingMode */\n\t\t\tisEditingBookingMode: (state): boolean => {\n\t\t\t\treturn state.editingBookingId > 0 || state.editingWaitListItemId > 0;\n\t\t\t},\n\t\t\t/** @function interface/draggedBookingId */\n\t\t\tdraggedBookingId: (state): number => {\n\t\t\t\treturn state.draggedDataTransfer.kind === DraggedElementKind.Booking\n\t\t\t\t\t? state.draggedDataTransfer.id\n\t\t\t\t\t: 0;\n\t\t\t},\n\t\t\t/** @function interface/draggedBookingResourceId */\n\t\t\tdraggedBookingResourceId: (state): number => {\n\t\t\t\treturn state.draggedDataTransfer.kind === DraggedElementKind.Booking\n\t\t\t\t\t? state.draggedDataTransfer.resourceId\n\t\t\t\t\t: 0;\n\t\t\t},\n\t\t\t/** @function interface/draggedDataTransfer */\n\t\t\tdraggedDataTransfer: (state): DraggedDataTransfer => state.draggedDataTransfer,\n\t\t\t/** @function interface/resizedBookingId */\n\t\t\tresizedBookingId: (state): number => state.resizedBookingId,\n\t\t\t/** @function interface/isDragMode */\n\t\t\tisDragMode: (state): boolean => state.draggedDataTransfer.id > 0 || state.resizedBookingId,\n\t\t\t/** @function interface/isLoaded */\n\t\t\tisLoaded: (state): boolean => state.isLoaded,\n\t\t\t/** @function interface/zoom */\n\t\t\tzoom: (state): number => state.zoom,\n\t\t\t/** @function interface/expanded */\n\t\t\texpanded: (state): boolean => state.expanded,\n\t\t\t/** @function interface/scroll */\n\t\t\tscroll: (state): number => state.scroll,\n\t\t\t/** @function interface/offHoursHover */\n\t\t\toffHoursHover: (state): boolean => state.offHoursHover,\n\t\t\t/** @function interface/offHoursExpanded */\n\t\t\toffHoursExpanded: (state): boolean => state.offHoursExpanded,\n\t\t\t/** @function interface/waitListExpanded */\n\t\t\twaitListExpanded: (state): boolean => state.waitListExpanded,\n\t\t\t/** @function interface/calendarExpanded */\n\t\t\tcalendarExpanded: (state): boolean => state.calendarExpanded,\n\t\t\t/** @function interface/fromHour */\n\t\t\tfromHour: (state): number => state.fromHour,\n\t\t\t/** @function interface/toHour */\n\t\t\ttoHour: (state): number => state.toHour,\n\t\t\t/** @function interface/selectedDateTs */\n\t\t\tselectedDateTs: (state, getters): number => state.selectedDateTs - getters.offset,\n\t\t\t/** @function interface/viewDateTs */\n\t\t\tviewDateTs: (state, getters): number => state.viewDateTs - getters.offset,\n\t\t\t/** @function interface/deletingBookings */\n\t\t\tdeletingBookings: (state): { [id: number]: number } => state.deletingBookings,\n\t\t\t/** @function interface/deletingResources */\n\t\t\tdeletingResources: (state): { [id: number]: number } => state.deletingResources,\n\t\t\t/** @function interface/deletingWaitListItems */\n\t\t\tdeletingWaitListItems: (state): { [id: number]: number } => state.deletingWaitListItemIds,\n\t\t\t/** @function interface/selectedCells */\n\t\t\tselectedCells: (state): { [id: string]: CellDto } => state.selectedCells,\n\t\t\t/** @function interface/hoveredCell */\n\t\t\thoveredCell: (state): CellDto | null => state.hoveredCell,\n\t\t\t/** @function interface/busySlots */\n\t\t\tbusySlots: (state): BusySlotDto[] => Object.values(state.busySlots),\n\t\t\t/** @function interface/disabledBusySlots */\n\t\t\tdisabledBusySlots: (state): { [id: string]: BusySlotDto } => state.disabledBusySlots,\n\t\t\t/** @function interface/resourcesIds */\n\t\t\tresourcesIds: (state, getters, rootState, rootGetters): number[] => {\n\t\t\t\tconst extraResourcesIds = rootGetters[`${Model.Bookings}/getByDate`](state.selectedDateTs)\n\t\t\t\t\t.filter((booking) => !rootGetters[`${Model.Filter}/isFilterMode`] && booking.counter > 0)\n\t\t\t\t\t.map((booking) => booking.resourcesIds[0]);\n\n\t\t\t\tconst resourcesIds = [...new Set([...state.pinnedResourceIds, ...state.resourcesIds, ...extraResourcesIds])];\n\n\t\t\t\tconst excludeResources = new Set(\n\t\t\t\t\tgetters.getOccupancy(resourcesIds, Object.values(rootGetters[`${Model.Filter}/quickFilter`].ignoredBookingIds))\n\t\t\t\t\t\t.filter((occupancy: Occupancy) => Object.values(rootGetters[`${Model.Filter}/quickFilter`].active).some((hour) => {\n\t\t\t\t\t\t\tconst fromTs = new Date(state.selectedDateTs).setHours(hour) - getters.offset;\n\t\t\t\t\t\t\tconst toTs = new Date(state.selectedDateTs).setHours(hour + 1) - getters.offset;\n\n\t\t\t\t\t\t\treturn toTs > occupancy.fromTs && fromTs < occupancy.toTs;\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.flatMap((occupancy: Occupancy) => occupancy.resourcesIds),\n\t\t\t\t);\n\n\t\t\t\tObject.values(state.deletingResources).forEach((id) => excludeResources.add(Number(id)));\n\n\t\t\t\treturn resourcesIds.filter((id) => !excludeResources.has(id));\n\t\t\t},\n\t\t\textraResourcesIds: (state, getters) => {\n\t\t\t\tconst resourcesIds = state.resourcesIds;\n\n\t\t\t\treturn getters.resourcesIds.filter((id) => !resourcesIds.includes(id));\n\t\t\t},\n\t\t\t/** @function interface/isIntersectionForAll */\n\t\t\tisIntersectionForAll: (state): boolean => state.isIntersectionForAll,\n\t\t\t/** @function interface/freeMarks */\n\t\t\tfreeMarks: (state): string[] => state.freeMarks,\n\t\t\t/** @function interface/totalClients */\n\t\t\ttotalClients: (state): number => state.totalClients,\n\t\t\t/** @function interface/totalNewClientsToday */\n\t\t\ttotalNewClientsToday: (state): number => state.totalNewClientsToday,\n\t\t\t/** @function interface/moneyStatistics */\n\t\t\tmoneyStatistics: (state): MoneyStatistics | null => state.moneyStatistics,\n\t\t\tgetCounterMarks: (state) => (filterDates: string[] | null = null) => {\n\t\t\t\tif (Type.isNull(filterDates))\n\t\t\t\t{\n\t\t\t\t\treturn state.counterMarks;\n\t\t\t\t}\n\n\t\t\t\treturn state.counterMarks.filter((date) => filterDates.includes(date));\n\t\t\t},\n\t\t\t/** @function interface/intersections */\n\t\t\tintersections: (state): Intersections => state.intersections,\n\t\t\t/** @function interface/timezone */\n\t\t\ttimezone: (state): string => state.timezone,\n\t\t\t/** @function interface/offset */\n\t\t\toffset: (state): number => {\n\t\t\t\tconst timezoneOffset = Timezone.getOffset(state.selectedDateTs, state.timezone);\n\n\t\t\t\treturn (timezoneOffset + new Date(state.selectedDateTs).getTimezoneOffset() * 60) * 1000;\n\t\t\t},\n\t\t\t/** @function interface/mousePosition */\n\t\t\tmousePosition: (state): MousePosition => state.mousePosition,\n\t\t\t/** @function interface/isCurrentSenderAvailable */\n\t\t\tisCurrentSenderAvailable: (state): boolean => state.isCurrentSenderAvailable,\n\t\t\t/** @function interface/getColliding */\n\t\t\tgetColliding: (state, getters) => {\n\t\t\t\treturn (\n\t\t\t\t\tresourceId: number | number[],\n\t\t\t\t\texcludedBookingIds: number[] | (booking: BookingModel) => boolean,\n\t\t\t\t): Occupancy[] => {\n\t\t\t\t\tconst resourcesIds = Array.isArray(resourceId) ? resourceId : [resourceId];\n\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...getters.getOccupancy(resourcesIds, excludedBookingIds),\n\t\t\t\t\t\t...Object.values(state.selectedCells)\n\t\t\t\t\t\t\t.filter((cell: CellDto) => resourcesIds.includes(cell.resourceId))\n\t\t\t\t\t\t\t.map((cell: CellDto) => ({\n\t\t\t\t\t\t\t\tfromTs: cell.fromTs,\n\t\t\t\t\t\t\t\ttoTs: cell.toTs,\n\t\t\t\t\t\t\t\tresourcesIds: [cell.resourceId],\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t];\n\t\t\t\t};\n\t\t\t},\n\t\t\t/** @function interface/getOccupancy */\n\t\t\tgetOccupancy: (state, getters, rootState, rootGetters) => {\n\t\t\t\treturn (\n\t\t\t\t\tresourcesIds: number[],\n\t\t\t\t\texcludedBookingIds: number[] | (booking: BookingModel) => boolean = [],\n\t\t\t\t): Occupancy[] => {\n\t\t\t\t\tconst resources = new Set(resourcesIds);\n\n\t\t\t\t\tconst bookings = rootGetters[`${Model.Bookings}/get`]\n\t\t\t\t\t\t.filter((booking: BookingModel) => {\n\t\t\t\t\t\t\tconst belongsToResources = booking.resourcesIds.some((id) => resources.has(id));\n\t\t\t\t\t\t\tconst isNotExcluded: boolean = Type.isFunction(excludedBookingIds)\n\t\t\t\t\t\t\t\t? !excludedBookingIds(booking)\n\t\t\t\t\t\t\t\t: !excludedBookingIds.includes(booking.id);\n\n\t\t\t\t\t\t\treturn belongsToResources && isNotExcluded;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map((booking: BookingModel) => ({\n\t\t\t\t\t\t\tfromTs: booking.dateFromTs,\n\t\t\t\t\t\t\ttoTs: booking.dateToTs,\n\t\t\t\t\t\t\tresourcesIds: booking.resourcesIds,\n\t\t\t\t\t\t}))\n\t\t\t\t\t;\n\n\t\t\t\t\tconst busySlots = Object.values(state.busySlots)\n\t\t\t\t\t\t.filter((busySlot: BusySlotDto) => {\n\t\t\t\t\t\t\tconst isDragOffHours = getters.isDragMode && busySlot.type === BusySlot.OffHours;\n\t\t\t\t\t\t\tconst isActive = !(busySlot.id in state.disabledBusySlots) && !isDragOffHours;\n\t\t\t\t\t\t\tconst belongsToResources = resources.has(busySlot.resourceId);\n\t\t\t\t\t\t\tconst isIntersectionOverbooking = busySlot.type === BusySlot.IntersectionOverbooking;\n\n\t\t\t\t\t\t\treturn isIntersectionOverbooking && isActive && belongsToResources;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map(({ fromTs, toTs, resourceId }) => ({ fromTs, toTs, resourcesIds: [resourceId] }))\n\t\t\t\t\t;\n\n\t\t\t\t\tconst overbookingOccupancy = getOverbookingOccupancy(\n\t\t\t\t\t\trootGetters[`${Model.Bookings}/overbookingMap`],\n\t\t\t\t\t\tresources,\n\t\t\t\t\t);\n\n\t\t\t\t\treturn [...bookings, ...busySlots, ...overbookingOccupancy];\n\t\t\t\t};\n\t\t\t},\n\t\t\t/** @function interface/embedItems */\n\t\t\tembedItems: (state): DealData[] => state.embedItems,\n\t\t\t/** @function interface/animationPause */\n\t\t\tanimationPause: (state): boolean => state.animationPause,\n\t\t\t/** @function interface/isBookingCreatedFromEmbed */\n\t\t\tisBookingCreatedFromEmbed: (state) => (id: number | string): boolean => {\n\t\t\t\treturn id in state.createdFromEmbedBookings;\n\t\t\t},\n\t\t\t/** @function interface/isWaitListItemCreatedFromEmbed */\n\t\t\tisWaitListItemCreatedFromEmbed: (state) => (id: number | string): boolean => {\n\t\t\t\treturn id in state.createdFromEmbedWaitListItems;\n\t\t\t},\n\t\t};\n\t}\n\n\t// eslint-disable-next-line max-lines-per-function\n\tgetActions(): ActionTree<InterfaceModelState>\n\t{\n\t\tconst createBatchableAction = (mutationName: string) => {\n\t\t\treturn (store, payload: number | number[]) => {\n\t\t\t\tif (Type.isArray(payload))\n\t\t\t\t{\n\t\t\t\t\tpayload.forEach((id) => store.commit(mutationName, id));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstore.commit(mutationName, payload);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\treturn {\n\t\t\t/** @function interface/setEditingBookingId */\n\t\t\tsetEditingBookingId: (store, editingBookingId: number) => {\n\t\t\t\tstore.commit('setEditingBookingId', editingBookingId);\n\t\t\t},\n\t\t\t/** @function interface/setEditingWaitListItemId */\n\t\t\tsetEditingWaitListItemId: (store, editingWaitListItemId: number) => {\n\t\t\t\tstore.commit('setEditingWaitListItemId', editingWaitListItemId);\n\t\t\t},\n\t\t\t/** @function interface/setDraggedBookingId */\n\t\t\tsetDraggedBookingId: (store, draggedBookingId: number) => {\n\t\t\t\tstore.commit('setDraggedBookingId', draggedBookingId);\n\t\t\t},\n\t\t\t/** @function interface/setDraggedBookingResourceId */\n\t\t\tsetDraggedBookingResourceId: (store, draggedBookingResourceId: number) => {\n\t\t\t\tstore.commit('setDraggedBookingResourceId', draggedBookingResourceId);\n\t\t\t},\n\t\t\t/** @function interface/setDraggedDataTransfer */\n\t\t\tsetDraggedDataTransfer: (store, draggedDataTransfer: DraggedDataTransfer): void => {\n\t\t\t\tstore.commit('setDraggedDataTransfer', draggedDataTransfer);\n\t\t\t},\n\t\t\t/** @function interface/clearDraggedDataTransfer */\n\t\t\tclearDraggedDataTransfer: (store): void => {\n\t\t\t\tstore.commit('setDraggedDataTransfer', {\n\t\t\t\t\tkind: null,\n\t\t\t\t\tid: 0,\n\t\t\t\t\tresourceId: 0,\n\t\t\t\t});\n\t\t\t},\n\t\t\t/** @function interface/setResizedBookingId */\n\t\t\tsetResizedBookingId: (store, resizedBookingId: number) => {\n\t\t\t\tstore.commit('setResizedBookingId', resizedBookingId);\n\t\t\t},\n\t\t\t/** @function interface/setIsLoaded */\n\t\t\tsetIsLoaded: (store, isLoaded: boolean) => {\n\t\t\t\tstore.commit('setIsLoaded', isLoaded);\n\t\t\t},\n\t\t\t/** @function interface/setZoom */\n\t\t\tsetZoom: (store, zoom: number) => {\n\t\t\t\tstore.commit('setZoom', zoom);\n\t\t\t},\n\t\t\t/** @function interface/setExpanded */\n\t\t\tsetExpanded: (store, expanded: boolean) => {\n\t\t\t\tstore.commit('setExpanded', expanded);\n\t\t\t},\n\t\t\t/** @function interface/setScroll */\n\t\t\tsetScroll: (store, scroll: number) => {\n\t\t\t\tstore.commit('setScroll', scroll);\n\t\t\t},\n\t\t\t/** @function interface/setOffHoursHover */\n\t\t\tsetOffHoursHover: (store, offHoursHover: boolean) => {\n\t\t\t\tstore.commit('setOffHoursHover', offHoursHover);\n\t\t\t},\n\t\t\t/** @function interface/setOffHoursExpanded */\n\t\t\tsetOffHoursExpanded: (store, offHoursExpanded: boolean) => {\n\t\t\t\tstore.commit('setOffHoursExpanded', offHoursExpanded);\n\t\t\t},\n\t\t\t/** @function interface/setWaitListExpanded */\n\t\t\tsetWaitListExpanded: (store, waitListExpanded: boolean) => {\n\t\t\t\tstore.commit('setWaitListExpanded', waitListExpanded);\n\t\t\t},\n\t\t\t/** @function interface/setCalendarExpanded */\n\t\t\tsetCalendarExpanded: (store, calendarExpanded: boolean) => {\n\t\t\t\tstore.commit('setCalendarExpanded', calendarExpanded);\n\t\t\t},\n\t\t\t/** @function interface/setSelectedDateTs */\n\t\t\tsetSelectedDateTs: (store, selectedDateTs: number) => {\n\t\t\t\tstore.commit('setSelectedDateTs', selectedDateTs);\n\t\t\t},\n\t\t\t/** @function interface/setViewDateTs */\n\t\t\tsetViewDateTs: (store, viewDateTs: number) => {\n\t\t\t\tstore.commit('setViewDateTs', viewDateTs);\n\t\t\t},\n\t\t\t/** @function interface/addDeletingBooking */\n\t\t\taddDeletingBooking: createBatchableAction('addDeletingBooking'),\n\t\t\t/** @function interface/removeDeletingBooking */\n\t\t\tremoveDeletingBooking: createBatchableAction('removeDeletingBooking'),\n\t\t\t/** @function interface/addDeletingResource */\n\t\t\taddDeletingResource: createBatchableAction('addDeletingResource'),\n\t\t\t/** @function interface/removeDeletingResource */\n\t\t\tremoveDeletingResource: createBatchableAction('removeDeletingResource'),\n\t\t\t/** @function interface/addDeletingWaitListItemId */\n\t\t\taddDeletingWaitListItemId: createBatchableAction('addDeletingWaitListItemId'),\n\t\t\t/** @function interface/removeDeletingWaitListItemId */\n\t\t\tremoveDeletingWaitListItemId: createBatchableAction('removeDeletingWaitListItemId'),\n\t\t\t/** @function interface/addSelectedCell */\n\t\t\taddSelectedCell: (store, cell: CellDto) => {\n\t\t\t\tstore.commit('addSelectedCell', cell);\n\t\t\t},\n\t\t\t/** @function interface/removeSelectedCell */\n\t\t\tremoveSelectedCell: (store, cell: CellDto) => {\n\t\t\t\tstore.commit('removeSelectedCell', cell);\n\t\t\t},\n\t\t\t/** @function interface/clearSelectedCells */\n\t\t\tclearSelectedCells: (store) => {\n\t\t\t\tstore.commit('clearSelectedCells');\n\t\t\t},\n\t\t\t/** @function interface/setHoveredCell */\n\t\t\tsetHoveredCell: (store, cell: CellDto | null) => {\n\t\t\t\tstore.commit('setHoveredCell', cell);\n\t\t\t},\n\t\t\t/** @function interface/upsertBusySlotMany */\n\t\t\tupsertBusySlotMany: (store: Store, busySlots: BusySlotDto[]): void => {\n\t\t\t\tbusySlots.forEach((busySlot) => store.commit('upsertBusySlot', busySlot));\n\t\t\t},\n\t\t\t/** @function interface/clearBusySlots */\n\t\t\tclearBusySlots: (store) => {\n\t\t\t\tstore.commit('clearBusySlots');\n\t\t\t},\n\t\t\t/** @function interface/addDisabledBusySlot */\n\t\t\taddDisabledBusySlot: (store, busySlot: BusySlotDto) => {\n\t\t\t\tstore.commit('addDisabledBusySlot', busySlot);\n\t\t\t},\n\t\t\t/** @function interface/clearDisabledBusySlots */\n\t\t\tclearDisabledBusySlots: (store) => {\n\t\t\t\tstore.commit('clearDisabledBusySlots');\n\t\t\t},\n\t\t\t/** @function interface/setResourcesIds */\n\t\t\tsetResourcesIds: (store, resourcesIds: number[]) => {\n\t\t\t\tstore.commit('setResourcesIds', resourcesIds);\n\t\t\t},\n\t\t\tsetPinnedResourceIds: ({ commit }, resourceIds: number[]): void => {\n\t\t\t\tcommit('setPinnedResourceIds', resourceIds);\n\t\t\t},\n\t\t\t/** @function interface/deleteResourceId */\n\t\t\tdeleteResourceId: (store, resourceId: number) => {\n\t\t\t\tstore.commit('deleteResourceId', resourceId);\n\t\t\t},\n\t\t\t/** @function interface/setIntersectionMode */\n\t\t\tsetIntersectionMode: (store, isIntersectionForAll: boolean) => {\n\t\t\t\tstore.commit('setIntersectionMode', isIntersectionForAll);\n\t\t\t},\n\t\t\t/** @function interface/setFreeMarks */\n\t\t\tsetFreeMarks: (store, dates: number[]) => {\n\t\t\t\tstore.commit('setFreeMarks', dates);\n\t\t\t},\n\t\t\t/** @function interface/setTotalClients */\n\t\t\tsetTotalClients: (store, totalClients: number) => {\n\t\t\t\tstore.commit('setTotalClients', totalClients);\n\t\t\t},\n\t\t\t/** @function interface/setTotalNewClientsToday */\n\t\t\tsetTotalNewClientsToday: (store, totalNewClientsToday: number) => {\n\t\t\t\tstore.commit('setTotalNewClientsToday', totalNewClientsToday);\n\t\t\t},\n\t\t\t/** @function interface/setMoneyStatistics */\n\t\t\tsetMoneyStatistics: (store, moneyStatistics: MoneyStatistics) => {\n\t\t\t\tstore.commit('setMoneyStatistics', moneyStatistics);\n\t\t\t},\n\t\t\tsetCounterMarks: (state, dates: number[]): void => {\n\t\t\t\tstate.commit('setCounterMarks', dates);\n\t\t\t},\n\t\t\t/** @function interface/setIntersections */\n\t\t\tsetIntersections: (store, intersections: Intersections) => {\n\t\t\t\tstore.commit('setIntersections', intersections);\n\t\t\t},\n\t\t\t/** @function interface/setMousePosition */\n\t\t\tsetMousePosition: (store, mousePosition: MousePosition) => {\n\t\t\t\tstore.commit('setMousePosition', mousePosition);\n\t\t\t},\n\t\t\t/** @function interface/setIsCurrentSenderAvailable */\n\t\t\tsetIsCurrentSenderAvailable: (store, isCurrentSenderAvailable: boolean) => {\n\t\t\t\tstore.commit('setIsCurrentSenderAvailable', isCurrentSenderAvailable);\n\t\t\t},\n\t\t\t/** @function interface/setIsFeatureEnabled */\n\t\t\tsetIsFeatureEnabled: (store, isFeatureEnabled: boolean) => {\n\t\t\t\tstore.commit('setIsFeatureEnabled', isFeatureEnabled);\n\t\t\t},\n\t\t\t/** @function interface/setCanTurnOnTrial */\n\t\t\tsetCanTurnOnTrial: (store, canTurnOnTrial: boolean) => {\n\t\t\t\tstore.commit('setCanTurnOnTrial', canTurnOnTrial);\n\t\t\t},\n\t\t\t/** @function interface/setIsShownTrialPopup */\n\t\t\tsetIsShownTrialPopup: (store, isShownTrialPopup: boolean) => {\n\t\t\t\tstore.commit('setIsShownTrialPopup', isShownTrialPopup);\n\t\t\t},\n\t\t\t/** @function interface/setEmbedItems */\n\t\t\tsetEmbedItems: (store, embedItems: DealData[]) => {\n\t\t\t\tstore.commit('setEmbedItems', embedItems);\n\t\t\t},\n\t\t\t/** @function interface/setAnimationPause */\n\t\t\tsetAnimationPause: ({ commit }, pause: boolean) => {\n\t\t\t\tcommit('setAnimationPause', pause);\n\t\t\t},\n\t\t\t/** @function interface/addCreatedFromEmbedBooking */\n\t\t\taddCreatedFromEmbedBooking: ({ commit, getters }, id: number | string | Array<number | string>) => {\n\t\t\t\tconst embedItems = getters.embedItems || [];\n\t\t\t\tif (embedItems.length > 0)\n\t\t\t\t{\n\t\t\t\t\tcommit('addCreatedFromEmbedBooking', id);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/** @function interface/addCreatedFromEmbedWaitListItem */\n\t\t\taddCreatedFromEmbedWaitListItem: ({ commit, getters }, id: number | string | Array<number | string>) => {\n\t\t\t\tconst embedItems = getters.embedItems || [];\n\t\t\t\tif (embedItems.length > 0)\n\t\t\t\t{\n\t\t\t\t\tcommit('addCreatedFromEmbedWaitListItem', id);\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t}\n\n\t// eslint-disable-next-line max-lines-per-function\n\tgetMutations(): MutationTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\tsetEditingBookingId: (state, editingBookingId: number) => {\n\t\t\t\tstate.editingBookingId = editingBookingId;\n\t\t\t},\n\t\t\tsetEditingWaitListItemId: (state, editingWaitListItemId: number) => {\n\t\t\t\tstate.editingWaitListItemId = editingWaitListItemId;\n\t\t\t},\n\t\t\tsetDraggedBookingId: (state, draggedBookingId: number) => {\n\t\t\t\tstate.draggedBookingId = draggedBookingId;\n\t\t\t},\n\t\t\tsetResizedBookingId: (state, resizedBookingId: number) => {\n\t\t\t\tstate.resizedBookingId = resizedBookingId;\n\t\t\t},\n\t\t\tsetDraggedBookingResourceId: (state, draggedBookingResourceId: number) => {\n\t\t\t\tstate.draggedBookingResourceId = draggedBookingResourceId;\n\t\t\t},\n\t\t\tsetDraggedDataTransfer: (state, draggedDataTransfer: DraggedDataTransfer) => {\n\t\t\t\tstate.draggedDataTransfer = draggedDataTransfer;\n\t\t\t},\n\t\t\tsetIsLoaded: (state, isLoaded: boolean) => {\n\t\t\t\tstate.isLoaded = isLoaded;\n\t\t\t},\n\t\t\tsetZoom: (state, zoom: number) => {\n\t\t\t\tstate.zoom = zoom;\n\t\t\t},\n\t\t\tsetExpanded: (state, expanded: boolean) => {\n\t\t\t\tstate.expanded = expanded;\n\t\t\t},\n\t\t\tsetScroll: (state, scroll: number) => {\n\t\t\t\tstate.scroll = scroll;\n\t\t\t},\n\t\t\tsetOffHoursHover: (state, offHoursHover: boolean) => {\n\t\t\t\tstate.offHoursHover = offHoursHover;\n\t\t\t},\n\t\t\tsetOffHoursExpanded: (state, offHoursExpanded: boolean) => {\n\t\t\t\tstate.offHoursExpanded = offHoursExpanded;\n\t\t\t},\n\t\t\tsetWaitListExpanded: (state, waitListExpanded: boolean) => {\n\t\t\t\tstate.waitListExpanded = waitListExpanded;\n\t\t\t},\n\t\t\tsetCalendarExpanded: (state, calendarExpanded: boolean) => {\n\t\t\t\tstate.calendarExpanded = calendarExpanded;\n\t\t\t},\n\t\t\tsetSelectedDateTs: (state, selectedDateTs: number) => {\n\t\t\t\tstate.selectedDateTs = selectedDateTs;\n\t\t\t},\n\t\t\tsetViewDateTs: (state, viewDateTs: number) => {\n\t\t\t\tstate.viewDateTs = viewDateTs;\n\t\t\t},\n\t\t\taddDeletingBooking: (state, bookingId: number) => {\n\t\t\t\tstate.deletingBookings[bookingId] = bookingId;\n\t\t\t},\n\t\t\tremoveDeletingBooking: (state, bookingId: number) => {\n\t\t\t\tdelete state.deletingBookings[bookingId];\n\t\t\t},\n\t\t\taddDeletingResource: (state: InterfaceModelState, resourceId: number): void => {\n\t\t\t\tstate.deletingResources[resourceId] = resourceId;\n\t\t\t},\n\t\t\tremoveDeletingResource: (state: InterfaceModelState, resourceId: number): void => {\n\t\t\t\tdelete state.deletingResources[resourceId];\n\t\t\t},\n\t\t\taddDeletingWaitListItemId: (state, waitListItemId: number) => {\n\t\t\t\tstate.deletingWaitListItemIds[waitListItemId] = waitListItemId;\n\t\t\t},\n\t\t\tremoveDeletingWaitListItemId: (state, waitListItemId: number) => {\n\t\t\t\tdelete state.deletingWaitListItemIds[waitListItemId];\n\t\t\t},\n\t\t\taddSelectedCell: (state, cell: CellDto) => {\n\t\t\t\tstate.selectedCells[cell.id] = cell;\n\t\t\t},\n\t\t\tremoveSelectedCell: (state, cell: CellDto) => {\n\t\t\t\tdelete state.selectedCells[cell.id];\n\t\t\t},\n\t\t\tclearSelectedCells: (state) => {\n\t\t\t\tstate.selectedCells = {};\n\t\t\t},\n\t\t\tsetHoveredCell: (state, cell: CellDto | null) => {\n\t\t\t\tstate.hoveredCell = cell;\n\t\t\t},\n\t\t\tupsertBusySlot: (state, busySlot: BusySlotDto): void => {\n\t\t\t\tstate.busySlots[busySlot.id] ??= busySlot;\n\t\t\t\tObject.assign(state.busySlots[busySlot.id], busySlot);\n\t\t\t},\n\t\t\tclearBusySlots: (state) => {\n\t\t\t\tstate.busySlots = {};\n\t\t\t},\n\t\t\taddDisabledBusySlot: (state, busySlot: BusySlotDto) => {\n\t\t\t\tstate.disabledBusySlots[busySlot.id] = busySlot;\n\t\t\t},\n\t\t\tclearDisabledBusySlots: (state) => {\n\t\t\t\tstate.disabledBusySlots = {};\n\t\t\t},\n\t\t\tsetResourcesIds: (state, resourcesIds: number[]) => {\n\t\t\t\tstate.resourcesIds = resourcesIds.sort((a, b) => a - b);\n\t\t\t},\n\t\t\tsetPinnedResourceIds: (state, resourceIds: number[]): void => {\n\t\t\t\tstate.pinnedResourceIds = resourceIds;\n\t\t\t},\n\t\t\tdeleteResourceId: (state, resourceId: number) => {\n\t\t\t\tstate.resourcesIds = state.resourcesIds.filter((id: number) => id !== resourceId);\n\t\t\t},\n\t\t\tsetIntersectionMode: (state, isIntersectionForAll: boolean) => {\n\t\t\t\tstate.isIntersectionForAll = isIntersectionForAll;\n\t\t\t},\n\t\t\tsetFreeMarks: (state, dates: number[]) => {\n\t\t\t\tstate.freeMarks = dates;\n\t\t\t},\n\t\t\tsetTotalClients: (state, totalClients: number) => {\n\t\t\t\tstate.totalClients = totalClients;\n\t\t\t},\n\t\t\tsetTotalNewClientsToday: (state, totalNewClientsToday: number) => {\n\t\t\t\tstate.totalNewClientsToday = totalNewClientsToday;\n\t\t\t},\n\t\t\tsetMoneyStatistics: (state, moneyStatistics: MoneyStatistics) => {\n\t\t\t\tstate.moneyStatistics = moneyStatistics;\n\t\t\t},\n\t\t\tsetCounterMarks: (state, dates: number[]) => {\n\t\t\t\tstate.counterMarks = dates;\n\t\t\t},\n\t\t\tsetIntersections: (state, intersections: Intersections) => {\n\t\t\t\tstate.intersections = intersections;\n\t\t\t},\n\t\t\tsetMousePosition: (state, mousePosition: MousePosition) => {\n\t\t\t\tstate.mousePosition = mousePosition;\n\t\t\t},\n\t\t\tsetIsCurrentSenderAvailable: (state, isCurrentSenderAvailable: boolean) => {\n\t\t\t\tstate.isCurrentSenderAvailable = isCurrentSenderAvailable;\n\t\t\t},\n\t\t\tsetIsFeatureEnabled: (state, isFeatureEnabled: boolean) => {\n\t\t\t\tstate.isFeatureEnabled = isFeatureEnabled;\n\t\t\t},\n\t\t\tsetCanTurnOnTrial: (state, canTurnOnTrial: boolean) => {\n\t\t\t\tstate.canTurnOnTrial = canTurnOnTrial;\n\t\t\t},\n\t\t\tsetIsShownTrialPopup: (state, isShownTrialPopup: boolean) => {\n\t\t\t\tstate.isShownTrialPopup = isShownTrialPopup;\n\t\t\t},\n\t\t\tsetEmbedItems: (state, embedItems: DealData[]) => {\n\t\t\t\tstate.embedItems = embedItems;\n\t\t\t},\n\t\t\tsetAnimationPause: (state, pause: boolean) => {\n\t\t\t\tstate.animationPause = pause;\n\t\t\t},\n\t\t\taddCreatedFromEmbedBooking: (state, id: string | number | Array<number | string>) => {\n\t\t\t\tif (Type.isArray(id))\n\t\t\t\t{\n\t\t\t\t\tfor (const bookingId of id)\n\t\t\t\t\t{\n\t\t\t\t\t\tstate.createdFromEmbedBookings[bookingId] = bookingId;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstate.createdFromEmbedBookings[id] = id;\n\t\t\t},\n\t\t\taddCreatedFromEmbedWaitListItem: (state, id: string | number | Array<number | string>) => {\n\t\t\t\tif (Type.isArray(id))\n\t\t\t\t{\n\t\t\t\t\tfor (const waitListItemId of id)\n\t\t\t\t\t{\n\t\t\t\t\t\tstate.createdFromEmbedWaitListItems[waitListItemId] = waitListItemId;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstate.createdFromEmbedWaitListItems[id] = id;\n\t\t\t},\n\t\t};\n\t}\n}\n"],"names":["getOverbookingOccupancy","overbookingMap","resources","occupancyList","hashSet","Set","overbooking","dateFromTs","dateToTs","resourcesIds","booking","every","id","has","items","filter","resourceId","forEach","intersections","intersection","occupancy","fromTs","toTs","occupancyHash","join","add","push","Interface","BuilderModel","getName","Model","getState","today","Date","schedule","getVariable","isFeatureEnabled","canTurnOnTrial","canTurnOnDemo","editingBookingId","editingWaitListItemId","draggedBookingId","draggedBookingResourceId","draggedDataTransfer","kind","resizedBookingId","isLoaded","zoom","expanded","scroll","offHoursHover","offHoursExpanded","waitListExpanded","calendarExpanded","fromHour","toHour","selectedDateTs","getFullYear","getMonth","getDate","getTime","viewDateTs","deletingBookings","deletingResources","deletingWaitListItemIds","selectedCells","hoveredCell","busySlots","disabledBusySlots","pinnedResourceIds","isIntersectionForAll","counterMarks","freeMarks","totalClients","totalNewClientsToday","moneyStatistics","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","mousePosition","top","left","isCurrentSenderAvailable","isShownTrialPopup","embedItems","animationPause","createdFromEmbedBookings","createdFromEmbedWaitListItems","getGetters","state","isEditingBookingMode","DraggedElementKind","Booking","isDragMode","getters","offset","deletingWaitListItems","Object","values","rootState","rootGetters","extraResourcesIds","Bookings","Filter","counter","map","excludeResources","getOccupancy","ignoredBookingIds","active","some","hour","setHours","flatMap","Number","includes","getCounterMarks","filterDates","Type","isNull","date","timezoneOffset","Timezone","getOffset","getTimezoneOffset","getColliding","excludedBookingIds","Array","isArray","cell","bookings","belongsToResources","isNotExcluded","isFunction","busySlot","isDragOffHours","type","BusySlot","OffHours","isActive","isIntersectionOverbooking","IntersectionOverbooking","overbookingOccupancy","isBookingCreatedFromEmbed","isWaitListItemCreatedFromEmbed","getActions","createBatchableAction","mutationName","store","payload","commit","setEditingBookingId","setEditingWaitListItemId","setDraggedBookingId","setDraggedBookingResourceId","setDraggedDataTransfer","clearDraggedDataTransfer","setResizedBookingId","setIsLoaded","setZoom","setExpanded","setScroll","setOffHoursHover","setOffHoursExpanded","setWaitListExpanded","setCalendarExpanded","setSelectedDateTs","setViewDateTs","addDeletingBooking","removeDeletingBooking","addDeletingResource","removeDeletingResource","addDeletingWaitListItemId","removeDeletingWaitListItemId","addSelectedCell","removeSelectedCell","clearSelectedCells","setHoveredCell","upsertBusySlotMany","clearBusySlots","addDisabledBusySlot","clearDisabledBusySlots","setResourcesIds","setPinnedResourceIds","resourceIds","deleteResourceId","setIntersectionMode","setFreeMarks","dates","setTotalClients","setTotalNewClientsToday","setMoneyStatistics","setCounterMarks","setIntersections","setMousePosition","setIsCurrentSenderAvailable","setIsFeatureEnabled","setCanTurnOnTrial","setIsShownTrialPopup","setEmbedItems","setAnimationPause","pause","addCreatedFromEmbedBooking","length","addCreatedFromEmbedWaitListItem","getMutations","bookingId","waitListItemId","upsertBusySlot","assign","sort","a","b"],"mappings":"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"}