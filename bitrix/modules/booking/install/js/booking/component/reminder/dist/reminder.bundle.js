this.BX=this.BX||{},this.BX.Booking=this.BX.Booking||{},function(e,t,n,s,i){"use strict";const d=[{value:0,label:n.Loc.getMessage("BOOKING_REMINDER_0"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_0")},{value:5,label:n.Loc.getMessage("BOOKING_REMINDER_5"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_5")},{value:10,label:n.Loc.getMessage("BOOKING_REMINDER_10"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_10")},{value:15,label:n.Loc.getMessage("BOOKING_REMINDER_15"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_15")},{value:20,label:n.Loc.getMessage("BOOKING_REMINDER_20"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_20")},{value:30,label:n.Loc.getMessage("BOOKING_REMINDER_30"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_30")},{value:60,label:n.Loc.getMessage("BOOKING_REMINDER_60"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_60")},{value:120,label:n.Loc.getMessage("BOOKING_REMINDER_120"),shortLabel:n.Loc.getMessage("BOOKING_REMINDER_SHORT_120")}],a={name:"ReminderManu",props:{bindElement:{type:HTMLElement,required:!0},shown:{type:Boolean,default:!1}},emits:["select"],computed:{id:()=>"booking-reminder-"+Math.round(1e6*Math.random()),menuItems:()=>d},watch:{shown:{handler(e){e?this.reminderMenu.show():this.reminderMenu.close()}}},created(){this.reminderMenu=t.MenuManager.create({id:this.id,bindElement:this.bindElement,targetContainer:this.$root.$el.querySelector(".resource-creation-wizard__wrapper"),closeByEsc:!0,autoHide:!0,zIndex:3200,offsetTop:0,offsetLeft:9,angle:!0,cacheable:!1}),this.menuItems.forEach(e=>{this.reminderMenu.addMenuItem({text:e.label,dataset:{...e},onclick:(e,t)=>{this.$emit("select",t.dataset)}})}),this.reminderMenu.show()},unmounted(){t.MenuManager.destroy(this.id)},template:"\n\t\t<div></div>\n\t"},o={name:"UiReminder",components:{ReminderAdd:{name:"ReminderAdd",components:{Icon:s.BIcon,ReminderMenu:a},props:{disabled:{type:Boolean,default:!1}},emits:["add"],setup:()=>({iconName:s.Set.PLUS_30,shown:i.ref(!1)}),methods:{select(e){this.$emit("add",e.value),this.shown=!1},toggleMenu(){this.disabled||(this.shown=!this.shown)}},template:'\n\t\t<div class="booking--reminder booking--reminder-add" :class="{ \'--disabled\': disabled }" @click="toggleMenu">\n\t\t\t<span ref="add" class="booking--reminder-add__label">{{ loc(\'BOOKING_REMINDER_CREATE\') }}</span>\n\t\t\t<Icon :name="iconName" :size="18" />\n\t\t</div>\n\t\t<ReminderMenu v-if="shown" :bindElement="$refs[\'add\']" :shown @select="select" />\n\t'},ReminderItem:{name:"ReminderItem",components:{Icon:s.BIcon,ReminderMenu:a},props:{remind:{type:Number,required:!0},disabled:{type:Boolean,default:!1}},emits:["update","remove"],setup:()=>({iconName:s.Set.CROSS_30,shown:i.ref(!1)}),computed:{remindItem(){return d.find(({value:e})=>e===this.remind)}},methods:{select(e){e.value!==this.remind&&this.$emit("update",{remind:this.remind,selected:e.value})},toggleMenu(){this.disabled||(this.shown=!this.shown)},removeItem(){this.disabled||this.$emit("remove",this.remind)}},template:'\n\t\t<div\n\t\t\t:class="[\n\t\t\t\t\'booking--reminder\',\n\t\t\t\t\'booking--reminder-item\',\n\t\t\t\t{ \'--disabled\': disabled },\n\t\t\t]"\n\t\t>\n\t\t\t<span ref="item" class="booking--reminder-item__title" @click="toggleMenu">\n\t\t\t\t{{ remindItem.shortLabel }}\n\t\t\t</span>\n\t\t\t<Icon :name="iconName" :size="18" @click="removeItem"/>\n\t\t\t<ReminderMenu v-if="shown" :bindElement="$refs[\'item\']" :shown @select="select"/>\n\t\t</div>\n\t'}},props:{modelValue:{type:Array,required:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],methods:{addRemind(e){if(this.disabled)return;const t=new Set(this.modelValue);t.add(e),this.$emit("update:modelValue",[...t])},removeRemind(e){this.disabled||this.$emit("update:modelValue",this.modelValue.filter(t=>t!==e))},updateRemind({remind:e,selected:t}){if(this.disabled)return;const n=this.modelValue.indexOf(e);if(n>=0&&!this.modelValue.includes(t)){const e=[...this.modelValue];e[n]=t,this.$emit("update:modelValue",e)}}},template:'\n\t\t<div class="booking--reminder-row">\n\t\t\t<ReminderItem\n\t\t\t\tv-for="remind of modelValue"\n\t\t\t\t:key="remind"\n\t\t\t\t:remind\n\t\t\t\t:disabled\n\t\t\t\t@update="updateRemind"\n\t\t\t\t@remove="removeRemind"\n\t\t\t/>\n\t\t\t<ReminderAdd :disabled @add="addRemind"/>\n\t\t</div>\n\t'};e.Reminder=o}(this.BX.Booking.Component=this.BX.Booking.Component||{},BX.Main,BX,BX.UI.IconSet,BX.Vue3);
//# sourceMappingURL=reminder.bundle.js.map
