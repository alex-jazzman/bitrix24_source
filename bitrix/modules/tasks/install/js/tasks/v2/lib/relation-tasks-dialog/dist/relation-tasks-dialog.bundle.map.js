{"version":3,"file":"relation-tasks-dialog.bundle.map.js","names":["this","BX","Tasks","V2","exports","main_core_events","tasks_v2_lib_entitySelectorDialog","tasks_v2_lib_relationError","tasks_v2_provider_service_taskService","main_core","tasks_v2_const","tasks_v2_provider_service_relationService","_","t","_t","_meta","babelHelpers","classPrivateFieldLooseKey","_taskId","_dialog","_onUpdateOnce","_createDialog","_createFooter","_addTaskItems","_updateTask","_add","_selectableItems","_items","_mapIdsToItemIds","_task","RelationTasksDialog","constructor","meta","Object","defineProperty","get","_get_task","set","value","_mapIdsToItemIds2","_get_items","_get_selectableItems","_add2","_updateTask2","_addTaskItems2","_createFooter2","_createDialog2","writable","classPrivateFieldLooseBase","setTaskId","taskId","showTo","targetNode","targetContainer","_babelHelpers$classPr","_babelHelpers$classPr2","isLoaded","idsField","selectItemsByIds","setSelectableByIds","getPopup","setTargetContainer","getDialog","onUpdateOnce","callback","handleClose","ids","getSelectedItems","map","item","Number","getId","sort","join","EntitySelectorDialog","context","multiple","enableSearch","width","entities","id","EntitySelectorEntity","Task","preselectedItems","popupOptions","events","onClose","footer","Tag","render","footerText","Event","bind","_this$getDialog$getAc","_this$getDialog$getAc2","EventEmitter","emit","EventName","OpenCompactCard","TaskField","Title","getActiveTab","getLastSearchQuery","call","getQuery","relationToField","itemIds","Set","getItems","it","filter","has","forEach","task","taskService","getStoreTask","addItem","entityId","title","selected","tabs","async","_babelHelpers$classPr3","_babelHelpers$classPr4","selectedItems","newTaskIds","currentTaskIds","idsToDelete","includes","idsToAdd","Promise","all","service","delete","error","add","relationError","showError","selectableIds","unselectableIds","rights","detachParent","detachRelated","push","selectable","unselectable","subTasksMeta","freeze","SubTasks","Loc","getMessage","subTasksService","relatedTasksMeta","RelatedTasks","relatedTasksService","subTasksDialog","relatedTasksDialog","Lib","Provider","Service","Const"],"sources":["relation-tasks-dialog.bundle.js"],"mappings":"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","ignoreList":[]}