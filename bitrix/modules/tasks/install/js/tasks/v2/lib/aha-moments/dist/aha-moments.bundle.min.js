this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};(function(e,t,s,o,r,i,a){"use strict";var l=babelHelpers.classPrivateFieldLooseKey("ahaPopupWidth");var n=babelHelpers.classPrivateFieldLooseKey("shownPopups");var c=babelHelpers.classPrivateFieldLooseKey("shouldShowAuditorsInCard");var u=babelHelpers.classPrivateFieldLooseKey("wasNotShown");var p=babelHelpers.classPrivateFieldLooseKey("wasShown");class d{constructor(){Object.defineProperty(this,p,{value:v});Object.defineProperty(this,u,{value:b});Object.defineProperty(this,c,{value:h});Object.defineProperty(this,l,{writable:true,value:380});Object.defineProperty(this,n,{writable:true,value:{}})}show(e){var s,r,i;if(e.ahaMoment&&babelHelpers.classPrivateFieldLooseBase(this,p)[p](e.ahaMoment)){return}const a=new o.Guide({id:e.id,overlay:false,simpleMode:true,onEvents:true,steps:[{target:e.target,title:e.title,text:e.text,position:e.top?"top":"bottom",condition:{top:!e.top,bottom:Boolean(e.top),color:"primary"},article:(s=e.article)==null?void 0:s.code,articleAnchor:(r=e.article)==null?void 0:r.anchorCode,linkTitle:(i=e.article)==null?void 0:i.title}],targetContainer:e.targetContainer});if(babelHelpers.classPrivateFieldLooseBase(this,l)[l]){a.getPopup().setWidth(babelHelpers.classPrivateFieldLooseBase(this,l)[l])}const n=new BX.SpotLight({targetElement:e.target,targetVertex:"middle-center",color:"var(--ui-color-primary)"});return new Promise((s=>{const o=a.getPopup();o.setAutoHide(true);o.setAngle({offset:e.target.offsetWidth/2});const r=()=>{o.adjustPosition()};const i=()=>{n.close();t.Event.unbind(document,"scroll",r,true);s()};o.subscribe("onClose",i);o.subscribe("onDestroy",i);n.show();a.start();o.adjustPosition({forceTop:!e.top,forceBindPosition:true});if(e.isPulsarTransparent){t.Dom.style(n.container,"pointer-events","none")}t.Event.bind(document,"scroll",r,true)}))}shouldShow(e,t={}){return{[i.Option.AhaAuditorsInCompactFormPopup]:babelHelpers.classPrivateFieldLooseBase(this,c)[c]()}[e]}setShown(e){this.setPopupShown(e);void a.optionService.setBool(e,true)}setPopupShown(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n][e]=true}}function h(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u](i.Option.AhaAuditorsInCompactFormPopup)}function b(e){return!babelHelpers.classPrivateFieldLooseBase(this,p)[p](e)}function v(e){const{ahaMoments:t}=r.Core.getParams();return!t[e]||babelHelpers.classPrivateFieldLooseBase(this,n)[n][e]}const P=new d;e.ahaMoments=P})(this.BX.Tasks.V2.Lib=this.BX.Tasks.V2.Lib||{},BX,BX,BX.UI.Tour,BX.Tasks.V2,BX.Tasks.V2.Const,BX.Tasks.V2.Provider.Service);
//# sourceMappingURL=aha-moments.bundle.map.js