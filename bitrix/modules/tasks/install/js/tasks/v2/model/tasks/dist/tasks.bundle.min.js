this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};(function(e,l,s){"use strict";const t={[s.TaskField.DatePlan]:new Set(["startPlanTs","endPlanTs","matchesSubTasksTime"]),[s.TaskField.SubTasks]:new Set(["containsSubTasks"]),[s.TaskField.RelatedTasks]:new Set(["containsRelatedTasks"])};var a=babelHelpers.classPrivateFieldLooseKey("setFieldsFilled");var i=babelHelpers.classPrivateFieldLooseKey("getAliasField");class d extends l.BuilderEntityModel{constructor(...e){super(...e);Object.defineProperty(this,i,{value:n});Object.defineProperty(this,a,{value:r})}getName(){return s.Model.Tasks}getState(){return{partiallyLoadedIds:new Set}}getElementState(){return{id:0,title:"",isImportant:false,description:"",creatorId:0,createdTs:Date.now(),responsibleId:0,deadlineTs:0,startPlanTs:null,endPlanTs:null,fileIds:[],checklist:[],containsChecklist:false,storyPoints:"",epicId:0,accomplicesIds:[],auditorsIds:[],tags:[],status:"pending",statusChangedTs:Date.now(),needsControl:false,filledFields:{},parentId:0,subTaskIds:[],containsSubTasks:false,relatedTaskIds:[],containsRelatedTasks:false,rights:{edit:true,deadline:true,datePlan:true,delegate:true},inFavorite:[],inMute:[]}}getGetters(){return{wasFieldFilled:e=>(l,s)=>{var t,a;return(t=(a=e.collection[l].filledFields)==null?void 0:a[s])!=null?t:false},isPartiallyLoaded:e=>l=>e.partiallyLoadedIds.has(l)}}getActions(){return{setFieldFilled:(e,{id:l,fieldName:s})=>{e.commit("setFieldFilled",{id:l,fieldName:s})},clearFieldsFilled:(e,l)=>{e.commit("clearFieldsFilled",l)},addPartiallyLoaded:(e,l)=>{e.commit("addPartiallyLoaded",l)},removePartiallyLoaded:(e,l)=>{e.commit("removePartiallyLoaded",l)}}}getMutations(){return{upsert:(e,s)=>{l.BuilderEntityModel.defaultModel.getMutations(this).upsert(e,s);babelHelpers.classPrivateFieldLooseBase(this,a)[a](e,s.id)},update:(e,{id:s,fields:t})=>{l.BuilderEntityModel.defaultModel.getMutations(this).update(e,{id:s,fields:t});babelHelpers.classPrivateFieldLooseBase(this,a)[a](e,s)},setFieldFilled:(e,{id:l,fieldName:s})=>{var t,a;((a=(t=e.collection[l]).filledFields)!=null?a:t.filledFields={})[s]=true},clearFieldsFilled:(e,l)=>{if(!e.collection[l]){return}e.collection[l].filledFields={};babelHelpers.classPrivateFieldLooseBase(this,a)[a](e,l)},addPartiallyLoaded:(e,l)=>{e.partiallyLoadedIds.add(l)},removePartiallyLoaded:(e,l)=>{e.partiallyLoadedIds.delete(l)}}}}function r(e,l){var s,t;const a=e.collection[l];const d=a==null?void 0:(s=a.rights)==null?void 0:s.edit;(t=a.filledFields)!=null?t:a.filledFields={};Object.entries(a).forEach((([e,l])=>{const s=Boolean(l)&&(!Array.isArray(l)||l.length>0);if(s){var t;a.filledFields[(t=babelHelpers.classPrivateFieldLooseBase(this,i)[i](e))!=null?t:e]=true}if(!s&&!d){a.filledFields[e]=false}}))}function n(e){var l;return(l=Object.entries(t).find((([,l])=>l.has(e))))==null?void 0:l[0]}e.Tasks=d})(this.BX.Tasks.V2.Model=this.BX.Tasks.V2.Model||{},BX.Vue3.Vuex,BX.Tasks.V2.Const);
//# sourceMappingURL=tasks.bundle.map.js