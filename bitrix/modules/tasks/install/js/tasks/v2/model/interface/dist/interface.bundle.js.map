{"version":3,"file":"interface.bundle.js","sources":["../src/interface.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\nimport { BuilderModel } from 'ui.vue3.vuex';\nimport type { ActionTree, GetterTree, MutationTree } from 'ui.vue3.vuex';\nimport { Model } from 'tasks.v2.const';\n\nimport type {\n\tInterfaceModelParams,\n\tInterfaceModelState,\n\tCheckListCompletionCallback,\n\tCheckListCompletionCallbacks,\n\tDefaultDeadline,\n} from './types';\n\nexport class Interface extends BuilderModel\n{\n\tstatic createWithVariables(params: InterfaceModelParams): BuilderModel\n\t{\n\t\treturn Interface.create().setVariables({\n\t\t\tcurrentUserId: params.currentUserId,\n\t\t\tdefaultDeadline: params.defaultDeadline,\n\t\t});\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn Model.Interface;\n\t}\n\n\tgetState(): InterfaceModelState\n\t{\n\t\treturn {\n\t\t\tcurrentUserId: this.getVariable('currentUserId', 0),\n\t\t\ttitleFieldOffsetHeight: this.getVariable('titleFieldOffsetHeight', null),\n\t\t\tdefaultDeadline: this.getVariable('defaultDeadline', {\n\t\t\t\tdefaultDeadlineInSeconds: 0,\n\t\t\t\tdefaultDeadlineDate: '',\n\t\t\t}),\n\t\t\tdeletingCheckListIds: {},\n\t\t\tdisableCheckListAnimations: false,\n\t\t\tcheckListCompletionCallbacks: {},\n\t\t};\n\t}\n\n\tgetGetters(): GetterTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\t/** @function interface/currentUserId */\n\t\t\tcurrentUserId: (state: InterfaceModelState): number => state.currentUserId,\n\t\t\t/** @function interface/titleFieldOffsetHeight */\n\t\t\ttitleFieldOffsetHeight: (state: InterfaceModelState): number => state.titleFieldOffsetHeight,\n\t\t\t/** @function interface/defaultDeadline */\n\t\t\tdefaultDeadline: (state: InterfaceModelState): DefaultDeadline => state.defaultDeadline,\n\t\t\t/** @function interface/deletingCheckListIds */\n\t\t\tdeletingCheckListIds: (state: InterfaceModelState): { [id: number]: number } => state.deletingCheckListIds,\n\t\t\t/** @function interface/disableCheckListAnimations */\n\t\t\tdisableCheckListAnimations: (state: InterfaceModelState): number => state.disableCheckListAnimations,\n\t\t};\n\t}\n\n\tgetActions(): ActionTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\t/** @function interface/updateTitleFieldOffsetHeight */\n\t\t\tupdateTitleFieldOffsetHeight: (store, titleFieldOffsetHeight: number) => {\n\t\t\t\tstore.commit('setTitleFieldOffsetHeight', titleFieldOffsetHeight);\n\t\t\t},\n\t\t\t/** @function interface/updateDefaultDeadline */\n\t\t\tupdateDefaultDeadline: (store, defaultDeadline: DefaultDeadline) => {\n\t\t\t\tstore.commit('setDefaultDeadline', defaultDeadline);\n\t\t\t},\n\t\t\t/** @function interface/addCheckListItemToDeleting */\n\t\t\taddCheckListItemToDeleting: (store, itemId: number | string) => {\n\t\t\t\tstore.commit('addCheckListItemToDeleting', itemId);\n\t\t\t},\n\t\t\t/** @function interface/removeCheckListItemFromDeleting */\n\t\t\tremoveCheckListItemFromDeleting: (store, itemId: number | string) => {\n\t\t\t\tstore.commit('removeCheckListItemFromDeleting', itemId);\n\t\t\t},\n\t\t\t/** @function interface/addCheckListCompletionCallback */\n\t\t\taddCheckListCompletionCallback: (store, { id, callback }) => {\n\t\t\t\tstore.commit('addCheckListCompletionCallback', { id, callback });\n\t\t\t},\n\t\t\t/** @function interface/executeCheckListCompletionCallbacks */\n\t\t\texecuteCheckListCompletionCallbacks: (store) => {\n\t\t\t\tstore.commit('executeCheckListCompletionCallbacks');\n\t\t\t},\n\t\t\t/** @function interface/setDisableCheckListAnimations */\n\t\t\tsetDisableCheckListAnimations: (store, disableCheckListAnimations: boolean) => {\n\t\t\t\tstore.commit('setDisableCheckListAnimations', disableCheckListAnimations);\n\t\t\t},\n\t\t};\n\t}\n\n\tgetMutations(): MutationTree<InterfaceModelState>\n\t{\n\t\treturn {\n\t\t\tsetTitleFieldOffsetHeight: (state: InterfaceModelState, titleFieldOffsetHeight: number) => {\n\t\t\t\tstate.titleFieldOffsetHeight = titleFieldOffsetHeight;\n\t\t\t},\n\t\t\tsetDefaultDeadline: (state: InterfaceModelState, defaultDeadline: DefaultDeadline) => {\n\t\t\t\tstate.defaultDeadline = defaultDeadline;\n\t\t\t},\n\t\t\taddCheckListItemToDeleting: (state: InterfaceModelState, itemId: number | string) => {\n\t\t\t\tstate.deletingCheckListIds[itemId] = itemId;\n\t\t\t},\n\t\t\tremoveCheckListItemFromDeleting: (state: InterfaceModelState, itemId: number) => {\n\t\t\t\tdelete state.deletingCheckListIds[itemId];\n\t\t\t},\n\t\t\taddCheckListCompletionCallback: (state: InterfaceModelState, { id, callback }) => {\n\t\t\t\tstate.checkListCompletionCallbacks[id] = callback;\n\t\t\t},\n\t\t\texecuteCheckListCompletionCallbacks: (state: InterfaceModelState) => {\n\t\t\t\tObject.values(state.checkListCompletionCallbacks).forEach((cb: CheckListCompletionCallback) => cb());\n\t\t\t\tstate.checkListCompletionCallbacks = {};\n\t\t\t},\n\t\t\tsetDisableCheckListAnimations: (state: InterfaceModelState, disableCheckListAnimations: boolean) => {\n\t\t\t\tstate.disableCheckListAnimations = disableCheckListAnimations === true;\n\t\t\t},\n\t\t};\n\t}\n}\n"],"names":["Interface","BuilderModel","createWithVariables","params","create","setVariables","currentUserId","defaultDeadline","getName","Model","getState","getVariable","titleFieldOffsetHeight","defaultDeadlineInSeconds","defaultDeadlineDate","deletingCheckListIds","disableCheckListAnimations","checkListCompletionCallbacks","getGetters","state","getActions","updateTitleFieldOffsetHeight","store","commit","updateDefaultDeadline","addCheckListItemToDeleting","itemId","removeCheckListItemFromDeleting","addCheckListCompletionCallback","id","callback","executeCheckListCompletionCallbacks","setDisableCheckListAnimations","getMutations","setTitleFieldOffsetHeight","setDefaultDeadline","Object","values","forEach","cb"],"mappings":"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"}