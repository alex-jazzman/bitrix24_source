{"version":3,"file":"task-full-card.bundle.js","sources":["../src/component/chat/chat.js","../src/component/footer-create/footer-create.js","../src/component/footer-edit/more/more.js","../src/component/footer-edit/footer-edit.js","../src/component/app.js","../src/task-full-card.js"],"sourcesContent":["import { EventEmitter } from 'main.core.events';\nimport { Messenger } from 'im.public';\nimport 'im.v2.application.integration.task';\n\nimport { Core } from 'tasks.v2.core';\nimport { Model } from 'tasks.v2.const';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport './chat.css';\n\n// @vue/component\nexport const Chat = {\n\tname: 'TaskFullCardChat',\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t},\n\twatch: {\n\t\ttaskId(): void\n\t\t{\n\t\t\tvoid this.openChat();\n\t\t},\n\t},\n\tmounted(): void\n\t{\n\t\tvoid this.openChat();\n\t},\n\tmethods: {\n\t\tasync openChat(): Promise<void>\n\t\t{\n\t\t\tthis.app?.bitrixVue.unmount();\n\t\t\tthis.app ??= await Messenger.initApplication('task');\n\n\t\t\tif (this.taskId > 0)\n\t\t\t{\n\t\t\t\tvoid this.app.mount({\n\t\t\t\t\trootContainer: this.$el,\n\t\t\t\t\tchatId: this.task.chatId,\n\t\t\t\t\ttaskId: this.taskId,\n\t\t\t\t\ttype: Core.getParams().chatType,\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tawait this.app.mountPlaceholder({\n\t\t\t\t\trootContainer: this.$el,\n\t\t\t\t\ttaskId: this.taskId,\n\t\t\t\t});\n\n\t\t\t\tEventEmitter.emit('tasks:card:onMembersCountChange', {\n\t\t\t\t\ttaskId: this.taskId,\n\t\t\t\t\tuserCounter: 1,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-full-card-chat\"></div>\n\t`,\n};\n","import { Event } from 'main.core';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\n\nimport { Core } from 'tasks.v2.core';\nimport { EventName } from 'tasks.v2.const';\nimport { AddTaskButton } from 'tasks.v2.component.add-task-button';\nimport './footer-create.css';\n\n// @vue/component\nexport const FooterCreate = {\n\tcomponents: {\n\t\tUiButton,\n\t\tAddTaskButton,\n\t},\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['addTask'],\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t};\n\t},\n\tcomputed: {\n\t\tisTemplateEnabled(): boolean\n\t\t{\n\t\t\treturn Core.getParams().features.isTemplateEnabled;\n\t\t},\n\t},\n\tmethods: {\n\t\tclose(): void\n\t\t{\n\t\t\tEvent.EventEmitter.emit(EventName.CloseFullCard);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-full-card-footer-create\">\n\t\t\t<AddTaskButton :taskId=\"taskId\" @addTask=\"$emit('addTask')\"/>\n\t\t\t<UiButton\n\t\t\t\t:text=\"loc('TASKS_V2_TASK_FULL_CARD_CANCEL')\"\n\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t:style=\"AirButtonStyle.PLAIN\"\n\t\t\t\tdata-task-cancel-button\n\t\t\t\t@click=\"close\"\n\t\t\t/>\n\t\t\t<UiButton\n\t\t\t\tv-if=\"isTemplateEnabled\"\n\t\t\t\tclass=\"tasks-full-card-footer-template-button\"\n\t\t\t\t:text=\"loc('TASKS_V2_TASK_FULL_CARD_TEMPLATES')\"\n\t\t\t\t:size=\"ButtonSize.SMALL\"\n\t\t\t\t:style=\"AirButtonStyle.PLAIN_NO_ACCENT\"\n\t\t\t\t:dropdown=\"true\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { Event, Runtime } from 'main.core';\nimport { mapGetters } from 'ui.vue3.vuex';\nimport { BMenu, MenuItemDesign, type MenuOptions, type MenuItemOptions } from 'ui.vue3.components.menu';\nimport { BIcon } from 'ui.icon-set.api.vue';\nimport { Outline } from 'ui.icon-set.api.core';\nimport 'ui.icon-set.outline';\n\nimport { EventName, Model, TaskStatus } from 'tasks.v2.const';\nimport { responsibleMeta } from 'tasks.v2.component.fields.responsible';\nimport { EntitySelectorDialog } from 'tasks.v2.lib.entity-selector-dialog';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport './more.css';\n\n// @vue/component\nexport const More = {\n\tname: 'TaskFullCardMore',\n\tcomponents: {\n\t\tBIcon,\n\t\tBMenu,\n\t},\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisMenuShown: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tcurrentUserId: `${Model.Interface}/currentUserId`,\n\t\t}),\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t\tpreselected(): [string, number][]\n\t\t{\n\t\t\treturn [['user', this.task.responsibleId || this.currentUserId]];\n\t\t},\n\t\tisCreator(): boolean\n\t\t{\n\t\t\treturn this.currentUserId === this.task.creatorId;\n\t\t},\n\t\tisResponsible(): boolean\n\t\t{\n\t\t\treturn this.currentUserId === this.task.responsibleId;\n\t\t},\n\t\tmenuOptions(): Function\n\t\t{\n\t\t\treturn (): MenuOptions => ({\n\t\t\t\tid: 'tasks-full-card-footer-more-menu',\n\t\t\t\tbindElement: this.$refs.button.$el,\n\t\t\t\titems: this.menuItems,\n\t\t\t});\n\t\t},\n\t\tmenuItems(): MenuItemOptions[]\n\t\t{\n\t\t\tconst statuses = {\n\t\t\t\t[TaskStatus.Pending]: {\n\t\t\t\t\t[this.isResponsible]: [\n\t\t\t\t\t\tthis.getCompleteItem(),\n\t\t\t\t\t\tthis.getDefferItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t],\n\t\t\t\t\t[this.isCreator]: [\n\t\t\t\t\t\tthis.getDefferItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t\t[this.isResponsible && this.isCreator]: [\n\t\t\t\t\t\tthis.getCompleteItem(),\n\t\t\t\t\t\tthis.getDefferItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t[TaskStatus.InProgress]: {\n\t\t\t\t\t[this.isResponsible]: [\n\t\t\t\t\t\tthis.getPauseItem(),\n\t\t\t\t\t\tthis.getDefferItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t],\n\t\t\t\t\t[this.isCreator]: [\n\t\t\t\t\t\tthis.getDefferItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t\t[this.isResponsible && this.isCreator]: [\n\t\t\t\t\t\tthis.getPauseItem(),\n\t\t\t\t\t\tthis.getDefferItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t[TaskStatus.Deferred]: {\n\t\t\t\t\t[this.isResponsible]: [\n\t\t\t\t\t\tthis.getCompleteItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t],\n\t\t\t\t\t[this.isCreator]: [\n\t\t\t\t\t\tthis.getCompleteItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t[TaskStatus.SupposedlyCompleted]: {\n\t\t\t\t\t[this.isResponsible]: [\n\t\t\t\t\t\tthis.getFixItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t],\n\t\t\t\t\t[this.isCreator]: [\n\t\t\t\t\t\tthis.getDisapproveItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t\t[this.isResponsible && this.isCreator]: [\n\t\t\t\t\t\tthis.getCompleteItem(),\n\t\t\t\t\t\tthis.getDelegateItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t[TaskStatus.Completed]: {\n\t\t\t\t\t[this.isCreator]: [\n\t\t\t\t\t\tthis.getRenewItem(),\n\t\t\t\t\t\tthis.getDeleteItem(),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t};\n\n\t\t\treturn statuses[this.task.status].true;\n\t\t},\n\t},\n\tmethods: {\n\t\thandleClick(): void\n\t\t{\n\t\t\tthis.isMenuShown = true;\n\t\t},\n\t\tgetDefferItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.defer)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_DEFER'),\n\t\t\t\ticon: Outline.PAUSE_L,\n\t\t\t\tonClick: (): void => taskService.defer(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetPauseItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.pause)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_PAUSE'),\n\t\t\t\ticon: Outline.STOP_L,\n\t\t\t\tonClick: (): void => taskService.pause(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetRenewItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.renew)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_RENEW'),\n\t\t\t\ticon: Outline.UNDO,\n\t\t\t\tonClick: (): void => taskService.renew(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetFixItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.renew)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_FIX'),\n\t\t\t\ticon: Outline.UNDO,\n\t\t\t\tonClick: (): void => taskService.renew(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetDisapproveItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.disapprove)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_DISAPPROVE'),\n\t\t\t\ticon: Outline.UNDO,\n\t\t\t\tonClick: (): void => taskService.disapprove(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetCompleteItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.complete)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_COMPLETE'),\n\t\t\t\ticon: Outline.SENDED,\n\t\t\t\tonClick: (): void => taskService.complete(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetDelegateItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.delegate)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_DELEGATE'),\n\t\t\t\ticon: Outline.DELEGATE,\n\t\t\t\tonClick: (): void => {\n\t\t\t\t\tconst onItemChangeDebounced = Runtime.debounce(this.handleDelegateSelect, 10, this);\n\n\t\t\t\t\tthis.dialog ??= new EntitySelectorDialog({\n\t\t\t\t\t\t...responsibleMeta.dialogOptions(this.$options.name),\n\t\t\t\t\t\tpreselectedItems: this.preselected,\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t'Item:onSelect': onItemChangeDebounced,\n\t\t\t\t\t\t\t'Item:onDeselect': onItemChangeDebounced,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tthis.dialog.selectItemsByIds(this.preselected);\n\t\t\t\t\tthis.dialog.showTo(this.$refs.button.$el);\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\thandleDelegateSelect(): void\n\t\t{\n\t\t\tconst responsibleId = this.dialog.getSelectedItems()[0]?.getId() ?? 0;\n\n\t\t\tvoid taskService.update(\n\t\t\t\tthis.taskId,\n\t\t\t\t{ responsibleId },\n\t\t\t);\n\t\t},\n\t\tgetDeleteItem(): MenuItemOptions\n\t\t{\n\t\t\tif (!this.task.rights.remove)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdesign: MenuItemDesign.Alert,\n\t\t\t\ttitle: this.loc('TASKS_V2_TASK_FULL_CARD_DELETE'),\n\t\t\t\ticon: Outline.TRASHCAN,\n\t\t\t\tonClick: (): void => {\n\t\t\t\t\tvoid taskService.delete(this.taskId);\n\t\t\t\t\tEvent.EventEmitter.emit(EventName.CloseFullCard);\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BIcon\n\t\t\tv-if=\"menuItems\"\n\t\t\tclass=\"tasks-full-card-footer-more\"\n\t\t\t:name=\"Outline.MORE_L\"\n\t\t\tdata-task-more-button\n\t\t\tref=\"button\"\n\t\t\t@click=\"handleClick\"\n\t\t/>\n\t\t<BMenu v-if=\"isMenuShown\" :options=\"menuOptions()\" @close=\"isMenuShown = false\"/>\n\t`,\n};\n","import { mapGetters } from 'ui.vue3.vuex';\nimport { Button as UiButton, AirButtonStyle, ButtonSize, ButtonIcon } from 'ui.vue3.components.button';\nimport { BIcon } from 'ui.icon-set.api.vue';\nimport { Outline } from 'ui.icon-set.api.core';\nimport 'ui.icon-set.outline';\n\nimport { Model, TaskStatus } from 'tasks.v2.const';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { More } from './more/more';\nimport './footer-edit.css';\n\ntype ButtonOptions = {\n\ttext: string,\n\tcolor: string,\n\tdisabled: boolean,\n\tonClick: Function,\n};\n\n// @vue/component\nexport const FooterEdit = {\n\tcomponents: {\n\t\tUiButton,\n\t\tBIcon,\n\t\tMore,\n\t},\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tButtonIcon,\n\t\t\tOutline,\n\t\t\tTaskStatus,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tcurrentUserId: `${Model.Interface}/currentUserId`,\n\t\t}),\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t\tisCreator(): boolean\n\t\t{\n\t\t\treturn this.currentUserId === this.task.creatorId;\n\t\t},\n\t\tisResponsible(): boolean\n\t\t{\n\t\t\treturn this.currentUserId === this.task.responsibleId;\n\t\t},\n\t\tstatusButton(): ButtonOptions | null\n\t\t{\n\t\t\tconst statuses = {\n\t\t\t\t[TaskStatus.Pending]: {\n\t\t\t\t\t[this.isCreator]: this.getCompleteButton(),\n\t\t\t\t\t[this.isResponsible]: this.getStartButton(),\n\t\t\t\t},\n\t\t\t\t[TaskStatus.InProgress]: {\n\t\t\t\t\t[this.isResponsible]: this.getCompleteButton(),\n\t\t\t\t\t[this.isCreator]: this.getCompleteButton(),\n\t\t\t\t},\n\t\t\t\t[TaskStatus.Deferred]: {\n\t\t\t\t\t[this.isResponsible]: this.getRenewButton(),\n\t\t\t\t\t[this.isCreator]: this.getRenewButton(),\n\t\t\t\t},\n\t\t\t\t[TaskStatus.SupposedlyCompleted]: {\n\t\t\t\t\t[this.isResponsible]: this.getReviewButton(),\n\t\t\t\t\t[this.isCreator]: this.getApproveButton(),\n\t\t\t\t},\n\t\t\t\t[TaskStatus.Completed]: {\n\t\t\t\t\t[this.isResponsible && !this.isCreator]: this.getRenewButton(AirButtonStyle.PLAIN),\n\t\t\t\t},\n\t\t\t};\n\n\t\t\treturn statuses[this.task.status].true;\n\t\t},\n\t},\n\tmethods: {\n\t\tgetStartButton(): ButtonOptions\n\t\t{\n\t\t\tif (!this.task.rights.start)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttext: this.loc('TASKS_V2_TASK_FULL_CARD_START'),\n\t\t\t\tonClick: (): void => taskService.start(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetCompleteButton(): ButtonOptions\n\t\t{\n\t\t\tif (!this.task.rights.complete)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttext: this.loc('TASKS_V2_TASK_FULL_CARD_COMPLETE'),\n\t\t\t\tonClick: (): void => taskService.complete(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetRenewButton(style: string): ButtonOptions\n\t\t{\n\t\t\tif (!this.task.rights.renew)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttext: this.loc('TASKS_V2_TASK_FULL_CARD_RENEW'),\n\t\t\t\tstyle,\n\t\t\t\tonClick: (): void => taskService.renew(this.taskId),\n\t\t\t};\n\t\t},\n\t\tgetReviewButton(): ButtonOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttext: this.loc('TASKS_V2_TASK_FULL_CARD_ON_REVIEW'),\n\t\t\t\tdisabled: true,\n\t\t\t};\n\t\t},\n\t\tgetApproveButton(): ButtonOptions\n\t\t{\n\t\t\tif (!this.task.rights.approve)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttext: this.loc('TASKS_V2_TASK_FULL_CARD_APPROVE'),\n\t\t\t\tonClick: (): void => taskService.complete(this.taskId),\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-full-card-footer-edit\">\n\t\t\t<UiButton\n\t\t\t\tv-if=\"statusButton\"\n\t\t\t\t:text=\"statusButton.text\"\n\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t:style=\"statusButton.style ?? AirButtonStyle.FILLED\"\n\t\t\t\t:disabled=\"statusButton.disabled ?? false\"\n\t\t\t\tdata-task-status-button\n\t\t\t\t@click=\"statusButton.onClick\"\n\t\t\t/>\n\t\t\t<More :taskId=\"taskId\"/>\n\t\t\t<div class=\"tasks-full-card-footer-actions\">\n\t\t\t\t<div class=\"tasks-full-card-footer-reaction\">\n\t\t\t\t\t<BIcon :name=\"Outline.LIKE\"/>\n\t\t\t\t\t<div class=\"tasks-full-card-footer-reaction-text\">Нравится</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-full-card-footer-views\">\n\t\t\t\t\t<BIcon :name=\"Outline.OBSERVER\"/>\n\t\t\t\t\t<div class=\"tasks-full-card-footer-views-text\">1</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Dom, Event, Text, Type } from 'main.core';\n\nimport { mapActions, mapGetters } from 'ui.vue3.vuex';\nimport { Outline } from 'ui.icon-set.api.core';\nimport 'ui.icon-set.outline';\n\nimport { FullSkeleton } from 'tasks.v2.application.task-card';\nimport { Core } from 'tasks.v2.core';\nimport { CardType, EventName, Model } from 'tasks.v2.const';\nimport { Chip } from 'tasks.v2.component.elements.chip';\nimport { FieldList } from 'tasks.v2.component.elements.field-list';\nimport { Title as FieldTitle } from 'tasks.v2.component.fields.title';\nimport { Importance } from 'tasks.v2.component.fields.importance';\nimport { DescriptionField, DescriptionSheet } from 'tasks.v2.component.fields.description';\nimport { Creator, creatorMeta } from 'tasks.v2.component.fields.creator';\nimport { Responsible, responsibleMeta } from 'tasks.v2.component.fields.responsible';\nimport { Deadline, deadlineMeta } from 'tasks.v2.component.fields.deadline';\nimport { Status, statusMeta } from 'tasks.v2.component.fields.status';\nimport { Files, FilesSheet, FilesChip, filesMeta } from 'tasks.v2.component.fields.files';\nimport { CheckList, CheckListChip, checkListMeta } from 'tasks.v2.component.fields.check-list';\nimport { Group, GroupChip, groupMeta } from 'tasks.v2.component.fields.group';\nimport { Flow, FlowChip, flowMeta } from 'tasks.v2.component.fields.flow';\nimport { Accomplices, AccomplicesChip, accomplicesMeta } from 'tasks.v2.component.fields.accomplices';\nimport { Auditors, AuditorsChip, auditorsMeta } from 'tasks.v2.component.fields.auditors';\nimport { fileService } from 'tasks.v2.provider.service.file-service';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport { checkListService } from 'tasks.v2.provider.service.check-list-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { CheckListModel } from 'tasks.v2.model.check-list';\n\nimport { Chat } from './chat/chat';\nimport { FooterCreate } from './footer-create/footer-create';\nimport { FooterEdit } from './footer-edit/footer-edit';\nimport './app.css';\n\n// @vue/component\nexport const App = {\n\tname: 'TaskFullCard',\n\tcomponents: {\n\t\tFieldTitle,\n\t\tImportance,\n\t\tDescriptionField,\n\t\tDescriptionSheet,\n\t\tFiles,\n\t\tFilesSheet,\n\t\tCheckList,\n\t\tFieldList,\n\t\tChip,\n\t\tChat,\n\t\tFooterCreate,\n\t\tFooterEdit,\n\t},\n\tprovide(): Object\n\t{\n\t\treturn {\n\t\t\tanalytics: this.analytics,\n\t\t\tcardType: CardType.Full,\n\t\t};\n\t},\n\tprops: {\n\t\tid: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: () => Text.getRandom(),\n\t\t},\n\t\tanalytics: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({}),\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t\tresizeObserver: null,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\ttaskId: this.id,\n\t\t\tisBottomSheetShown: false,\n\t\t\tisFilesSheetShown: false,\n\t\t\tisCheckListSheetShown: false,\n\t\t\tchipsEventHandlers: {\n\t\t\t\tshowCheckList: this.openCheckList,\n\t\t\t},\n\t\t\tcheckListId: 0,\n\t\t\tfiles: fileService.get(this.id).getFiles(),\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tcurrentUserId: `${Model.Interface}/currentUserId`,\n\t\t}),\n\t\twasAccomplicesFilled(): boolean\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/wasFieldFilled`](this.taskId, accomplicesMeta.id);\n\t\t},\n\t\twasAuditorsFilled(): boolean\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/wasFieldFilled`](this.taskId, auditorsMeta.id);\n\t\t},\n\t\twasFlowFilled(): boolean\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/wasFieldFilled`](this.taskId, flowMeta.id);\n\t\t},\n\t\twasGroupFilled(): boolean\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/wasFieldFilled`](this.taskId, groupMeta.id);\n\t\t},\n\t\twasFilesFilled(): boolean\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/wasFieldFilled`](this.taskId, filesMeta.id);\n\t\t},\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t\tcheckLists(): CheckListModel[]\n\t\t{\n\t\t\treturn this.task?.checklist\n\t\t\t\t? this.$store.getters[`${Model.CheckList}/getByIds`](this.task.checklist)\n\t\t\t\t: [];\n\t\t},\n\t\tisEdit(): boolean\n\t\t{\n\t\t\treturn Type.isNumber(this.taskId) && this.taskId > 0;\n\t\t},\n\t\tfields(): Object[]\n\t\t{\n\t\t\tconst fields = [\n\t\t\t\t{\n\t\t\t\t\ttitle: creatorMeta.title,\n\t\t\t\t\tcomponent: Creator,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\ttaskId: this.taskId,\n\t\t\t\t\t\tcontext: this.$options.name,\n\t\t\t\t\t\tselectorWithActionMenu: this.isEdit,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: responsibleMeta.title,\n\t\t\t\t\tcomponent: Responsible,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\ttaskId: this.taskId,\n\t\t\t\t\t\tcontext: this.$options.name,\n\t\t\t\t\t\tselectorWithActionMenu: this.isEdit,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: deadlineMeta.title,\n\t\t\t\t\tcomponent: Deadline,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: statusMeta.title,\n\t\t\t\t\tcomponent: Status,\n\t\t\t\t\twithSeparator: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: filesMeta.title,\n\t\t\t\t\tcomponent: Files,\n\t\t\t\t\tchip: FilesChip,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: checkListMeta.title,\n\t\t\t\t\tcomponent: CheckList,\n\t\t\t\t\tchip: CheckListChip,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: groupMeta.getTitle(this.task.groupId),\n\t\t\t\t\tcomponent: Group,\n\t\t\t\t\tchip: GroupChip,\n\t\t\t\t\tisEnabled: Core.getParams().features.isProjectsEnabled,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: accomplicesMeta.title,\n\t\t\t\t\tcomponent: Accomplices,\n\t\t\t\t\tchip: AccomplicesChip,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: auditorsMeta.title,\n\t\t\t\t\tcomponent: Auditors,\n\t\t\t\t\tchip: AuditorsChip,\n\t\t\t\t\twithSeparator: this.wasAccomplicesFilled,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: flowMeta.title,\n\t\t\t\t\tcomponent: Flow,\n\t\t\t\t\tchip: FlowChip,\n\t\t\t\t\twithSeparator: true,\n\t\t\t\t\tisEnabled: Core.getParams().features.isFlowEnabled,\n\t\t\t\t},\n\t\t\t];\n\n\t\t\t/* eslint-disable no-param-reassign */\n\t\t\tfields.forEach((field) => {\n\t\t\t\tfield.props ??= {};\n\t\t\t\tfield.props.taskId = this.taskId;\n\t\t\t});\n\n\t\t\treturn fields;\n\t\t},\n\t\tprimaryFields(): Object[]\n\t\t{\n\t\t\tconst primaryFields = new Set([Creator, Responsible, Deadline, Status]);\n\n\t\t\treturn this.fields.filter(({ component }) => primaryFields.has(component));\n\t\t},\n\t\tprojectFields(): Object[]\n\t\t{\n\t\t\tconst projectFields = new Set();\n\t\t\tif (this.wasGroupFilled)\n\t\t\t{\n\t\t\t\tprojectFields.add(Group);\n\t\t\t}\n\n\t\t\tif (this.wasFlowFilled)\n\t\t\t{\n\t\t\t\tprojectFields.add(Flow);\n\t\t\t}\n\n\t\t\treturn this.fields.filter(({ component }) => projectFields.has(component));\n\t\t},\n\t\tparticipantsFields(): Object[]\n\t\t{\n\t\t\tconst participantsFields = new Set();\n\n\t\t\tif (this.wasAccomplicesFilled)\n\t\t\t{\n\t\t\t\tparticipantsFields.add(Accomplices);\n\t\t\t}\n\n\t\t\tif (this.wasAuditorsFilled)\n\t\t\t{\n\t\t\t\tparticipantsFields.add(Auditors);\n\t\t\t}\n\n\t\t\treturn this.fields.filter(({ component }) => participantsFields.has(component));\n\t\t},\n\t\tchips(): any[]\n\t\t{\n\t\t\treturn this.fields.filter(({ chip, isEnabled }) => chip && isEnabled !== false ).map(({ chip }) => chip);\n\t\t},\n\t},\n\twatch: {\n\t\tasync task(): Promise<void>\n\t\t{\n\t\t\tif (this.task)\n\t\t\t{\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.tryStartObserver();\n\t\t\t}\n\t\t},\n\t},\n\tasync created(): Promise<void>\n\t{\n\t\tif (!this.isEdit && !this.task)\n\t\t{\n\t\t\tvoid this.$store.dispatch(`${Model.Tasks}/insert`, {\n\t\t\t\tid: this.taskId,\n\t\t\t\tcreatorId: this.currentUserId,\n\t\t\t});\n\t\t}\n\n\t\tawait this.$store.dispatch(`${Model.Tasks}/clearFieldsFilled`, this.taskId);\n\n\t\tif (this.isEdit && !this.task)\n\t\t{\n\t\t\tawait taskService.getById(this.taskId);\n\t\t}\n\t},\n\tmounted(): void\n\t{\n\t\tthis.tryStartObserver();\n\t\tthis.$refs.skeleton?.append(FullSkeleton());\n\t},\n\tbeforeUnmount(): void\n\t{\n\t\tif (this.resizeObserver)\n\t\t{\n\t\t\tthis.resizeObserver.disconnect();\n\t\t}\n\t},\n\tunmounted(): void\n\t{\n\t\tif (!this.isEdit)\n\t\t{\n\t\t\tvoid this.$store.dispatch(`${Model.Tasks}/delete`, this.taskId);\n\t\t\tfileService.delete(this.taskId);\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapActions(Model.Interface, [\n\t\t\t'updateTitleFieldOffsetHeight',\n\t\t]),\n\t\ttryStartObserver(): void\n\t\t{\n\t\t\tif (this.$refs.title && !this.resizeObserver)\n\t\t\t{\n\t\t\t\tthis.resizeObserver = this.getObserver();\n\t\t\t\tthis.resizeObserver.observe(this.$refs.title);\n\t\t\t}\n\t\t},\n\t\tgetObserver(): ResizeObserver\n\t\t{\n\t\t\treturn new ResizeObserver((entries) => {\n\t\t\t\tfor (const entry of entries)\n\t\t\t\t{\n\t\t\t\t\tif (entry.target === this.$refs.title)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.updateTitleFieldOffsetHeight(entry.contentRect.height);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync addTask(): Promise<void>\n\t\t{\n\t\t\tconst checkLists = this.checkLists;\n\n\t\t\tconst [id] = await taskService.add(this.task);\n\n\t\t\tthis.taskId = id;\n\n\t\t\tif (checkLists.length > 0)\n\t\t\t{\n\t\t\t\tawait checkListService.save(this.taskId, checkLists);\n\t\t\t}\n\n\t\t\tfileService.replace(this.id, this.taskId);\n\t\t},\n\t\topenEditor(): void\n\t\t{\n\t\t\tthis.handleShowBottomSheet();\n\t\t},\n\t\tcloseEditor(slot: { close: () => void }): void\n\t\t{\n\t\t\tslot.close();\n\t\t\tthis.handleCloseBottomSheet();\n\t\t},\n\t\topenFiles(): void\n\t\t{\n\t\t\tthis.isFilesSheetShown = true;\n\t\t\tthis.handleShowBottomSheet();\n\t\t},\n\t\tcloseFiles(): void\n\t\t{\n\t\t\tthis.isFilesSheetShown = false;\n\t\t\tthis.handleCloseBottomSheet();\n\t\t\tthis.handleCloseBottomSheet();\n\t\t},\n\t\topenCheckList(checkListId?: number): void\n\t\t{\n\t\t\tthis.checkListId = checkListId;\n\t\t\tthis.isCheckListSheetShown = true;\n\t\t\tthis.handleShowBottomSheet();\n\t\t},\n\t\tcloseCheckList(): void\n\t\t{\n\t\t\tthis.isCheckListSheetShown = false;\n\t\t\tthis.handleCloseBottomSheet();\n\t\t},\n\t\thandleShowBottomSheet(): void\n\t\t{\n\t\t\tthis.isBottomSheetShown = true;\n\t\t\tDom.addClass(this.$refs.scrollContent, '--disable-scroll');\n\t\t\tthis.$refs.scrollContent.scrollTo({\n\t\t\t\ttop: 0,\n\t\t\t\tbehavior: 'smooth',\n\t\t\t});\n\t\t},\n\t\thandleCloseBottomSheet(): void\n\t\t{\n\t\t\tthis.isBottomSheetShown = false;\n\t\t\tDom.removeClass(this.$refs.scrollContent, '--disable-scroll');\n\t\t},\n\t\tclose(): void\n\t\t{\n\t\t\tEvent.EventEmitter.emit(EventName.CloseFullCard);\n\t\t},\n\t\tgetEventListeners(chip, handlers): Object\n\t\t{\n\t\t\tconst listeners = {};\n\n\t\t\tif (chip.emits)\n\t\t\t{\n\t\t\t\tObject.keys(handlers).forEach((event: string) => {\n\t\t\t\t\tif (chip.emits.includes(event))\n\t\t\t\t\t{\n\t\t\t\t\t\tlisteners[event] = handlers[event];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn listeners;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-full-card\" :data-task-id=\"taskId\" data-task-full>\n\t\t\t<template v-if=\"task\">\n\t\t\t\t<div class=\"tasks-full-card-main\" :class=\"{ '--overlay': isBottomSheetShown }\">\n\t\t\t\t\t<div class=\"tasks-full-card-content\" ref=\"scrollContent\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"tasks-full-card-title\"\n\t\t\t\t\t\t\t:class=\"{'--no-padding-bottom': task.description.length > 0}\"\n\t\t\t\t\t\t\tref=\"title\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FieldTitle :taskId=\"taskId\"/>\n\t\t\t\t\t\t\t<Importance :taskId=\"taskId\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<FilesSheet\n\t\t\t\t\t\t\t:taskId=\"taskId\"\n\t\t\t\t\t\t\t:isShown=\"isFilesSheetShown\"\n\t\t\t\t\t\t\t@close=\"closeFiles\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<CheckList\n\t\t\t\t\t\t\t:taskId=\"taskId\"\n\t\t\t\t\t\t\t:checkListId=\"checkListId\"\n\t\t\t\t\t\t\t:isShown=\"isCheckListSheetShown\"\n\t\t\t\t\t\t\t@close=\"closeCheckList\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<DescriptionField\n\t\t\t\t\t\t\t:taskId=\"taskId\"\n\t\t\t\t\t\t\tv-slot=\"slot\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DescriptionSheet\n\t\t\t\t\t\t\t\t:taskId=\"taskId\"\n\t\t\t\t\t\t\t\t:isShown=\"slot.isShown\"\n\t\t\t\t\t\t\t\t:doOpenInEditMode=\"slot.doOpenInEditMode\"\n\t\t\t\t\t\t\t\t@show=\"openEditor\"\n\t\t\t\t\t\t\t\t@close=\"closeEditor(slot)\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</DescriptionField>\n\t\t\t\t\t\t<div class=\"tasks-full-card-fields\">\n\t\t\t\t\t\t\t<div class=\"tasks-full-card-field-container\" data-field-container>\n\t\t\t\t\t\t\t\t<FieldList :fields=\"primaryFields\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"tasks-full-card-chips-fields\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"files.length > 0 || wasFilesFilled\"\n\t\t\t\t\t\t\t\t\tclass=\"tasks-full-card-field-container\"\n\t\t\t\t\t\t\t\t\tdata-field-container\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Files :taskId=\"taskId\" @open=\"openFiles\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"task.checklist.length > 0\"\n\t\t\t\t\t\t\t\t\tclass=\"tasks-full-card-field-container --custom\"\n\t\t\t\t\t\t\t\t\tdata-field-container\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CheckList\n\t\t\t\t\t\t\t\t\t\t:taskId=\"taskId\"\n\t\t\t\t\t\t\t\t\t\t:isPreview=\"true\"\n\t\t\t\t\t\t\t\t\t\t:isComponentShown=\"!isCheckListSheetShown\"\n\t\t\t\t\t\t\t\t\t\t@open=\"openCheckList\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"projectFields.length > 0\"\n\t\t\t\t\t\t\t\t\tclass=\"tasks-full-card-field-container\"\n\t\t\t\t\t\t\t\t\tdata-field-container\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FieldList :fields=\"projectFields\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"participantsFields.length > 0\"\n\t\t\t\t\t\t\t\t\tclass=\"tasks-full-card-field-container\"\n\t\t\t\t\t\t\t\t\tdata-field-container\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FieldList\n\t\t\t\t\t\t\t\t\t\t:fields=\"participantsFields\"\n\t\t\t\t\t\t\t\t\t\t:useSeparator=\"participantsFields.length > 1\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"tasks-full-card-chips\">\n\t\t\t\t\t\t\t\t\t<template v-for=\"(chip, index) of chips\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t\t<component\n\t\t\t\t\t\t\t\t\t\t\t:is=\"chip\"\n\t\t\t\t\t\t\t\t\t\t\tv-bind=\"{ taskId }\"\n\t\t\t\t\t\t\t\t\t\t\tv-on=\"getEventListeners(chip, chipsEventHandlers)\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<Chip :icon=\"Outline.APPS\" :text=\"'Ещё'\" :soon=\"true\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-full-card-footer\">\n\t\t\t\t\t\t<FooterEdit v-if=\"isEdit\" :taskId=\"taskId\"/>\n\t\t\t\t\t\t<FooterCreate v-else :taskId=\"taskId\" @addTask=\"addTask\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Chat :taskId=\"taskId\"/>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<div ref=\"skeleton\" style=\"width: 100%;\"></div>\n\t\t\t</template>\n\t\t</div>\n\t`,\n};\n","import { Event } from 'main.core';\nimport type { Popup } from 'main.popup';\nimport type { Slider } from 'main.sidepanel';\n\nimport { BitrixVue, type VueCreateAppResult } from 'ui.vue3';\nimport { locMixin } from 'ui.vue3.mixins.loc-mixin';\n\nimport { Core } from 'tasks.v2.core';\nimport { EventName } from 'tasks.v2.const';\nimport type { Params } from 'tasks.v2.application.task-card';\n\nimport { App } from './component/app';\n\nexport class TaskFullCard\n{\n\t#params: Params;\n\t#slider: Slider;\n\t#application: ?VueCreateAppResult;\n\n\tconstructor(params: Params = {})\n\t{\n\t\tthis.#params = params;\n\t}\n\n\tasync mountCard(slider: Slider): Promise<void>\n\t{\n\t\tif (!slider.isOpen())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#slider = slider;\n\n\t\tthis.#subscribe();\n\n\t\tthis.#application = await this.#mountApplication(slider.getContentContainer());\n\t}\n\n\tunmountCard(): void\n\t{\n\t\tthis.#unmountApplication();\n\n\t\tthis.#unsubscribe();\n\t}\n\n\tasync #mountApplication(container: HTMLElement): Promise<VueCreateAppResult>\n\t{\n\t\tawait Core.init();\n\n\t\tconst application = BitrixVue.createApp(App, {\n\t\t\t...this.#params,\n\t\t\tid: this.#params.taskId,\n\t\t});\n\n\t\tapplication.mixin(locMixin);\n\t\tapplication.use(Core.getStore());\n\t\tapplication.mount(container);\n\n\t\treturn application;\n\t}\n\n\t#unmountApplication(): void\n\t{\n\t\tthis.#application?.unmount();\n\t}\n\n\t#subscribe(): void\n\t{\n\t\tEvent.EventEmitter.subscribe(EventName.CloseFullCard, this.#onClose);\n\t\tEvent.EventEmitter.subscribe('BX.Main.Popup:onShow', this.#handlePopupShow);\n\t}\n\n\t#unsubscribe(): void\n\t{\n\t\tEvent.EventEmitter.unsubscribe(EventName.CloseFullCard, this.#onClose);\n\t\tEvent.EventEmitter.unsubscribe('BX.Main.Popup:onShow', this.#handlePopupShow);\n\t}\n\n\t#onClose = (): void => {\n\t\tthis.#slider.close();\n\t};\n\n\t#handlePopupShow = (event): void => {\n\t\tconst popup: Popup = event.getCompatData()[0];\n\n\t\tconst onScroll = () => popup.adjustPosition();\n\t\tconst onClose = () => {\n\t\t\tpopup.unsubscribe('onClose', onClose);\n\t\t\tpopup.unsubscribe('onDestroy', onClose);\n\t\t\tEvent.unbind(document, 'scroll', onScroll, true);\n\t\t};\n\n\t\tpopup.subscribe('onClose', onClose);\n\t\tpopup.subscribe('onDestroy', onClose);\n\t\tEvent.bind(document, 'scroll', onScroll, true);\n\t};\n}\n"],"names":["Chat","name","props","taskId","type","Number","String","required","computed","task","$store","getters","Model","Tasks","watch","openChat","mounted","methods","app","bitrixVue","unmount","Messenger","initApplication","mount","rootContainer","$el","chatId","Core","getParams","chatType","mountPlaceholder","EventEmitter","emit","userCounter","template","FooterCreate","components","UiButton","AddTaskButton","emits","setup","AirButtonStyle","ButtonSize","isTemplateEnabled","features","close","Event","EventName","CloseFullCard","More","BIcon","BMenu","Outline","data","isMenuShown","mapGetters","currentUserId","Interface","preselected","responsibleId","isCreator","creatorId","isResponsible","menuOptions","id","bindElement","$refs","button","items","menuItems","statuses","TaskStatus","Pending","getCompleteItem","getDefferItem","getDelegateItem","getDeleteItem","InProgress","getPauseItem","Deferred","SupposedlyCompleted","getFixItem","getDisapproveItem","Completed","getRenewItem","status","true","handleClick","rights","defer","title","loc","icon","PAUSE_L","onClick","taskService","pause","STOP_L","renew","UNDO","disapprove","complete","SENDED","delegate","DELEGATE","onItemChangeDebounced","Runtime","debounce","handleDelegateSelect","dialog","EntitySelectorDialog","responsibleMeta","dialogOptions","$options","preselectedItems","events","selectItemsByIds","showTo","getSelectedItems","getId","update","remove","design","MenuItemDesign","Alert","TRASHCAN","delete","FooterEdit","ButtonIcon","statusButton","getCompleteButton","getStartButton","getRenewButton","getReviewButton","getApproveButton","PLAIN","start","text","style","disabled","approve","App","FieldTitle","Importance","DescriptionField","DescriptionSheet","Files","FilesSheet","CheckList","FieldList","Chip","provide","analytics","cardType","CardType","Full","default","Text","getRandom","Object","resizeObserver","isBottomSheetShown","isFilesSheetShown","isCheckListSheetShown","chipsEventHandlers","showCheckList","openCheckList","checkListId","files","fileService","get","getFiles","wasAccomplicesFilled","accomplicesMeta","wasAuditorsFilled","auditorsMeta","wasFlowFilled","flowMeta","wasGroupFilled","groupMeta","wasFilesFilled","filesMeta","checkLists","checklist","isEdit","Type","isNumber","fields","creatorMeta","component","Creator","context","selectorWithActionMenu","Responsible","deadlineMeta","Deadline","statusMeta","Status","withSeparator","chip","FilesChip","checkListMeta","CheckListChip","getTitle","groupId","Group","GroupChip","isEnabled","isProjectsEnabled","Accomplices","AccomplicesChip","Auditors","AuditorsChip","Flow","FlowChip","isFlowEnabled","forEach","field","primaryFields","Set","filter","has","projectFields","add","participantsFields","chips","map","$nextTick","tryStartObserver","created","dispatch","getById","skeleton","append","FullSkeleton","beforeUnmount","disconnect","unmounted","mapActions","getObserver","observe","ResizeObserver","entries","entry","target","updateTitleFieldOffsetHeight","contentRect","height","addTask","length","checkListService","save","replace","openEditor","handleShowBottomSheet","closeEditor","slot","handleCloseBottomSheet","openFiles","closeFiles","closeCheckList","Dom","addClass","scrollContent","scrollTo","top","behavior","removeClass","getEventListeners","handlers","listeners","keys","event","includes","TaskFullCard","constructor","params","popup","getCompatData","onScroll","adjustPosition","onClose","unsubscribe","unbind","document","subscribe","bind","mountCard","slider","isOpen","getContentContainer","unmountCard","container","init","application","BitrixVue","createApp","mixin","locMixin","use","getStore"],"mappings":";;;;;;;CAUA;AACA,CAAO,MAAMA,IAAI,GAAG;GACnBC,IAAI,EAAE,kBAAkB;GACxBC,KAAK,EAAE;KACNC,MAAM,EAAE;OACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBC,QAAQ,EAAE;;IAEX;GACDC,QAAQ,EAAE;KACTC,IAAI,GACJ;OACC,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,UAAS,CAAC,CAAC,IAAI,CAACV,MAAM,CAAC;;IAElE;GACDW,KAAK,EAAE;KACNX,MAAM,GACN;OACC,KAAK,IAAI,CAACY,QAAQ,EAAE;;IAErB;GACDC,OAAO,GACP;KACC,KAAK,IAAI,CAACD,QAAQ,EAAE;IACpB;GACDE,OAAO,EAAE;KACR,MAAMF,QAAQ,GACd;OAAA;OACC,iBAAI,CAACG,GAAG,qBAAR,UAAUC,SAAS,CAACC,OAAO,EAAE;OAC7B,kBAAI,CAACF,GAAG,yBAAR,IAAI,CAACA,GAAG,GAAK,MAAMG,mBAAS,CAACC,eAAe,CAAC,MAAM,CAAC;OAEpD,IAAI,IAAI,CAACnB,MAAM,GAAG,CAAC,EACnB;SACC,KAAK,IAAI,CAACe,GAAG,CAACK,KAAK,CAAC;WACnBC,aAAa,EAAE,IAAI,CAACC,GAAG;WACvBC,MAAM,EAAE,IAAI,CAACjB,IAAI,CAACiB,MAAM;WACxBvB,MAAM,EAAE,IAAI,CAACA,MAAM;WACnBC,IAAI,EAAEuB,kBAAI,CAACC,SAAS,EAAE,CAACC;UACvB,CAAC;QACF,MAED;SACC,MAAM,IAAI,CAACX,GAAG,CAACY,gBAAgB,CAAC;WAC/BN,aAAa,EAAE,IAAI,CAACC,GAAG;WACvBtB,MAAM,EAAE,IAAI,CAACA;UACb,CAAC;SAEF4B,6BAAY,CAACC,IAAI,CAAC,iCAAiC,EAAE;WACpD7B,MAAM,EAAE,IAAI,CAACA,MAAM;WACnB8B,WAAW,EAAE;UACb,CAAC;;;IAGJ;GACDC,QAAQ,EAAG;;;CAGZ,CAAC;;CC3DD;AACA,CAAO,MAAMC,YAAY,GAAG;GAC3BC,UAAU,EAAE;eACXC,gCAAQ;oBACRC;IACA;GACDpC,KAAK,EAAE;KACNC,MAAM,EAAE;OACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBC,QAAQ,EAAE;;IAEX;GACDgC,KAAK,EAAE,CAAC,SAAS,CAAC;GAClBC,KAAK,GACL;KACC,OAAO;uBACNC,wCAAc;mBACdC;MACA;IACD;GACDlC,QAAQ,EAAE;KACTmC,iBAAiB,GACjB;OACC,OAAOhB,kBAAI,CAACC,SAAS,EAAE,CAACgB,QAAQ,CAACD,iBAAiB;;IAEnD;GACD1B,OAAO,EAAE;KACR4B,KAAK,GACL;OACCC,eAAK,CAACf,YAAY,CAACC,IAAI,CAACe,wBAAS,CAACC,aAAa,CAAC;;IAEjD;GACDd,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;CAoBZ,CAAC;;CC7CD;AACA,CAAO,MAAMe,IAAI,GAAG;GACnBhD,IAAI,EAAE,kBAAkB;GACxBmC,UAAU,EAAE;YACXc,wBAAK;YACLC;IACA;GACDjD,KAAK,EAAE;KACNC,MAAM,EAAE;OACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBC,QAAQ,EAAE;;IAEX;GACDiC,KAAK,GACL;KACC,OAAO;gBACNY;MACA;IACD;GACDC,IAAI,GACJ;KACC,OAAO;OACNC,WAAW,EAAE;MACb;IACD;GACD9C,QAAQ,EAAE;KACT,GAAG+C,uBAAU,CAAC;OACbC,aAAa,EAAG,GAAE5C,oBAAK,CAAC6C,SAAU;MAClC,CAAC;KACFhD,IAAI,GACJ;OACC,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,UAAS,CAAC,CAAC,IAAI,CAACV,MAAM,CAAC;MACjE;KACDuD,WAAW,GACX;OACC,OAAO,CAAC,CAAC,MAAM,EAAE,IAAI,CAACjD,IAAI,CAACkD,aAAa,IAAI,IAAI,CAACH,aAAa,CAAC,CAAC;MAChE;KACDI,SAAS,GACT;OACC,OAAO,IAAI,CAACJ,aAAa,KAAK,IAAI,CAAC/C,IAAI,CAACoD,SAAS;MACjD;KACDC,aAAa,GACb;OACC,OAAO,IAAI,CAACN,aAAa,KAAK,IAAI,CAAC/C,IAAI,CAACkD,aAAa;MACrD;KACDI,WAAW,GACX;OACC,OAAO,OAAoB;SAC1BC,EAAE,EAAE,kCAAkC;SACtCC,WAAW,EAAE,IAAI,CAACC,KAAK,CAACC,MAAM,CAAC1C,GAAG;SAClC2C,KAAK,EAAE,IAAI,CAACC;QACZ,CAAC;MACF;KACDA,SAAS,GACT;OACC,MAAMC,QAAQ,GAAG;SAChB,CAACC,yBAAU,CAACC,OAAO,GAAG;WACrB,CAAC,IAAI,CAACV,aAAa,GAAG,CACrB,IAAI,CAACW,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE,EACpB,IAAI,CAACC,eAAe,EAAE,CACtB;WACD,CAAC,IAAI,CAACf,SAAS,GAAG,CACjB,IAAI,CAACc,aAAa,EAAE,EACpB,IAAI,CAACC,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE,CACpB;WACD,CAAC,IAAI,CAACd,aAAa,IAAI,IAAI,CAACF,SAAS,GAAG,CACvC,IAAI,CAACa,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE,EACpB,IAAI,CAACC,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE;UAErB;SACD,CAACL,yBAAU,CAACM,UAAU,GAAG;WACxB,CAAC,IAAI,CAACf,aAAa,GAAG,CACrB,IAAI,CAACgB,YAAY,EAAE,EACnB,IAAI,CAACJ,aAAa,EAAE,EACpB,IAAI,CAACC,eAAe,EAAE,CACtB;WACD,CAAC,IAAI,CAACf,SAAS,GAAG,CACjB,IAAI,CAACc,aAAa,EAAE,EACpB,IAAI,CAACC,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE,CACpB;WACD,CAAC,IAAI,CAACd,aAAa,IAAI,IAAI,CAACF,SAAS,GAAG,CACvC,IAAI,CAACkB,YAAY,EAAE,EACnB,IAAI,CAACJ,aAAa,EAAE,EACpB,IAAI,CAACC,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE;UAErB;SACD,CAACL,yBAAU,CAACQ,QAAQ,GAAG;WACtB,CAAC,IAAI,CAACjB,aAAa,GAAG,CACrB,IAAI,CAACW,eAAe,EAAE,EACtB,IAAI,CAACE,eAAe,EAAE,CACtB;WACD,CAAC,IAAI,CAACf,SAAS,GAAG,CACjB,IAAI,CAACa,eAAe,EAAE,EACtB,IAAI,CAACE,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE;UAErB;SACD,CAACL,yBAAU,CAACS,mBAAmB,GAAG;WACjC,CAAC,IAAI,CAAClB,aAAa,GAAG,CACrB,IAAI,CAACmB,UAAU,EAAE,EACjB,IAAI,CAACN,eAAe,EAAE,CACtB;WACD,CAAC,IAAI,CAACf,SAAS,GAAG,CACjB,IAAI,CAACsB,iBAAiB,EAAE,EACxB,IAAI,CAACP,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE,CACpB;WACD,CAAC,IAAI,CAACd,aAAa,IAAI,IAAI,CAACF,SAAS,GAAG,CACvC,IAAI,CAACa,eAAe,EAAE,EACtB,IAAI,CAACE,eAAe,EAAE,EACtB,IAAI,CAACC,aAAa,EAAE;UAErB;SACD,CAACL,yBAAU,CAACY,SAAS,GAAG;WACvB,CAAC,IAAI,CAACvB,SAAS,GAAG,CACjB,IAAI,CAACwB,YAAY,EAAE,EACnB,IAAI,CAACR,aAAa,EAAE;;QAGtB;OAED,OAAON,QAAQ,CAAC,IAAI,CAAC7D,IAAI,CAAC4E,MAAM,CAAC,CAACC,IAAI;;IAEvC;GACDrE,OAAO,EAAE;KACRsE,WAAW,GACX;OACC,IAAI,CAACjC,WAAW,GAAG,IAAI;MACvB;KACDoB,aAAa,GACb;OACC,IAAI,CAAC,IAAI,CAACjE,IAAI,CAAC+E,MAAM,CAACC,KAAK,EAC3B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNC,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,+BAA+B,CAAC;SAChDC,IAAI,EAAExC,2BAAO,CAACyC,OAAO;SACrBC,OAAO,EAAE,MAAYC,iDAAW,CAACN,KAAK,CAAC,IAAI,CAACtF,MAAM;QAClD;MACD;KACD2E,YAAY,GACZ;OACC,IAAI,CAAC,IAAI,CAACrE,IAAI,CAAC+E,MAAM,CAACQ,KAAK,EAC3B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNN,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,+BAA+B,CAAC;SAChDC,IAAI,EAAExC,2BAAO,CAAC6C,MAAM;SACpBH,OAAO,EAAE,MAAYC,iDAAW,CAACC,KAAK,CAAC,IAAI,CAAC7F,MAAM;QAClD;MACD;KACDiF,YAAY,GACZ;OACC,IAAI,CAAC,IAAI,CAAC3E,IAAI,CAAC+E,MAAM,CAACU,KAAK,EAC3B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNR,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,+BAA+B,CAAC;SAChDC,IAAI,EAAExC,2BAAO,CAAC+C,IAAI;SAClBL,OAAO,EAAE,MAAYC,iDAAW,CAACG,KAAK,CAAC,IAAI,CAAC/F,MAAM;QAClD;MACD;KACD8E,UAAU,GACV;OACC,IAAI,CAAC,IAAI,CAACxE,IAAI,CAAC+E,MAAM,CAACU,KAAK,EAC3B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNR,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,6BAA6B,CAAC;SAC9CC,IAAI,EAAExC,2BAAO,CAAC+C,IAAI;SAClBL,OAAO,EAAE,MAAYC,iDAAW,CAACG,KAAK,CAAC,IAAI,CAAC/F,MAAM;QAClD;MACD;KACD+E,iBAAiB,GACjB;OACC,IAAI,CAAC,IAAI,CAACzE,IAAI,CAAC+E,MAAM,CAACY,UAAU,EAChC;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNV,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,oCAAoC,CAAC;SACrDC,IAAI,EAAExC,2BAAO,CAAC+C,IAAI;SAClBL,OAAO,EAAE,MAAYC,iDAAW,CAACK,UAAU,CAAC,IAAI,CAACjG,MAAM;QACvD;MACD;KACDsE,eAAe,GACf;OACC,IAAI,CAAC,IAAI,CAAChE,IAAI,CAAC+E,MAAM,CAACa,QAAQ,EAC9B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNX,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,kCAAkC,CAAC;SACnDC,IAAI,EAAExC,2BAAO,CAACkD,MAAM;SACpBR,OAAO,EAAE,MAAYC,iDAAW,CAACM,QAAQ,CAAC,IAAI,CAAClG,MAAM;QACrD;MACD;KACDwE,eAAe,GACf;OACC,IAAI,CAAC,IAAI,CAAClE,IAAI,CAAC+E,MAAM,CAACe,QAAQ,EAC9B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNb,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,kCAAkC,CAAC;SACnDC,IAAI,EAAExC,2BAAO,CAACoD,QAAQ;SACtBV,OAAO,EAAE,MAAY;WAAA;WACpB,MAAMW,qBAAqB,GAAGC,iBAAO,CAACC,QAAQ,CAAC,IAAI,CAACC,oBAAoB,EAAE,EAAE,EAAE,IAAI,CAAC;WAEnF,oBAAI,CAACC,MAAM,2BAAX,IAAI,CAACA,MAAM,GAAK,IAAIC,sDAAoB,CAAC;aACxC,GAAGC,qDAAe,CAACC,aAAa,CAAC,IAAI,CAACC,QAAQ,CAAChH,IAAI,CAAC;aACpDiH,gBAAgB,EAAE,IAAI,CAACxD,WAAW;aAClCyD,MAAM,EAAE;eACP,eAAe,EAAEV,qBAAqB;eACtC,iBAAiB,EAAEA;;YAEpB,CAAC;WACF,IAAI,CAACI,MAAM,CAACO,gBAAgB,CAAC,IAAI,CAAC1D,WAAW,CAAC;WAC9C,IAAI,CAACmD,MAAM,CAACQ,MAAM,CAAC,IAAI,CAACnD,KAAK,CAACC,MAAM,CAAC1C,GAAG,CAAC;;QAE1C;MACD;KACDmF,oBAAoB,GACpB;OAAA;OACC,MAAMjD,aAAa,sDAAG,IAAI,CAACkD,MAAM,CAACS,gBAAgB,EAAE,CAAC,CAAC,CAAC,qBAAjC,uBAAmCC,KAAK,EAAE,oCAAI,CAAC;OAErE,KAAKxB,iDAAW,CAACyB,MAAM,CACtB,IAAI,CAACrH,MAAM,EACX;SAAEwD;QAAe,CACjB;MACD;KACDiB,aAAa,GACb;OACC,IAAI,CAAC,IAAI,CAACnE,IAAI,CAAC+E,MAAM,CAACiC,MAAM,EAC5B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNC,MAAM,EAAEC,sCAAc,CAACC,KAAK;SAC5BlC,KAAK,EAAE,IAAI,CAACC,GAAG,CAAC,gCAAgC,CAAC;SACjDC,IAAI,EAAExC,2BAAO,CAACyE,QAAQ;SACtB/B,OAAO,EAAE,MAAY;WACpB,KAAKC,iDAAW,CAAC+B,MAAM,CAAC,IAAI,CAAC3H,MAAM,CAAC;WACpC2C,eAAK,CAACf,YAAY,CAACC,IAAI,CAACe,wBAAS,CAACC,aAAa,CAAC;;QAEjD;;IAEF;GACDd,QAAQ,EAAG;;;;;;;;;;;CAWZ,CAAC;;CChRD;AACA,CAAO,MAAM6F,UAAU,GAAG;GACzB3F,UAAU,EAAE;eACXC,gCAAQ;YACRa,wBAAK;KACLD;IACA;GACD/C,KAAK,EAAE;KACNC,MAAM,EAAE;OACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBC,QAAQ,EAAE;;IAEX;GACDiC,KAAK,GACL;KACC,OAAO;uBACNC,wCAAc;mBACdC,oCAAU;mBACVsF,oCAAU;gBACV5E,2BAAO;mBACPmB;MACA;IACD;GACD/D,QAAQ,EAAE;KACT,GAAG+C,uBAAU,CAAC;OACbC,aAAa,EAAG,GAAE5C,oBAAK,CAAC6C,SAAU;MAClC,CAAC;KACFhD,IAAI,GACJ;OACC,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,UAAS,CAAC,CAAC,IAAI,CAACV,MAAM,CAAC;MACjE;KACDyD,SAAS,GACT;OACC,OAAO,IAAI,CAACJ,aAAa,KAAK,IAAI,CAAC/C,IAAI,CAACoD,SAAS;MACjD;KACDC,aAAa,GACb;OACC,OAAO,IAAI,CAACN,aAAa,KAAK,IAAI,CAAC/C,IAAI,CAACkD,aAAa;MACrD;KACDsE,YAAY,GACZ;OACC,MAAM3D,QAAQ,GAAG;SAChB,CAACC,yBAAU,CAACC,OAAO,GAAG;WACrB,CAAC,IAAI,CAACZ,SAAS,GAAG,IAAI,CAACsE,iBAAiB,EAAE;WAC1C,CAAC,IAAI,CAACpE,aAAa,GAAG,IAAI,CAACqE,cAAc;UACzC;SACD,CAAC5D,yBAAU,CAACM,UAAU,GAAG;WACxB,CAAC,IAAI,CAACf,aAAa,GAAG,IAAI,CAACoE,iBAAiB,EAAE;WAC9C,CAAC,IAAI,CAACtE,SAAS,GAAG,IAAI,CAACsE,iBAAiB;UACxC;SACD,CAAC3D,yBAAU,CAACQ,QAAQ,GAAG;WACtB,CAAC,IAAI,CAACjB,aAAa,GAAG,IAAI,CAACsE,cAAc,EAAE;WAC3C,CAAC,IAAI,CAACxE,SAAS,GAAG,IAAI,CAACwE,cAAc;UACrC;SACD,CAAC7D,yBAAU,CAACS,mBAAmB,GAAG;WACjC,CAAC,IAAI,CAAClB,aAAa,GAAG,IAAI,CAACuE,eAAe,EAAE;WAC5C,CAAC,IAAI,CAACzE,SAAS,GAAG,IAAI,CAAC0E,gBAAgB;UACvC;SACD,CAAC/D,yBAAU,CAACY,SAAS,GAAG;WACvB,CAAC,IAAI,CAACrB,aAAa,IAAI,CAAC,IAAI,CAACF,SAAS,GAAG,IAAI,CAACwE,cAAc,CAAC3F,wCAAc,CAAC8F,KAAK;;QAElF;OAED,OAAOjE,QAAQ,CAAC,IAAI,CAAC7D,IAAI,CAAC4E,MAAM,CAAC,CAACC,IAAI;;IAEvC;GACDrE,OAAO,EAAE;KACRkH,cAAc,GACd;OACC,IAAI,CAAC,IAAI,CAAC1H,IAAI,CAAC+E,MAAM,CAACgD,KAAK,EAC3B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNC,IAAI,EAAE,IAAI,CAAC9C,GAAG,CAAC,+BAA+B,CAAC;SAC/CG,OAAO,EAAE,MAAYC,iDAAW,CAACyC,KAAK,CAAC,IAAI,CAACrI,MAAM;QAClD;MACD;KACD+H,iBAAiB,GACjB;OACC,IAAI,CAAC,IAAI,CAACzH,IAAI,CAAC+E,MAAM,CAACa,QAAQ,EAC9B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNoC,IAAI,EAAE,IAAI,CAAC9C,GAAG,CAAC,kCAAkC,CAAC;SAClDG,OAAO,EAAE,MAAYC,iDAAW,CAACM,QAAQ,CAAC,IAAI,CAAClG,MAAM;QACrD;MACD;KACDiI,cAAc,CAACM,KAAa,EAC5B;OACC,IAAI,CAAC,IAAI,CAACjI,IAAI,CAAC+E,MAAM,CAACU,KAAK,EAC3B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNuC,IAAI,EAAE,IAAI,CAAC9C,GAAG,CAAC,+BAA+B,CAAC;SAC/C+C,KAAK;SACL5C,OAAO,EAAE,MAAYC,iDAAW,CAACG,KAAK,CAAC,IAAI,CAAC/F,MAAM;QAClD;MACD;KACDkI,eAAe,GACf;OACC,OAAO;SACNI,IAAI,EAAE,IAAI,CAAC9C,GAAG,CAAC,mCAAmC,CAAC;SACnDgD,QAAQ,EAAE;QACV;MACD;KACDL,gBAAgB,GAChB;OACC,IAAI,CAAC,IAAI,CAAC7H,IAAI,CAAC+E,MAAM,CAACoD,OAAO,EAC7B;SACC,OAAO,IAAI;;OAGZ,OAAO;SACNH,IAAI,EAAE,IAAI,CAAC9C,GAAG,CAAC,iCAAiC,CAAC;SACjDG,OAAO,EAAE,MAAYC,iDAAW,CAACM,QAAQ,CAAC,IAAI,CAAClG,MAAM;QACrD;;IAEF;GACD+B,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;CAwBZ,CAAC;;CCrID;AACA,CAAO,MAAM2G,GAAG,GAAG;GAClB5I,IAAI,EAAE,cAAc;GACpBmC,UAAU,EAAE;iBACX0G,qCAAU;iBACVC,+CAAU;uBACVC,sDAAgB;uBAChBC,sDAAgB;YAChBC,qCAAK;iBACLC,0CAAU;gBACVC,6CAAS;gBACTC,+CAAS;WACTC,qCAAI;KACJtJ,IAAI;KACJmC,YAAY;KACZ4F;IACA;GACDwB,OAAO,GACP;KACC,OAAO;OACNC,SAAS,EAAE,IAAI,CAACA,SAAS;OACzBC,QAAQ,EAAEC,uBAAQ,CAACC;MACnB;IACD;GACDzJ,KAAK,EAAE;KACN8D,EAAE,EAAE;OACH5D,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBsJ,OAAO,EAAE,MAAMC,cAAI,CAACC,SAAS;MAC7B;KACDN,SAAS,EAAE;OACVpJ,IAAI,EAAE2J,MAAM;OACZH,OAAO,EAAE,OAAO,EAAE;;IAEnB;GACDpH,KAAK,GACL;KACC,OAAO;gBACNY,2BAAO;OACP4G,cAAc,EAAE;MAChB;IACD;GACD3G,IAAI,GACJ;KACC,OAAO;OACNlD,MAAM,EAAE,IAAI,CAAC6D,EAAE;OACfiG,kBAAkB,EAAE,KAAK;OACzBC,iBAAiB,EAAE,KAAK;OACxBC,qBAAqB,EAAE,KAAK;OAC5BC,kBAAkB,EAAE;SACnBC,aAAa,EAAE,IAAI,CAACC;QACpB;OACDC,WAAW,EAAE,CAAC;OACdC,KAAK,EAAEC,iDAAW,CAACC,GAAG,CAAC,IAAI,CAAC1G,EAAE,CAAC,CAAC2G,QAAQ;MACxC;IACD;GACDnK,QAAQ,EAAE;KACT,GAAG+C,uBAAU,CAAC;OACbC,aAAa,EAAG,GAAE5C,oBAAK,CAAC6C,SAAU;MAClC,CAAC;KACFmH,oBAAoB,GACpB;OACC,OAAO,IAAI,CAAClK,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,iBAAgB,CAAC,CAAC,IAAI,CAACV,MAAM,EAAE0K,qDAAe,CAAC7G,EAAE,CAAC;MAC5F;KACD8G,iBAAiB,GACjB;OACC,OAAO,IAAI,CAACpK,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,iBAAgB,CAAC,CAAC,IAAI,CAACV,MAAM,EAAE4K,+CAAY,CAAC/G,EAAE,CAAC;MACzF;KACDgH,aAAa,GACb;OACC,OAAO,IAAI,CAACtK,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,iBAAgB,CAAC,CAAC,IAAI,CAACV,MAAM,EAAE8K,uCAAQ,CAACjH,EAAE,CAAC;MACrF;KACDkH,cAAc,GACd;OACC,OAAO,IAAI,CAACxK,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,iBAAgB,CAAC,CAAC,IAAI,CAACV,MAAM,EAAEgL,yCAAS,CAACnH,EAAE,CAAC;MACtF;KACDoH,cAAc,GACd;OACC,OAAO,IAAI,CAAC1K,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,iBAAgB,CAAC,CAAC,IAAI,CAACV,MAAM,EAAEkL,yCAAS,CAACrH,EAAE,CAAC;MACtF;KACDvD,IAAI,GACJ;OACC,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,UAAS,CAAC,CAAC,IAAI,CAACV,MAAM,CAAC;MACjE;KACDmL,UAAU,GACV;OAAA;OACC,OAAO,kBAAI,CAAC7K,IAAI,aAAT,WAAW8K,SAAS,GACxB,IAAI,CAAC7K,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACwI,SAAU,WAAU,CAAC,CAAC,IAAI,CAAC3I,IAAI,CAAC8K,SAAS,CAAC,GACvE,EAAE;MACL;KACDC,MAAM,GACN;OACC,OAAOC,cAAI,CAACC,QAAQ,CAAC,IAAI,CAACvL,MAAM,CAAC,IAAI,IAAI,CAACA,MAAM,GAAG,CAAC;MACpD;KACDwL,MAAM,GACN;OACC,MAAMA,MAAM,GAAG,CACd;SACCjG,KAAK,EAAEkG,6CAAW,CAAClG,KAAK;SACxBmG,SAAS,EAAEC,yCAAO;SAClB5L,KAAK,EAAE;WACNC,MAAM,EAAE,IAAI,CAACA,MAAM;WACnB4L,OAAO,EAAE,IAAI,CAAC9E,QAAQ,CAAChH,IAAI;WAC3B+L,sBAAsB,EAAE,IAAI,CAACR;;QAE9B,EACD;SACC9F,KAAK,EAAEqB,qDAAe,CAACrB,KAAK;SAC5BmG,SAAS,EAAEI,iDAAW;SACtB/L,KAAK,EAAE;WACNC,MAAM,EAAE,IAAI,CAACA,MAAM;WACnB4L,OAAO,EAAE,IAAI,CAAC9E,QAAQ,CAAChH,IAAI;WAC3B+L,sBAAsB,EAAE,IAAI,CAACR;;QAE9B,EACD;SACC9F,KAAK,EAAEwG,+CAAY,CAACxG,KAAK;SACzBmG,SAAS,EAAEM;QACX,EACD;SACCzG,KAAK,EAAE0G,2CAAU,CAAC1G,KAAK;SACvBmG,SAAS,EAAEQ,uCAAM;SACjBC,aAAa,EAAE;QACf,EACD;SACC5G,KAAK,EAAE2F,yCAAS,CAAC3F,KAAK;SACtBmG,SAAS,EAAE3C,qCAAK;SAChBqD,IAAI,EAAEC;QACN,EACD;SACC9G,KAAK,EAAE+G,iDAAa,CAAC/G,KAAK;SAC1BmG,SAAS,EAAEzC,6CAAS;SACpBmD,IAAI,EAAEG;QACN,EACD;SACChH,KAAK,EAAEyF,yCAAS,CAACwB,QAAQ,CAAC,IAAI,CAAClM,IAAI,CAACmM,OAAO,CAAC;SAC5Cf,SAAS,EAAEgB,qCAAK;SAChBN,IAAI,EAAEO,yCAAS;SACfC,SAAS,EAAEpL,kBAAI,CAACC,SAAS,EAAE,CAACgB,QAAQ,CAACoK;QACrC,EACD;SACCtH,KAAK,EAAEmF,qDAAe,CAACnF,KAAK;SAC5BmG,SAAS,EAAEoB,iDAAW;SACtBV,IAAI,EAAEW;QACN,EACD;SACCxH,KAAK,EAAEqF,+CAAY,CAACrF,KAAK;SACzBmG,SAAS,EAAEsB,2CAAQ;SACnBZ,IAAI,EAAEa,+CAAY;SAClBd,aAAa,EAAE,IAAI,CAAC1B;QACpB,EACD;SACClF,KAAK,EAAEuF,uCAAQ,CAACvF,KAAK;SACrBmG,SAAS,EAAEwB,mCAAI;SACfd,IAAI,EAAEe,uCAAQ;SACdhB,aAAa,EAAE,IAAI;SACnBS,SAAS,EAAEpL,kBAAI,CAACC,SAAS,EAAE,CAACgB,QAAQ,CAAC2K;QACrC,CACD;;;OAGD5B,MAAM,CAAC6B,OAAO,CAAEC,KAAK,IAAK;SAAA;SACzB,gBAAAA,KAAK,CAACvN,KAAK,2BAAXuN,KAAK,CAACvN,KAAK,GAAK,EAAE;SAClBuN,KAAK,CAACvN,KAAK,CAACC,MAAM,GAAG,IAAI,CAACA,MAAM;QAChC,CAAC;OAEF,OAAOwL,MAAM;MACb;KACD+B,aAAa,GACb;OACC,MAAMA,aAAa,GAAG,IAAIC,GAAG,CAAC,CAAC7B,yCAAO,EAAEG,iDAAW,EAAEE,2CAAQ,EAAEE,uCAAM,CAAC,CAAC;OAEvE,OAAO,IAAI,CAACV,MAAM,CAACiC,MAAM,CAAC,CAAC;SAAE/B;QAAW,KAAK6B,aAAa,CAACG,GAAG,CAAChC,SAAS,CAAC,CAAC;MAC1E;KACDiC,aAAa,GACb;OACC,MAAMA,aAAa,GAAG,IAAIH,GAAG,EAAE;OAC/B,IAAI,IAAI,CAACzC,cAAc,EACvB;SACC4C,aAAa,CAACC,GAAG,CAAClB,qCAAK,CAAC;;OAGzB,IAAI,IAAI,CAAC7B,aAAa,EACtB;SACC8C,aAAa,CAACC,GAAG,CAACV,mCAAI,CAAC;;OAGxB,OAAO,IAAI,CAAC1B,MAAM,CAACiC,MAAM,CAAC,CAAC;SAAE/B;QAAW,KAAKiC,aAAa,CAACD,GAAG,CAAChC,SAAS,CAAC,CAAC;MAC1E;KACDmC,kBAAkB,GAClB;OACC,MAAMA,kBAAkB,GAAG,IAAIL,GAAG,EAAE;OAEpC,IAAI,IAAI,CAAC/C,oBAAoB,EAC7B;SACCoD,kBAAkB,CAACD,GAAG,CAACd,iDAAW,CAAC;;OAGpC,IAAI,IAAI,CAACnC,iBAAiB,EAC1B;SACCkD,kBAAkB,CAACD,GAAG,CAACZ,2CAAQ,CAAC;;OAGjC,OAAO,IAAI,CAACxB,MAAM,CAACiC,MAAM,CAAC,CAAC;SAAE/B;QAAW,KAAKmC,kBAAkB,CAACH,GAAG,CAAChC,SAAS,CAAC,CAAC;MAC/E;KACDoC,KAAK,GACL;OACC,OAAO,IAAI,CAACtC,MAAM,CAACiC,MAAM,CAAC,CAAC;SAAErB,IAAI;SAAEQ;QAAW,KAAKR,IAAI,IAAIQ,SAAS,KAAK,KAAK,CAAE,CAACmB,GAAG,CAAC,CAAC;SAAE3B;QAAM,KAAKA,IAAI,CAAC;;IAEzG;GACDzL,KAAK,EAAE;KACN,MAAML,IAAI,GACV;OACC,IAAI,IAAI,CAACA,IAAI,EACb;SACC,MAAM,IAAI,CAAC0N,SAAS,EAAE;SACtB,IAAI,CAACC,gBAAgB,EAAE;;;IAGzB;GACD,MAAMC,OAAO,GACb;KACC,IAAI,CAAC,IAAI,CAAC7C,MAAM,IAAI,CAAC,IAAI,CAAC/K,IAAI,EAC9B;OACC,KAAK,IAAI,CAACC,MAAM,CAAC4N,QAAQ,CAAE,GAAE1N,oBAAK,CAACC,KAAM,SAAQ,EAAE;SAClDmD,EAAE,EAAE,IAAI,CAAC7D,MAAM;SACf0D,SAAS,EAAE,IAAI,CAACL;QAChB,CAAC;;KAGH,MAAM,IAAI,CAAC9C,MAAM,CAAC4N,QAAQ,CAAE,GAAE1N,oBAAK,CAACC,KAAM,oBAAmB,EAAE,IAAI,CAACV,MAAM,CAAC;KAE3E,IAAI,IAAI,CAACqL,MAAM,IAAI,CAAC,IAAI,CAAC/K,IAAI,EAC7B;OACC,MAAMsF,iDAAW,CAACwI,OAAO,CAAC,IAAI,CAACpO,MAAM,CAAC;;IAEvC;GACDa,OAAO,GACP;KAAA;KACC,IAAI,CAACoN,gBAAgB,EAAE;KACvB,4BAAI,CAAClK,KAAK,CAACsK,QAAQ,qBAAnB,qBAAqBC,MAAM,CAACC,0CAAY,EAAE,CAAC;IAC3C;GACDC,aAAa,GACb;KACC,IAAI,IAAI,CAAC3E,cAAc,EACvB;OACC,IAAI,CAACA,cAAc,CAAC4E,UAAU,EAAE;;IAEjC;GACDC,SAAS,GACT;KACC,IAAI,CAAC,IAAI,CAACrD,MAAM,EAChB;OACC,KAAK,IAAI,CAAC9K,MAAM,CAAC4N,QAAQ,CAAE,GAAE1N,oBAAK,CAACC,KAAM,SAAQ,EAAE,IAAI,CAACV,MAAM,CAAC;OAC/DsK,iDAAW,CAAC3C,MAAM,CAAC,IAAI,CAAC3H,MAAM,CAAC;;IAEhC;GACDc,OAAO,EAAE;KACR,GAAG6N,uBAAU,CAAClO,oBAAK,CAAC6C,SAAS,EAAE,CAC9B,8BAA8B,CAC9B,CAAC;KACF2K,gBAAgB,GAChB;OACC,IAAI,IAAI,CAAClK,KAAK,CAACwB,KAAK,IAAI,CAAC,IAAI,CAACsE,cAAc,EAC5C;SACC,IAAI,CAACA,cAAc,GAAG,IAAI,CAAC+E,WAAW,EAAE;SACxC,IAAI,CAAC/E,cAAc,CAACgF,OAAO,CAAC,IAAI,CAAC9K,KAAK,CAACwB,KAAK,CAAC;;MAE9C;KACDqJ,WAAW,GACX;OACC,OAAO,IAAIE,cAAc,CAAEC,OAAO,IAAK;SACtC,KAAK,MAAMC,KAAK,IAAID,OAAO,EAC3B;WACC,IAAIC,KAAK,CAACC,MAAM,KAAK,IAAI,CAAClL,KAAK,CAACwB,KAAK,EACrC;aACC,IAAI,CAAC2J,4BAA4B,CAACF,KAAK,CAACG,WAAW,CAACC,MAAM,CAAC;;;QAG7D,CAAC;MACF;KACD,MAAMC,OAAO,GACb;OACC,MAAMlE,UAAU,GAAG,IAAI,CAACA,UAAU;OAElC,MAAM,CAACtH,EAAE,CAAC,GAAG,MAAM+B,iDAAW,CAACgI,GAAG,CAAC,IAAI,CAACtN,IAAI,CAAC;OAE7C,IAAI,CAACN,MAAM,GAAG6D,EAAE;OAEhB,IAAIsH,UAAU,CAACmE,MAAM,GAAG,CAAC,EACzB;SACC,MAAMC,2DAAgB,CAACC,IAAI,CAAC,IAAI,CAACxP,MAAM,EAAEmL,UAAU,CAAC;;OAGrDb,iDAAW,CAACmF,OAAO,CAAC,IAAI,CAAC5L,EAAE,EAAE,IAAI,CAAC7D,MAAM,CAAC;MACzC;KACD0P,UAAU,GACV;OACC,IAAI,CAACC,qBAAqB,EAAE;MAC5B;KACDC,WAAW,CAACC,IAA2B,EACvC;OACCA,IAAI,CAACnN,KAAK,EAAE;OACZ,IAAI,CAACoN,sBAAsB,EAAE;MAC7B;KACDC,SAAS,GACT;OACC,IAAI,CAAChG,iBAAiB,GAAG,IAAI;OAC7B,IAAI,CAAC4F,qBAAqB,EAAE;MAC5B;KACDK,UAAU,GACV;OACC,IAAI,CAACjG,iBAAiB,GAAG,KAAK;OAC9B,IAAI,CAAC+F,sBAAsB,EAAE;OAC7B,IAAI,CAACA,sBAAsB,EAAE;MAC7B;KACD3F,aAAa,CAACC,WAAoB,EAClC;OACC,IAAI,CAACA,WAAW,GAAGA,WAAW;OAC9B,IAAI,CAACJ,qBAAqB,GAAG,IAAI;OACjC,IAAI,CAAC2F,qBAAqB,EAAE;MAC5B;KACDM,cAAc,GACd;OACC,IAAI,CAACjG,qBAAqB,GAAG,KAAK;OAClC,IAAI,CAAC8F,sBAAsB,EAAE;MAC7B;KACDH,qBAAqB,GACrB;OACC,IAAI,CAAC7F,kBAAkB,GAAG,IAAI;OAC9BoG,aAAG,CAACC,QAAQ,CAAC,IAAI,CAACpM,KAAK,CAACqM,aAAa,EAAE,kBAAkB,CAAC;OAC1D,IAAI,CAACrM,KAAK,CAACqM,aAAa,CAACC,QAAQ,CAAC;SACjCC,GAAG,EAAE,CAAC;SACNC,QAAQ,EAAE;QACV,CAAC;MACF;KACDT,sBAAsB,GACtB;OACC,IAAI,CAAChG,kBAAkB,GAAG,KAAK;OAC/BoG,aAAG,CAACM,WAAW,CAAC,IAAI,CAACzM,KAAK,CAACqM,aAAa,EAAE,kBAAkB,CAAC;MAC7D;KACD1N,KAAK,GACL;OACCC,eAAK,CAACf,YAAY,CAACC,IAAI,CAACe,wBAAS,CAACC,aAAa,CAAC;MAChD;KACD4N,iBAAiB,CAACrE,IAAI,EAAEsE,QAAQ,EAChC;OACC,MAAMC,SAAS,GAAG,EAAE;OAEpB,IAAIvE,IAAI,CAAChK,KAAK,EACd;SACCwH,MAAM,CAACgH,IAAI,CAACF,QAAQ,CAAC,CAACrD,OAAO,CAAEwD,KAAa,IAAK;WAChD,IAAIzE,IAAI,CAAChK,KAAK,CAAC0O,QAAQ,CAACD,KAAK,CAAC,EAC9B;aACCF,SAAS,CAACE,KAAK,CAAC,GAAGH,QAAQ,CAACG,KAAK,CAAC;;UAEnC,CAAC;;OAGH,OAAOF,SAAS;;IAEjB;GACD5O,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAsGZ,CAAC;;CCveqC;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;AAEtC,CAAO,MAAMgP,YAAY,CACzB;GAKCC,WAAW,CAACC,MAAc,GAAG,EAAE,EAC/B;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA;;KAAA;OAAA;OAAA,OA0DW,MAAY;SACtB,4CAAI,oBAASvO,KAAK,EAAE;;;KACpB;OAAA;OAAA,OAEmBmO,KAAK,IAAW;SACnC,MAAMK,KAAY,GAAGL,KAAK,CAACM,aAAa,EAAE,CAAC,CAAC,CAAC;SAE7C,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,cAAc,EAAE;SAC7C,MAAMC,OAAO,GAAG,MAAM;WACrBJ,KAAK,CAACK,WAAW,CAAC,SAAS,EAAED,OAAO,CAAC;WACrCJ,KAAK,CAACK,WAAW,CAAC,WAAW,EAAED,OAAO,CAAC;WACvC3O,eAAK,CAAC6O,MAAM,CAACC,QAAQ,EAAE,QAAQ,EAAEL,QAAQ,EAAE,IAAI,CAAC;UAChD;SAEDF,KAAK,CAACQ,SAAS,CAAC,SAAS,EAAEJ,OAAO,CAAC;SACnCJ,KAAK,CAACQ,SAAS,CAAC,WAAW,EAAEJ,OAAO,CAAC;SACrC3O,eAAK,CAACgP,IAAI,CAACF,QAAQ,EAAE,QAAQ,EAAEL,QAAQ,EAAE,IAAI,CAAC;;;KAzE9C,4CAAI,sBAAWH,MAAM;;GAGtB,MAAMW,SAAS,CAACC,MAAc,EAC9B;KACC,IAAI,CAACA,MAAM,CAACC,MAAM,EAAE,EACpB;OACC;;KAGD,4CAAI,sBAAWD,MAAM;KAErB,4CAAI;KAEJ,4CAAI,gCAAgB,8CAAM,IAAI,wCAAmBA,MAAM,CAACE,mBAAmB,EAAE,CAAC;;GAG/EC,WAAW,GACX;KACC,4CAAI;KAEJ,4CAAI;;CAsDN;CAAC,kCAnDwBC,SAAsB,EAC9C;GACC,MAAMzQ,kBAAI,CAAC0Q,IAAI,EAAE;GAEjB,MAAMC,WAAW,GAAGC,iBAAS,CAACC,SAAS,CAAC3J,GAAG,EAAE;KAC5C,2CAAG,IAAI,mBAAQ;KACf7E,EAAE,EAAE,4CAAI,oBAAS7D;IACjB,CAAC;GAEFmS,WAAW,CAACG,KAAK,CAACC,gCAAQ,CAAC;GAC3BJ,WAAW,CAACK,GAAG,CAAChR,kBAAI,CAACiR,QAAQ,EAAE,CAAC;GAChCN,WAAW,CAAC/Q,KAAK,CAAC6Q,SAAS,CAAC;GAE5B,OAAOE,WAAW;CACnB;CAAC,gCAGD;GAAA;GACC,qEAAI,kDAAJ,sBAAmBlR,OAAO,EAAE;CAC7B;CAAC,uBAGD;GACC0B,eAAK,CAACf,YAAY,CAAC8P,SAAS,CAAC9O,wBAAS,CAACC,aAAa,0CAAE,IAAI,sBAAU;GACpEF,eAAK,CAACf,YAAY,CAAC8P,SAAS,CAAC,sBAAsB,0CAAE,IAAI,sCAAkB;CAC5E;CAAC,yBAGD;GACC/O,eAAK,CAACf,YAAY,CAAC2P,WAAW,CAAC3O,wBAAS,CAACC,aAAa,0CAAE,IAAI,sBAAU;GACtEF,eAAK,CAACf,YAAY,CAAC2P,WAAW,CAAC,sBAAsB,0CAAE,IAAI,sCAAkB;CAC9E;;;;;;;;"}