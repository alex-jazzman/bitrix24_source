this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Provider=this.BX.Tasks.V2.Provider||{};(function(s,e,a,t,i){"use strict";var r,o,l;const c=new(r=babelHelpers.classPrivateFieldLooseKey("updateStatus"),o=babelHelpers.classPrivateFieldLooseKey("updateStoreTask"),l=babelHelpers.classPrivateFieldLooseKey("getStoreTask"),class{constructor(){Object.defineProperty(this,l,{value:p});Object.defineProperty(this,o,{value:n});Object.defineProperty(this,r,{value:d})}async start(s){await babelHelpers.classPrivateFieldLooseBase(this,r)[r](s,"Task.Status.start",a.TaskStatus.InProgress)}async disapprove(s){await babelHelpers.classPrivateFieldLooseBase(this,r)[r](s,"Task.Status.disapprove",a.TaskStatus.Pending)}async defer(s){await babelHelpers.classPrivateFieldLooseBase(this,r)[r](s,"Task.Status.defer",a.TaskStatus.Deferred)}async approve(s){await babelHelpers.classPrivateFieldLooseBase(this,r)[r](s,"Task.Status.approve",a.TaskStatus.Completed)}async pause(s){await babelHelpers.classPrivateFieldLooseBase(this,r)[r](s,"Task.Status.pause",a.TaskStatus.Pending)}async complete(s){const e=babelHelpers.classPrivateFieldLooseBase(this,l)[l](s).needsControl?a.TaskStatus.SupposedlyCompleted:a.TaskStatus.Completed;await babelHelpers.classPrivateFieldLooseBase(this,r)[r](s,"Task.Status.complete",e)}async renew(s){await babelHelpers.classPrivateFieldLooseBase(this,r)[r](s,"Task.Status.renew",a.TaskStatus.Pending)}get $store(){return e.Core.getStore()}});async function d(s,e,a){const r=babelHelpers.classPrivateFieldLooseBase(this,l)[l](s);await babelHelpers.classPrivateFieldLooseBase(this,o)[o](s,{status:a});if(!i.taskService.isRealId(s)){return}try{const a=await t.apiClient.post(e,{task:{id:s}});await i.taskService.extractTask(a)}catch(a){await babelHelpers.classPrivateFieldLooseBase(this,o)[o](s,r);console.error(`StatusService: ${e} error`,a)}}async function n(s,e){await this.$store.dispatch(`${a.Model.Tasks}/update`,{id:s,fields:e})}function p(s){return{...this.$store.getters[`${a.Model.Tasks}/getById`](s)}}s.statusService=c})(this.BX.Tasks.V2.Provider.Service=this.BX.Tasks.V2.Provider.Service||{},BX.Tasks.V2,BX.Tasks.V2.Const,BX.Tasks.V2.Lib,BX.Tasks.V2.Provider.Service);
//# sourceMappingURL=status-service.bundle.map.js