this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};this.BX.Tasks.V2=this.BX.Tasks.V2||{};this.BX.Tasks.V2.Provider=this.BX.Tasks.V2.Provider||{};(function(t,e,s,i){"use strict";const n={[e.EntitySelectorEntity.Deal]:"D",[e.EntitySelectorEntity.Contact]:"C",[e.EntitySelectorEntity.Company]:"CO",[e.EntitySelectorEntity.Lead]:"L",[e.EntitySelectorEntity.SmartInvoice]:"SI"};const r=Object.fromEntries(Object.entries(n).map((t=>t.reverse())));function a(t){return{id:t.id,entityId:t.entityId,type:t.type,typeName:t.typeName,title:t.title,link:t.link}}function o(t,e){if(!n[t]){const[t,s]=e.split(":");return`T${Number(t).toString(16)}_${s}`}return`${n[t]}_${e}`}function c(t){const[s,i]=t.split("_");if(!r[s]){return[e.EntitySelectorEntity.DynamicMultiple,`${parseInt(s.slice(1),16)}:${i}`]}return[r[s],Number(i)]}const l=new class{async list(t,s){const n=await i.apiClient.post("Task.CRM.Item.list",{task:{id:t,crmItemIds:s}});const r=n.map((t=>a(t)));await this.$store.dispatch(`${e.Model.CrmItems}/upsertMany`,r)}get $store(){return s.Core.getStore()}};const y={mapId:o,splitId:c};t.CrmMappers=y;t.crmService=l})(this.BX.Tasks.V2.Provider.Service=this.BX.Tasks.V2.Provider.Service||{},BX.Tasks.V2.Const,BX.Tasks.V2,BX.Tasks.V2.Lib);
//# sourceMappingURL=crm-service.bundle.map.js