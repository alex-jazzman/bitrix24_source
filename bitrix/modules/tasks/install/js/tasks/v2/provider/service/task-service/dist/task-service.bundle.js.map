{"version":3,"file":"task-service.bundle.js","sources":["../src/mappers.js","../src/task-get-extractor.js","../src/task-service.js","../src/index.js"],"sourcesContent":["import { Type } from 'main.core';\n\nimport { CheckListMappers } from 'tasks.v2.provider.service.check-list-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { CheckListModel } from 'tasks.v2.model.check-list';\nimport type { TagDto, TaskDto, TaskSliderData } from './types';\n\nexport function mapModelToDto(task: TaskModel): TaskDto\n{\n\treturn {\n\t\tid: task.id,\n\t\ttitle: prepareValue(task.title),\n\t\tdescription: prepareValue(task.description, mapDescription(task.description)),\n\t\tcreator: prepareValue(task.creatorId, { id: task.creatorId }),\n\t\tcreatedTs: prepareValue(task.createdTs, Math.floor(task.createdTs / 1000)),\n\t\tresponsible: prepareValue(task.responsibleId, { id: task.responsibleId }),\n\t\tdeadlineTs: prepareValue(task.deadlineTs, Math.floor(task.deadlineTs / 1000)),\n\t\tneedsControl: prepareValue(task.needsControl),\n\t\tstartPlanTs: prepareValue(task.startPlanTs, Math.floor(task.startPlanTs / 1000)),\n\t\tendPlanTs: prepareValue(task.endPlanTs, Math.floor(task.endPlanTs / 1000)),\n\t\tfileIds: prepareValue(task.fileIds),\n\t\tchecklist: prepareValue(task.checklist),\n\t\tparent: prepareValue(task.parentId, { id: task.parentId }),\n\t\tdependsOn: prepareValue(task.relatedTaskIds),\n\t\tgroup: prepareValue(task.groupId, { id: task.groupId }),\n\t\tstage: prepareValue(task.stageId, { id: task.stageId }),\n\t\tflow: prepareValue(task.flowId, { id: task.flowId }),\n\t\tpriority: prepareValue(task.isImportant, task.isImportant ? 'high' : 'low'),\n\t\tstatus: prepareValue(task.status),\n\t\tstatusChangedTs: prepareValue(task.statusChangedTs, Math.floor(task.statusChangedTs / 1000)),\n\t\taccomplices: prepareValue(task.accomplicesIds, task.accomplicesIds?.map((id) => ({ id }))),\n\t\tauditors: prepareValue(task.auditorsIds, task.auditorsIds?.map((id) => ({ id }))),\n\t\ttags: prepareValue(task.tags, mapTags(task.tags ?? [])),\n\t\tchatId: prepareValue(task.chatId),\n\t\tcrmItemIds: prepareValue(task.crmItemIds),\n\t\tallowsChangeDeadline: prepareValue(task.allowsChangeDeadline),\n\t\tallowsChangeDatePlan: prepareValue(task.allowsChangeDatePlan),\n\t\tmatchesWorkTime: prepareValue(task.matchesWorkTime),\n\t\tmatchesSubTasksTime: prepareValue(task.matchesSubTasksTime),\n\t\tsource: prepareValue(task.source),\n\t};\n}\n\nexport function mapDtoToModel(taskDto: TaskDto): TaskModel\n{\n\tconst task: TaskModel = {\n\t\tid: taskDto.id,\n\t\ttitle: taskDto.title,\n\t\tisImportant: taskDto.priority === 'high',\n\t\tdescription: taskDto.description,\n\t\tcreatorId: taskDto.creator?.id,\n\t\tcreatedTs: taskDto.createdTs * 1000,\n\t\tresponsibleId: taskDto.responsible?.id,\n\t\tdeadlineTs: taskDto.deadlineTs * 1000,\n\t\tneedsControl: taskDto.needsControl,\n\t\tstartPlanTs: taskDto.startPlanTs * 1000,\n\t\tendPlanTs: taskDto.endPlanTs * 1000,\n\t\tfileIds: taskDto.fileIds,\n\t\tchecklist: taskDto.checklist ?? [],\n\t\tcontainsChecklist: taskDto.containsChecklist,\n\t\tparentId: taskDto.parentId ?? 0,\n\t\tcontainsSubTasks: taskDto.containsSubTasks,\n\t\tcontainsRelatedTasks: taskDto.containsRelatedTasks,\n\t\tgroupId: taskDto.group?.id,\n\t\tstageId: taskDto.stage?.id ?? 0,\n\t\tflowId: taskDto.flow?.id,\n\t\tstatus: taskDto.status,\n\t\tstatusChangedTs: taskDto.statusChangedTs * 1000,\n\t\taccomplicesIds: taskDto.accomplices?.map(({ id }) => id) ?? [],\n\t\tauditorsIds: taskDto.auditors?.map(({ id }) => id) ?? [],\n\t\tchatId: taskDto.chatId,\n\t\tcrmItemIds: prepareValue(taskDto.crmItemIds),\n\t\tallowsChangeDeadline: prepareValue(taskDto.allowsChangeDeadline),\n\t\tallowsChangeDatePlan: prepareValue(taskDto.allowsChangeDatePlan),\n\t\tmatchesWorkTime: prepareValue(taskDto.matchesWorkTime),\n\t\tmatchesSubTasksTime: prepareValue(taskDto.matchesSubTasksTime),\n\t\trights: prepareValue(taskDto.rights),\n\t\ttags: prepareValue(taskDto.tags, taskDto.tags?.map(({ name }) => name)),\n\t\tinFavorite: taskDto.inFavorite || [],\n\t\tinMute: taskDto.inMute || [],\n\t\tarchiveLink: prepareValue(taskDto.archiveLink),\n\t};\n\n\treturn Object.fromEntries(Object.entries(task).filter(([, value]) => value));\n}\n\nexport function mapModelToSliderData(task: TaskModel, checkLists: CheckListModel[]): TaskSliderData\n{\n\tconst accomplices = CheckListMappers.getUserIdsFromChecklists(checkLists, 'accomplices');\n\tconst auditors = CheckListMappers.getUserIdsFromChecklists(checkLists, 'auditors');\n\n\tconst data = {\n\t\tTITLE: prepareValue(task.title),\n\t\tDESCRIPTION: prepareValue(task.description, mapDescription(task.description)),\n\t\tRESPONSIBLE_ID: prepareValue(task.responsibleId),\n\t\tGROUP_ID: prepareValue(task.groupId),\n\t\tDEADLINE_TS: prepareValue(task.deadlineTs, Math.floor(task.deadlineTs / 1000)),\n\t\tIS_IMPORTANT: prepareValue(task.isImportant, task.isImportant ? 'Y' : null),\n\t\tFILE_IDS: prepareValue(task.fileIds, task.fileIds?.length > 0 ? task.fileIds : null),\n\t\tCHECKLIST: CheckListMappers.mapModelToSliderData(checkLists),\n\t\tACCOMPLICES: prepareValue(accomplices, accomplices.length > 0 ? accomplices : null),\n\t\tAUDITORS: prepareValue(auditors, auditors.length > 0 ? auditors : null),\n\t};\n\n\treturn Object.fromEntries(Object.entries(data).filter(([, value]) => value));\n}\n\nfunction prepareValue(value: any, mappedValue: any = value): any | undefined\n{\n\treturn Type.isUndefined(value) ? undefined : mappedValue;\n}\n\n// TODO: Temporary. Remove when removing old full card\nfunction mapDescription(description: ?string): ?string\n{\n\treturn description?.replaceAll(/\\[p]\\n|\\[p]\\[\\/p]|\\[\\/p]/gi, '').trim();\n}\n\nfunction mapTags(tags: number[]): TagDto[]\n{\n\treturn tags.map((name) => ({ name }));\n}\n","import { GroupMappers } from 'tasks.v2.provider.service.group-service';\nimport { FlowMappers } from 'tasks.v2.provider.service.flow-service';\nimport { UserMappers, type UserDto } from 'tasks.v2.provider.service.user-service';\nimport type { FlowModel } from 'tasks.v2.model.flows';\nimport type { GroupModel } from 'tasks.v2.model.groups';\nimport type { StageModel } from 'tasks.v2.model.stages';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { UserModel } from 'tasks.v2.model.users';\n\nimport { mapDtoToModel } from './mappers';\nimport type { TaskDto } from './types';\n\nexport class TaskGetExtractor\n{\n\t#data: TaskDto;\n\n\tconstructor(data: TaskDto)\n\t{\n\t\tthis.#data = data;\n\t}\n\n\tgetTask(): TaskModel\n\t{\n\t\treturn mapDtoToModel(this.#data);\n\t}\n\n\tgetFlow(): FlowModel | null\n\t{\n\t\treturn this.#data.flow ? FlowMappers.mapDtoToModel(this.#data.flow) : null;\n\t}\n\n\tgetGroup(): GroupModel | null\n\t{\n\t\treturn this.#data.group ? GroupMappers.mapDtoToModel(this.#data.group) : null;\n\t}\n\n\tgetStages(): StageModel[]\n\t{\n\t\treturn this.#data.stage ? [GroupMappers.mapStageDtoToModel(this.#data.stage)] : [];\n\t}\n\n\tgetUsers(): UserModel[]\n\t{\n\t\treturn [\n\t\t\tthis.#data.creator ?? [],\n\t\t\tthis.#data.responsible ?? [],\n\t\t\t...this.#data?.accomplices ?? [],\n\t\t\t...this.#data?.auditors ?? [],\n\t\t].map((userDto: UserDto): UserModel => UserMappers.mapDtoToModel(userDto));\n\t}\n}\n","import { Runtime } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport type { Store } from 'ui.vue3.vuex';\n\nimport { Model, EventName } from 'tasks.v2.const';\nimport { Core } from 'tasks.v2.core';\nimport { apiClient } from 'tasks.v2.lib.api-client';\nimport { fileService } from 'tasks.v2.provider.service.file-service';\nimport { subTasksService, relatedTasksService } from 'tasks.v2.provider.service.relation-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { TaskGetExtractor } from './task-get-extractor';\nimport { mapModelToDto } from './mappers';\nimport type { TaskDto } from './types';\n\nconst separateFields = {\n\tscrumFields: new Set(['storyPoints', 'epicId']),\n\tdeadlineFields: new Set(['deadlineTs']),\n\tdatePlanFields: new Set(['startPlanTs', 'endPlanTs', 'matchesWorkTime', 'matchesSubTasksTime']),\n};\n\nexport const taskService = new class\n{\n\tasync getById(id: number): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst data = await apiClient.post('Task.get', { task: { id } });\n\n\t\t\tawait this.extractTask(data);\n\n\t\t\tawait this.$store.dispatch(`${Model.Tasks}/removePartiallyLoaded`, id);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService: getById error', error);\n\t\t}\n\t}\n\n\tasync getRights(id: number): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst { rights } = await apiClient.post('Task.Access.get', { task: { id } });\n\n\t\t\tawait this.updateStoreTask(id, { rights });\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService: getRights error', error);\n\t\t}\n\t}\n\n\tasync add(task: TaskModel): Promise<[number, ?Error]>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst data = await apiClient.post('Task.add', { task: mapModelToDto(task) });\n\n\t\t\tawait this.extractTask(data);\n\n\t\t\tEventEmitter.emit(EventName.TaskAdd, {\n\t\t\t\t...new TaskGetExtractor(data).getTask(),\n\t\t\t\trelatedToTaskId: task.relatedToTaskId,\n\t\t\t});\n\n\t\t\tif (task.containsRelatedTasks)\n\t\t\t{\n\t\t\t\tvoid relatedTasksService.list(data.id, true);\n\t\t\t}\n\n\t\t\tif (task.relatedToTaskId)\n\t\t\t{\n\t\t\t\tvoid relatedTasksService.add(task.relatedToTaskId, [data.id]);\n\t\t\t}\n\n\t\t\tif (task.parentId)\n\t\t\t{\n\t\t\t\tsubTasksService.addStore(task.parentId, [data.id]);\n\t\t\t}\n\n\t\t\treturn [data.id, null];\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService: add error', error);\n\n\t\t\treturn [0, new Error(error.errors?.[0]?.message)];\n\t\t}\n\t}\n\n\tasync update(id: number, fields: TaskModel): Promise<void>\n\t{\n\t\tconst taskBeforeUpdate = this.getStoreTask(id);\n\n\t\tawait this.updateStoreTask(id, fields);\n\n\t\tif (!this.isRealId(id))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.#hasChanges(taskBeforeUpdate, fields))\n\t\t{\n\t\t\tEventEmitter.emit(EventName.TaskUpdate, { id, ...fields });\n\t\t}\n\n\t\ttry\n\t\t{\n\t\t\tawait this.#updateTaskDebounced(id, fields, taskBeforeUpdate);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tawait this.updateStoreTask(id, taskBeforeUpdate);\n\n\t\t\tconsole.error('TaskService: update error', error);\n\t\t}\n\t}\n\n\tasync delete(id: number): Promise<void>\n\t{\n\t\tconst taskBeforeDelete = this.getStoreTask(id);\n\n\t\tawait this.#deleteStoreTask(id);\n\n\t\tif (!this.isRealId(id))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\ttry\n\t\t{\n\t\t\tawait apiClient.post('Task.delete', { task: { id } });\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tvoid this.#insertStoreTask(taskBeforeDelete);\n\n\t\t\tconsole.error('TaskService: delete error', error);\n\t\t}\n\t}\n\n\tasync extractTask(data: TaskDto): Promise<void>\n\t{\n\t\tconst extractor = new TaskGetExtractor(data);\n\n\t\tawait Promise.all([\n\t\t\tthis.$store.dispatch(`${Model.Tasks}/upsert`, extractor.getTask()),\n\t\t\tthis.$store.dispatch(`${Model.Flows}/upsert`, extractor.getFlow()),\n\t\t\tthis.$store.dispatch(`${Model.Groups}/insert`, extractor.getGroup()),\n\t\t\tthis.$store.dispatch(`${Model.Stages}/upsertMany`, extractor.getStages()),\n\t\t\tthis.$store.dispatch(`${Model.Users}/upsertMany`, extractor.getUsers()),\n\t\t]);\n\n\t\tawait fileService.get(data.id).sync(data.fileIds);\n\t}\n\n\tisRealId(id: number): boolean\n\t{\n\t\treturn Number.isInteger(id) && id > 0;\n\t}\n\n\t#updateFields: { [taskId: number]: TaskModel } = {};\n\t#updateTaskBefore: { [taskId: number]: TaskModel } = {};\n\t#updatePromises: { [taskId: number]: Resolvable } = {};\n\t#updateServerTaskDebounced: { [taskId: number]: Function } = {};\n\n\tasync #updateTaskDebounced(id: number, fields: TaskModel, taskBeforeUpdate: TaskModel): Promise<void>\n\t{\n\t\tthis.#updateFields[id] = { ...this.#updateFields[id], ...fields };\n\t\tthis.#updateTaskBefore[id] ??= taskBeforeUpdate;\n\t\tthis.#updatePromises[id] ??= new Resolvable();\n\t\tthis.#updateServerTaskDebounced[id] ??= Runtime.debounce(this.#updateTask, 500, this);\n\t\tthis.#updateServerTaskDebounced[id](id);\n\t\tawait this.#updatePromises[id];\n\t}\n\n\tasync #updateTask(id: number): Promise<void>\n\t{\n\t\tconst fields = this.#updateFields[id];\n\t\tdelete this.#updateFields[id];\n\n\t\tconst taskBeforeUpdate = this.#updateTaskBefore[id];\n\t\tdelete this.#updateTaskBefore[id];\n\n\t\tconst promise = this.#updatePromises[id];\n\t\tdelete this.#updatePromises[id];\n\n\t\tawait this.#updateTaskFields(id, fields, taskBeforeUpdate);\n\t\tawait this.#updateScrumFields(id, fields, taskBeforeUpdate);\n\t\tawait this.#updateDeadlineFields(id, fields, taskBeforeUpdate);\n\t\tawait this.#updateDatePlanFields(id, fields, taskBeforeUpdate);\n\n\t\tpromise.resolve();\n\t}\n\n\tasync #updateTaskFields(id: number, fields: TaskModel, taskBeforeUpdate: TaskModel): Promise<void>\n\t{\n\t\tconst taskFields = this.#getTaskFields(fields);\n\t\tif (this.#hasChanges(taskBeforeUpdate, taskFields))\n\t\t{\n\t\t\tconst data = await apiClient.post('Task.update', { task: mapModelToDto({ id, ...taskFields }) });\n\t\t\tawait this.extractTask(data);\n\t\t}\n\t}\n\n\tasync #updateScrumFields(id: number, fields: TaskModel, taskBeforeUpdate: TaskModel): Promise<void>\n\t{\n\t\tconst scrumFields = this.#getFilteredFields(fields, separateFields.scrumFields);\n\t\tif (this.#hasChanges(taskBeforeUpdate, scrumFields))\n\t\t{\n\t\t\tawait apiClient.post('Scrum.updateTask', { taskId: id, fields: scrumFields });\n\t\t}\n\t}\n\n\tasync #updateDeadlineFields(id: number, fields: TaskModel, taskBeforeUpdate: TaskModel): Promise<void>\n\t{\n\t\tconst deadlineFields = this.#getFilteredFields(fields, separateFields.deadlineFields);\n\t\tif (this.#hasChanges(taskBeforeUpdate, deadlineFields))\n\t\t{\n\t\t\tawait apiClient.post('Task.Deadline.update', { task: mapModelToDto({ id, ...deadlineFields }) });\n\t\t}\n\t}\n\n\tasync #updateDatePlanFields(id: number, fields: TaskModel, taskBeforeUpdate: TaskModel): Promise<void>\n\t{\n\t\tconst datePlanFields = this.#getFilteredFields(fields, separateFields.datePlanFields);\n\t\tif (this.#hasChanges(taskBeforeUpdate, datePlanFields))\n\t\t{\n\t\t\tawait apiClient.post('Task.Plan.update', { task: mapModelToDto({ id, ...datePlanFields }) });\n\t\t}\n\t}\n\n\t#getTaskFields(task: TaskModel): TaskModel\n\t{\n\t\treturn Object.fromEntries(Object.entries(task).filter(([field]) => {\n\t\t\treturn Object.values(separateFields).every((set) => !set.has(field));\n\t\t}));\n\t}\n\n\t#getFilteredFields(fields: TaskModel, filterSet: Set): TaskModel\n\t{\n\t\treturn Object.fromEntries(Object.entries(fields).filter(([field]) => filterSet.has(field)));\n\t}\n\n\t#hasChanges(task: TaskModel, fields: TaskModel): boolean\n\t{\n\t\treturn Object.entries(fields).some(([field, value]) => JSON.stringify(task[field]) !== JSON.stringify(value));\n\t}\n\n\tasync updateStoreTask(id: number, fields: TaskModel): Promise<void>\n\t{\n\t\tif (this.hasStoreTask(id))\n\t\t{\n\t\t\tawait this.$store.dispatch(`${Model.Tasks}/update`, { id, fields });\n\t\t}\n\t}\n\n\thasStoreTask(id: number): boolean\n\t{\n\t\treturn this.getStoreTask(id) !== null;\n\t}\n\n\tgetStoreTask(id: number): ?TaskModel\n\t{\n\t\tconst task = this.$store.getters[`${Model.Tasks}/getById`](id);\n\n\t\treturn task ? { ...task } : null;\n\t}\n\n\tasync #insertStoreTask(task: TaskModel): Promise<void>\n\t{\n\t\tawait this.$store.dispatch(`${Model.Tasks}/insert`, task);\n\t}\n\n\tasync #deleteStoreTask(id: number): Promise<void>\n\t{\n\t\tawait this.$store.dispatch(`${Model.Tasks}/delete`, id);\n\t}\n\n\tasync addFavorite(task: TaskModel, userId: number): Promise<void>\n\t{\n\t\tconst favoriteIdsCurrent = [...this.$store.state.tasks.collection[task.id].inFavorite];\n\t\tawait this.updateStoreTask(task.id, { inFavorite: [...favoriteIdsCurrent, userId] });\n\t\ttry\n\t\t{\n\t\t\tconst response = await apiClient.post('Task.Favorite.add', { task: { id: task.id } });\n\t\t\tconst isSuccess = response === true;\n\t\t\tif (isSuccess)\n\t\t\t{\n\t\t\t\tconsole.log('REQUEST SUCCESS');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tawait this.updateStoreTask(task.id, { inFavorite: favoriteIdsCurrent });\n\t\t\t}\n\n\t\t\treturn isSuccess;\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService error', error);\n\t\t\tawait this.updateStoreTask(task.id, { inFavorite: favoriteIdsCurrent });\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tasync removeFavorite(task: TaskModel, userId: number): Promise<void>\n\t{\n\t\tconst favoriteIdsCurrent = [...this.$store.state.tasks.collection[task.id].inFavorite];\n\t\tawait this.updateStoreTask(task.id, {\n\t\t\tinFavorite: favoriteIdsCurrent.filter(favoriteId => String(favoriteId) !== String(userId)),\n\t\t});\n\t\ttry\n\t\t{\n\t\t\tconst response = await apiClient.post('Task.Favorite.delete', { task: { id: task.id } });\n\t\t\tconst isSuccess = response === true;\n\t\t\tif (isSuccess)\n\t\t\t{\n\t\t\t\tconsole.log('REQUEST SUCCESS');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tawait this.updateStoreTask(task.id, { inFavorite: favoriteIdsCurrent });\n\t\t\t}\n\n\t\t\treturn isSuccess;\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService error', error);\n\t\t\tawait this.updateStoreTask(task.id, { inFavorite: favoriteIdsCurrent });\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tasync muteTask(task: TaskModel, userId: number): Promise<void>\n\t{\n\t\tconst muteIdsCurrent = [...this.$store.state.tasks.collection[task.id].inMute];\n\t\tawait this.updateStoreTask(task.id, { inMute: [...muteIdsCurrent, userId] });\n\t\ttry\n\t\t{\n\t\t\tconst response = await apiClient.post('Task.Attention.mute', { task: { id: task.id } });\n\t\t\tconst isSuccess = response === true;\n\t\t\tif (isSuccess)\n\t\t\t{\n\t\t\t\tconsole.log('REQUEST SUCCESS');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tawait this.updateStoreTask(task.id, { inMute: muteIdsCurrent });\n\t\t\t}\n\n\t\t\treturn isSuccess;\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService error', error);\n\t\t\tawait this.updateStoreTask(task.id, { inMute: muteIdsCurrent });\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tasync unmuteTask(task: TaskModel, userId: number): Promise<void>\n\t{\n\t\tconst muteIdsCurrent = [...this.$store.state.tasks.collection[task.id].inMute];\n\t\tawait this.updateStoreTask(task.id, {\n\t\t\tinMute: muteIdsCurrent.filter(muteId => String(muteId) !== String(userId)),\n\t\t});\n\t\ttry\n\t\t{\n\t\t\tconst response = await apiClient.post('Task.Attention.unmute', { task: { id: task.id } });\n\t\t\tconst isSuccess = response === true;\n\t\t\tif (isSuccess)\n\t\t\t{\n\t\t\t\tconsole.log('REQUEST SUCCESS');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tawait this.updateStoreTask(task.id, { inMute: muteIdsCurrent });\n\t\t\t}\n\n\t\t\treturn isSuccess;\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService error', error);\n\t\t\tawait this.updateStoreTask(task.id, { inMute: muteIdsCurrent });\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tasync setAuditors(taskId: number, auditorsIds: number[]): Promise<void>\n\t{\n\t\tconst auditorsIdsCurrent = [...this.$store.state.tasks.collection[taskId].auditorsIds];\n\t\tconst filledFieldsCurrent = { ...this.$store.state.tasks.collection[taskId].filledFields };\n\n\t\tawait this.updateStoreTask(taskId, {\n\t\t\tfilledFields: {\n\t\t\t\t...filledFieldsCurrent,\n\t\t\t\tauditorsIds: true,\n\t\t\t},\n\t\t\tauditorsIds: [...auditorsIds],\n\t\t});\n\n\t\tconst auditorsNew = auditorsIds.map(auditorId => ({ id: auditorId }));\n\t\tconst taskNew: TaskModel = { id: taskId, auditors: auditorsNew };\n\t\ttry\n\t\t{\n\t\t\tconst response = await apiClient.post('Task.Stakeholder.Auditor.set', { task: taskNew });\n\t\t\tconst isSuccess = Boolean(response);\n\t\t\tif (isSuccess)\n\t\t\t{\n\t\t\t\tawait this.updateStoreTask(taskId, { auditorsIds: response.auditors.map(auditor => auditor.id) });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tawait this.updateStoreTask(taskId, { auditorsIds: [...auditorsIdsCurrent] });\n\t\t\t}\n\n\t\t\treturn isSuccess;\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('TaskService error', error);\n\t\t\tawait this.updateStoreTask(taskId, { auditorsIds: [...auditorsIdsCurrent] });\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tget $store(): Store\n\t{\n\t\treturn Core.getStore();\n\t}\n}();\n\nfunction Resolvable(): Promise\n{\n\tconst promise = new Promise((resolve) => {\n\t\tthis.resolve = resolve;\n\t});\n\n\tpromise.resolve = this.resolve;\n\n\treturn promise;\n}\n","import { mapModelToDto, mapDtoToModel, mapModelToSliderData } from './mappers';\n\nexport { taskService } from './task-service';\nexport const TaskMappers = { mapModelToDto, mapDtoToModel, mapModelToSliderData };\nexport type { TaskDto } from './types';\n"],"names":["mapModelToDto","task","id","title","prepareValue","description","mapDescription","creator","creatorId","createdTs","Math","floor","responsible","responsibleId","deadlineTs","needsControl","startPlanTs","endPlanTs","fileIds","checklist","parent","parentId","dependsOn","relatedTaskIds","group","groupId","stage","stageId","flow","flowId","priority","isImportant","status","statusChangedTs","accomplices","accomplicesIds","map","auditors","auditorsIds","tags","mapTags","chatId","crmItemIds","allowsChangeDeadline","allowsChangeDatePlan","matchesWorkTime","matchesSubTasksTime","source","mapDtoToModel","taskDto","containsChecklist","containsSubTasks","containsRelatedTasks","rights","name","inFavorite","inMute","archiveLink","Object","fromEntries","entries","filter","value","mapModelToSliderData","checkLists","CheckListMappers","getUserIdsFromChecklists","data","TITLE","DESCRIPTION","RESPONSIBLE_ID","GROUP_ID","DEADLINE_TS","IS_IMPORTANT","FILE_IDS","length","CHECKLIST","ACCOMPLICES","AUDITORS","mappedValue","Type","isUndefined","undefined","replaceAll","trim","TaskGetExtractor","constructor","getTask","getFlow","FlowMappers","getGroup","GroupMappers","getStages","mapStageDtoToModel","getUsers","userDto","UserMappers","separateFields","scrumFields","Set","deadlineFields","datePlanFields","taskService","getById","apiClient","post","extractTask","$store","dispatch","Model","Tasks","error","console","getRights","updateStoreTask","add","EventEmitter","emit","EventName","TaskAdd","relatedToTaskId","relatedTasksService","list","subTasksService","addStore","Error","errors","message","update","fields","taskBeforeUpdate","getStoreTask","isRealId","TaskUpdate","delete","taskBeforeDelete","extractor","Promise","all","Flows","Groups","Stages","Users","fileService","get","sync","Number","isInteger","hasStoreTask","getters","addFavorite","userId","favoriteIdsCurrent","state","tasks","collection","response","isSuccess","log","removeFavorite","favoriteId","String","muteTask","muteIdsCurrent","unmuteTask","muteId","setAuditors","taskId","auditorsIdsCurrent","filledFieldsCurrent","filledFields","auditorsNew","auditorId","taskNew","Boolean","auditor","Core","getStore","Resolvable","Runtime","debounce","promise","resolve","taskFields","field","values","every","set","has","filterSet","some","JSON","stringify","TaskMappers"],"mappings":"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"}