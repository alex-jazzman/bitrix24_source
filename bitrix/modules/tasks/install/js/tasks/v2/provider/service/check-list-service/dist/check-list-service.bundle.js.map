{"version":3,"file":"check-list-service.bundle.js","sources":["../src/mappers.js","../src/check-list-service.js","../src/index.js"],"sourcesContent":["import { UserTypes } from 'tasks.v2.model.users';\nimport { UserMappers } from 'tasks.v2.provider.service.user-service';\nimport type { CheckListModel } from 'tasks.v2.model.check-list';\n\nimport type { CheckListSliderData, CheckListDto } from './types';\n\nexport function prepareCheckLists(checklist: CheckListModel[]): CheckListModel[]\n{\n\tconst parentNodeIdMap = new Map();\n\tchecklist.forEach((item: CheckListModel) => {\n\t\tparentNodeIdMap.set(item.id, item.nodeId);\n\t});\n\n\treturn checklist.map((item: CheckListModel) => {\n\t\tconst parentNodeId = item.parentId ? parentNodeIdMap.get(item.parentId) : 0;\n\n\t\treturn { ...item, parentNodeId };\n\t});\n}\n\nexport function mapDtoToModel(checkList: CheckListModel): CheckListDto\n{\n\treturn {\n\t\tid: checkList.id,\n\t\tnodeId: checkList.nodeId,\n\t\ttitle: checkList.title,\n\t\tcreator: checkList.creator ? UserMappers.mapDtoToModel(checkList.creator) : null,\n\t\ttoggledBy: checkList.toggledBy ? UserMappers.mapDtoToModel(checkList.toggledBy) : null,\n\t\ttoggledDate: checkList.toggledDate,\n\t\taccomplices: checkList.accomplices?.map((it) => UserMappers.mapDtoToModel(it)),\n\t\tauditors: checkList.auditors?.map((it) => UserMappers.mapDtoToModel(it)),\n\t\tattachments: checkList.attachments,\n\t\tisComplete: checkList.isComplete,\n\t\tisImportant: checkList.isImportant,\n\t\tparentId: checkList.parentId,\n\t\tparentNodeId: checkList.parentNodeId,\n\t\tsortIndex: checkList.sortIndex,\n\t\tactions: checkList.actions,\n\t\tpanelIsShown: checkList.panelIsShown,\n\t\tmyFilterActive: checkList.myFilterActive,\n\t\tcollapsed: checkList.collapsed,\n\t\texpanded: checkList.expanded,\n\t\tlocalCompleteState: checkList.localCompleteState,\n\t\tlocalCollapsedState: checkList.localCollapsedState,\n\t\tareCompletedCollapsed: checkList.areCompletedCollapsed,\n\t\thidden: checkList.hidden,\n\t\tgroupMode: checkList.groupMode,\n\t};\n}\n\nexport function mapModelToSliderData(checkLists: CheckListModel[]): CheckListSliderData[]\n{\n\treturn Object.fromEntries(\n\t\tcheckLists.map((item) => {\n\t\t\tconst accomplices = item.accomplices?.map((accomplice) => ({\n\t\t\t\tID: accomplice.id,\n\t\t\t\tTYPE: 'A',\n\t\t\t\tNAME: accomplice.name,\n\t\t\t\tIMAGE: accomplice.image,\n\t\t\t\tIS_COLLABER: accomplice.type === UserTypes.Collaber ? 1 : '',\n\t\t\t}));\n\n\t\t\tconst auditors = item.auditors?.map((auditor) => ({\n\t\t\t\tID: auditor.id,\n\t\t\t\tTYPE: 'U',\n\t\t\t\tNAME: auditor.name,\n\t\t\t\tIMAGE: auditor.image,\n\t\t\t\tIS_COLLABER: auditor.type === UserTypes.Collaber ? 1 : '',\n\t\t\t}));\n\n\t\t\tconst attachments = Object.fromEntries(item.attachments?.map((key) => [key, key]));\n\t\t\tconst members = [...accomplices, ...auditors].reduce((acc, curr) => {\n\t\t\t\tacc[curr.ID] = curr;\n\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\n\t\t\tconst title = prepareTitle(item);\n\n\t\t\tconst node = Object.fromEntries(\n\t\t\t\tObject.entries({\n\t\t\t\t\tNODE_ID: item.nodeId,\n\t\t\t\t\tTITLE: title,\n\t\t\t\t\tCREATED_BY: item.creator?.id,\n\t\t\t\t\tTOGGLED_BY: item.toggledBy?.id,\n\t\t\t\t\tTOGGLED_DATE: item.toggledDate,\n\t\t\t\t\tMEMBERS: members,\n\t\t\t\t\tNEW_FILE_IDS: attachments,\n\t\t\t\t\tATTACHMENTS: attachments,\n\t\t\t\t\tIS_COMPLETE: item.isComplete,\n\t\t\t\t\tIS_IMPORTANT: item.isImportant,\n\t\t\t\t\tPARENT_ID: item.parentId,\n\t\t\t\t\tSORT_INDEX: item.sortIndex,\n\t\t\t\t\tACTIONS: {\n\t\t\t\t\t\tMODIFY: item.actions.modify,\n\t\t\t\t\t\tREMOVE: item.actions.remove,\n\t\t\t\t\t\tTOGGLE: item.actions.toggle,\n\t\t\t\t\t},\n\t\t\t\t}).filter(([, value]) => value !== null && value !== undefined),\n\t\t\t);\n\n\t\t\treturn [item.nodeId, node];\n\t\t}),\n\t);\n}\n\nexport function prepareTitle(item: CheckListModel): string\n{\n\tconst names = [\n\t\t...(item.accomplices ?? []).map((member) => member.name),\n\t\t...(item.auditors ?? []).map((member) => member.name),\n\t].join(' ');\n\n\tif (names)\n\t{\n\t\treturn `${item.title} ${names}`;\n\t}\n\n\treturn item.title;\n}\n","import { Store } from 'ui.vue3.vuex';\nimport { Model } from 'tasks.v2.const';\nimport { Core } from 'tasks.v2.core';\nimport { ApiClient } from 'tasks.v2.lib.api-client';\nimport type { CheckListModel } from 'tasks.v2.model.check-list';\n\nimport { mapDtoToModel, prepareCheckLists } from './mappers';\n\nclass CheckListService\n{\n\t#getPromises = {};\n\n\tasync load(taskId: number): Promise<void>\n\t{\n\t\t// eslint-disable-next-line no-async-promise-executor\n\t\tthis.#getPromises[taskId] ??= new Promise(async (resolve, reject) => {\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await (new ApiClient()).post('CheckList.get', {\n\t\t\t\t\ttask: { id: taskId },\n\t\t\t\t});\n\n\t\t\t\tconst checkLists = data.map((it) => mapDtoToModel(it));\n\n\t\t\t\tawait Promise.all([\n\t\t\t\t\tthis.$store.dispatch(`${Model.CheckList}/upsertMany`, checkLists),\n\t\t\t\t\tthis.$store.dispatch(`${Model.Tasks}/update`, {\n\t\t\t\t\t\tid: taskId,\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\tcontainsChecklist: checkLists.length > 0,\n\t\t\t\t\t\t\tchecklist: checkLists.map(({ id }) => id),\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t]);\n\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\n\t\treturn this.#getPromises[taskId];\n\t}\n\n\tasync save(taskId: number, checklists: CheckListModel[]): Promise<void>\n\t{\n\t\t// eslint-disable-next-line no-async-promise-executor\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst savedList = await (new ApiClient()).post('CheckList.save', {\n\t\t\t\t\ttask: {\n\t\t\t\t\t\tid: taskId,\n\t\t\t\t\t\tchecklist: prepareCheckLists(checklists),\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tawait Promise.all([\n\t\t\t\t\tthis.$store.dispatch(`${Model.Interface}/setDisableCheckListAnimations`, true),\n\t\t\t\t\tthis.$store.dispatch(`${Model.CheckList}/upsertMany`, savedList),\n\t\t\t\t\tthis.$store.dispatch(`${Model.Tasks}/update`, {\n\t\t\t\t\t\tid: taskId,\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\tcontainsChecklist: savedList.length > 0,\n\t\t\t\t\t\t\tchecklist: savedList.map((item) => item.id),\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t]);\n\n\t\t\t\tvoid this.$store.dispatch(`${Model.Interface}/setDisableCheckListAnimations`, false);\n\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\t}\n\n\tasync collapse(taskId: number, checkListId: number): Promise<void>\n\t{\n\t\tawait (new ApiClient()).post('CheckList.collapse', {\n\t\t\ttaskId,\n\t\t\tcheckListId,\n\t\t});\n\n\t\tvoid this.$store.dispatch(`${Model.CheckList}/update`, {\n\t\t\tid: checkListId,\n\t\t\tfields: {\n\t\t\t\tcollapsed: true,\n\t\t\t\texpanded: false,\n\t\t\t},\n\t\t});\n\t}\n\n\tasync expand(taskId: number, checkListId: number): Promise<void>\n\t{\n\t\tawait (new ApiClient()).post('CheckList.expand', {\n\t\t\ttaskId,\n\t\t\tcheckListId,\n\t\t});\n\n\t\tvoid this.$store.dispatch(`${Model.CheckList}/update`, {\n\t\t\tid: checkListId,\n\t\t\tfields: {\n\t\t\t\tcollapsed: false,\n\t\t\t\texpanded: true,\n\t\t\t},\n\t\t});\n\t}\n\n\tasync complete(taskId: number, checkListId: number): Promise<void>\n\t{\n\t\tawait (new ApiClient('tasks.task.', 'data')).post('checklist.complete', {\n\t\t\ttaskId,\n\t\t\tcheckListItemId: checkListId,\n\t\t});\n\t}\n\n\tasync renew(taskId: number, checkListId: number): Promise<void>\n\t{\n\t\tawait (new ApiClient('tasks.task.', 'data')).post('checklist.renew', {\n\t\t\ttaskId,\n\t\t\tcheckListItemId: checkListId,\n\t\t});\n\t}\n\n\tasync delete(taskId: number, checkListId: number): Promise<void>\n\t{\n\t\tawait (new ApiClient('tasks.task.', 'data')).post('checklist.delete', {\n\t\t\ttaskId,\n\t\t\tcheckListItemId: checkListId,\n\t\t});\n\t}\n\n\tget $store(): Store\n\t{\n\t\treturn Core.getStore();\n\t}\n}\n\nexport const checkListService = new CheckListService();\n","import { mapModelToSliderData } from './mappers';\n\nexport { checkListService } from './check-list-service';\n\nexport const CheckListMappers = { mapModelToSliderData };\n"],"names":["prepareCheckLists","checklist","parentNodeIdMap","Map","forEach","item","set","id","nodeId","map","parentNodeId","parentId","get","mapDtoToModel","checkList","title","creator","UserMappers","toggledBy","toggledDate","accomplices","it","auditors","attachments","isComplete","isImportant","sortIndex","actions","panelIsShown","myFilterActive","collapsed","expanded","localCompleteState","localCollapsedState","areCompletedCollapsed","hidden","groupMode","mapModelToSliderData","checkLists","Object","fromEntries","accomplice","ID","TYPE","NAME","name","IMAGE","image","IS_COLLABER","type","UserTypes","Collaber","auditor","key","members","reduce","acc","curr","prepareTitle","node","entries","NODE_ID","TITLE","CREATED_BY","TOGGLED_BY","TOGGLED_DATE","MEMBERS","NEW_FILE_IDS","ATTACHMENTS","IS_COMPLETE","IS_IMPORTANT","PARENT_ID","SORT_INDEX","ACTIONS","MODIFY","modify","REMOVE","remove","TOGGLE","toggle","filter","value","undefined","names","member","join","CheckListService","load","taskId","Promise","resolve","reject","data","ApiClient","post","task","all","$store","dispatch","Model","CheckList","Tasks","fields","containsChecklist","length","error","save","checklists","savedList","Interface","collapse","checkListId","expand","complete","checkListItemId","renew","delete","Core","getStore","checkListService","CheckListMappers"],"mappings":"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"}