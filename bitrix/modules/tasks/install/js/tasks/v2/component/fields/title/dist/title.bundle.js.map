{"version":3,"file":"title.bundle.js","sources":["../src/title-meta.js","../src/title.js"],"sourcesContent":["import { TaskField } from 'tasks.v2.const';\n\nexport const titleMeta = Object.freeze({\n\tid: TaskField.Title,\n});\n","import { GrowingTextArea } from 'tasks.v2.component.elements.growing-text-area';\nimport { Model } from 'tasks.v2.const';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\n\nimport { titleMeta } from './title-meta';\nimport './title.css';\n\n// @vue/component\nexport const Title = {\n\tname: 'TaskTitle',\n\tcomponents: {\n\t\tGrowingTextArea,\n\t},\n\tprops: {\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\ttitleMeta,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttitle: {\n\t\t\tget(): string\n\t\t\t{\n\t\t\t\treturn this.task.title;\n\t\t\t},\n\t\t\tset(title: string): void\n\t\t\t{\n\t\t\t\tvoid taskService.update(\n\t\t\t\t\tthis.taskId,\n\t\t\t\t\t{ title },\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t\tisEdit(): boolean\n\t\t{\n\t\t\treturn Number.isInteger(this.taskId) && this.taskId > 0;\n\t\t},\n\t\treadonly(): boolean\n\t\t{\n\t\t\treturn !this.task.rights.edit;\n\t\t},\n\t},\n\tmethods: {\n\t\thandleInput(title: string): void\n\t\t{\n\t\t\tif (!this.isEdit)\n\t\t\t{\n\t\t\t\tthis.title = title;\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<GrowingTextArea\n\t\t\tv-model=\"title\"\n\t\t\tclass=\"tasks-field-title\"\n\t\t\t:data-task-id=\"taskId\"\n\t\t\t:data-task-field-id=\"titleMeta.id\"\n\t\t\t:data-task-field-value=\"task.title\"\n\t\t\tdata-field-container\n\t\t\t:placeholder=\"loc('TASKS_V2_TITLE_PLACEHOLDER')\"\n\t\t\t:readonly=\"readonly || disabled\"\n\t\t\t@input=\"handleInput\"\n\t\t/>\n\t`,\n};\n"],"names":["titleMeta","Object","freeze","id","TaskField","Title","name","components","GrowingTextArea","props","taskId","type","Number","String","required","disabled","Boolean","default","setup","computed","title","get","task","set","taskService","update","$store","getters","Model","Tasks","isEdit","isInteger","readonly","rights","edit","methods","handleInput","template"],"mappings":";;;;;;;;OAEaA,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAC;GACtCC,EAAE,EAAEC,wBAAS,CAACC;CACf,CAAC,CAAC;;CCIF;AACA,OAAaA,KAAK,GAAG;GACpBC,IAAI,EAAE,WAAW;GACjBC,UAAU,EAAE;sBACXC;IACA;GACDC,KAAK,EAAE;KACNC,MAAM,EAAE;OACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;OACtBC,QAAQ,EAAE;MACV;KACDC,QAAQ,EAAE;OACTJ,IAAI,EAAEK,OAAO;OACbC,OAAO,EAAE;;IAEV;GACDC,KAAK,GACL;KACC,OAAO;OACNlB;MACA;IACD;GACDmB,QAAQ,EAAE;KACTC,KAAK,EAAE;OACNC,GAAG,GACH;SACC,OAAO,IAAI,CAACC,IAAI,CAACF,KAAK;QACtB;OACDG,GAAG,CAACH,KAAa,EACjB;SACC,KAAKI,iDAAW,CAACC,MAAM,CACtB,IAAI,CAACf,MAAM,EACX;WAAEU;UAAO,CACT;;MAEF;KACDE,IAAI,GACJ;OACC,OAAO,IAAI,CAACI,MAAM,CAACC,OAAO,CAAE,GAAEC,oBAAK,CAACC,KAAM,UAAS,CAAC,CAAC,IAAI,CAACnB,MAAM,CAAC;MACjE;KACDoB,MAAM,GACN;OACC,OAAOlB,MAAM,CAACmB,SAAS,CAAC,IAAI,CAACrB,MAAM,CAAC,IAAI,IAAI,CAACA,MAAM,GAAG,CAAC;MACvD;KACDsB,QAAQ,GACR;OACC,OAAO,CAAC,IAAI,CAACV,IAAI,CAACW,MAAM,CAACC,IAAI;;IAE9B;GACDC,OAAO,EAAE;KACRC,WAAW,CAAChB,KAAa,EACzB;OACC,IAAI,CAAC,IAAI,CAACU,MAAM,EAChB;SACC,IAAI,CAACV,KAAK,GAAGA,KAAK;;;IAGpB;GACDiB,QAAQ,EAAG;;;;;;;;;;;;;CAaZ,CAAC;;;;;;;;;"}