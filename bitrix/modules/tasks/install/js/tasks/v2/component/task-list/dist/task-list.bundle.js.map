{"version":3,"file":"task-list.bundle.js","sources":["../src/task-line.js","../src/task-line-skeleton.js","../src/task-list.js"],"sourcesContent":["import { EventEmitter } from 'main.core.events';\nimport { DurationFormat } from 'main.date';\n\nimport type { DialogOptions } from 'ui.entity-selector';\nimport { TextSm, TextMd } from 'ui.system.typography.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\n\nimport { EventName, Model } from 'tasks.v2.const';\nimport { HoverPill } from 'tasks.v2.component.elements.hover-pill';\nimport { calendar } from 'tasks.v2.lib.calendar';\nimport { taskService } from 'tasks.v2.provider.service.task-service';\nimport { Responsible, responsibleMeta } from 'tasks.v2.component.fields.responsible';\nimport { DeadlinePopup } from 'tasks.v2.component.fields.deadline';\nimport type { TaskModel } from 'tasks.v2.model.tasks';\nimport type { UserModel } from 'tasks.v2.model.users';\n\nimport './task-line.css';\n\n// @vue/component\nexport const TaskLine = {\n\tcomponents: {\n\t\tBIcon,\n\t\tResponsible,\n\t\tDeadlinePopup,\n\t\tHoverPill,\n\t\tTextMd,\n\t\tTextSm,\n\t},\n\tprops: {\n\t\tcontext: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tlast: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: ['remove'],\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tresponsibleMeta,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tisDeadlinePopupShown: false,\n\t\t\tselectingDeadlineTs: null,\n\t\t\tnowTs: Date.now(),\n\t\t};\n\t},\n\tcomputed: {\n\t\ttask(): TaskModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Tasks}/getById`](this.taskId);\n\t\t},\n\t\tresponsible(): UserModel\n\t\t{\n\t\t\treturn this.$store.getters[`${Model.Users}/getById`](this.task.responsibleId);\n\t\t},\n\t\tdialogOptions(): DialogOptions\n\t\t{\n\t\t\treturn responsibleMeta.dialogOptions(this.context);\n\t\t},\n\t\tpreselected(): [string, number][]\n\t\t{\n\t\t\treturn [['user', this.task.responsibleId || this.currentUserId]];\n\t\t},\n\t\tdataset(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\t'data-task-id': this.taskId,\n\t\t\t\t'data-task-field-id': responsibleMeta.id,\n\t\t\t\t'data-task-field-value': this.task.responsibleId,\n\t\t\t};\n\t\t},\n\t\tdeadlineTs(): number\n\t\t{\n\t\t\treturn this.selectingDeadlineTs ?? this.task.deadlineTs;\n\t\t},\n\t\texpiredDuration(): number\n\t\t{\n\t\t\tif (!this.deadlineTs)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn this.nowTs - this.deadlineTs;\n\t\t},\n\t\tisExpired(): boolean\n\t\t{\n\t\t\treturn this.expiredDuration > 0 && !this.isFlowFilledOnAdd;\n\t\t},\n\t\tdeadlineFormatted(): string\n\t\t{\n\t\t\tif (this.isFlowFilledOnAdd)\n\t\t\t{\n\t\t\t\treturn this.loc('TASKS_V2_DEADLINE_AUTO');\n\t\t\t}\n\n\t\t\tif (!this.deadlineTs)\n\t\t\t{\n\t\t\t\treturn this.loc('TASKS_V2_DEADLINE_EMPTY');\n\t\t\t}\n\n\t\t\tif (this.isExpired)\n\t\t\t{\n\t\t\t\treturn this.loc('TASKS_V2_TASK_LIST_DEADLINE_EXPIRED', {\n\t\t\t\t\t'#DURATION#': new DurationFormat(this.expiredDuration).formatClosest(),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn calendar.formatDateTime(this.deadlineTs);\n\t\t},\n\t\tisEdit(): boolean\n\t\t{\n\t\t\treturn Number.isInteger(this.taskId) && this.taskId > 0;\n\t\t},\n\t\tisFlowFilledOnAdd(): boolean\n\t\t{\n\t\t\treturn this.task.flowId > 0 && !this.isEdit;\n\t\t},\n\t\tdeadlineReadonly(): boolean\n\t\t{\n\t\t\treturn this.readonly || !this.task.rights.deadline || this.isFlowFilledOnAdd;\n\t\t},\n\t\tdetachReadonly(): boolean\n\t\t{\n\t\t\tconst canDetach = this.task.rights.detachParent || this.task.rights.detachRelated;\n\n\t\t\treturn this.readonly || !canDetach;\n\t\t},\n\t},\n\tmounted(): void\n\t{\n\t\tthis.nowTsInterval = setInterval(() => {\n\t\t\tthis.nowTs = Date.now();\n\t\t}, 1000);\n\t},\n\tbeforeUnmount(): void\n\t{\n\t\tclearInterval(this.nowTsInterval);\n\t},\n\tmethods: {\n\t\thandleEditDeadline(): void\n\t\t{\n\t\t\tif (this.deadlineReadonly)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isDeadlinePopupShown = true;\n\t\t},\n\t\thandleClearDeadline(): void\n\t\t{\n\t\t\tif (this.deadlineReadonly)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvoid taskService.update(\n\t\t\t\tthis.taskId,\n\t\t\t\t{ deadlineTs: 0 },\n\t\t\t);\n\t\t},\n\t\thandleDeadlineUpdate(selectingDeadlineTs: number): void\n\t\t{\n\t\t\tthis.selectingDeadlineTs = selectingDeadlineTs;\n\t\t},\n\t\thandleDeadlinePopupClose(): void\n\t\t{\n\t\t\tthis.isDeadlinePopupShown = false;\n\t\t\tthis.selectingDeadlineTs = null;\n\t\t},\n\t\thandleTaskOpen(): void\n\t\t{\n\t\t\tEventEmitter.emit(EventName.OpenFullCard, {\n\t\t\t\ttaskId: this.taskId,\n\t\t\t\twidthOffset: 48,\n\t\t\t});\n\t\t},\n\t\thandleRemove(): void\n\t\t{\n\t\t\tif (this.readonly)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$emit('remove');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-task-line-container\" :class=\"{ '--last': last }\">\n\t\t\t<div class=\"tasks-task-line-wrapper\">\n\t\t\t\t<div class=\"tasks-task-line-title-container\" @click=\"handleTaskOpen\">\n\t\t\t\t\t<TextMd class=\"tasks-task-line-title\">\n\t\t\t\t\t\t{{ task.title }}\n\t\t\t\t\t</TextMd>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-task-line-fields-container\">\n\t\t\t\t\t<Responsible\n\t\t\t\t\t\t:context=\"context\"\n\t\t\t\t\t\t:taskId=\"taskId\"\n\t\t\t\t\t\t:selectorWithActionMenu=\"true\"\n\t\t\t\t\t\t:avatarOnly=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"tasks-task-line-deadline\"\n\t\t\t\t\t\t:class=\"{ '--expired': isExpired }\"\n\t\t\t\t\t\tref=\"deadline\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<HoverPill\n\t\t\t\t\t\t\t:withClear=\"Boolean(deadlineTs) && !deadlineReadonly\"\n\t\t\t\t\t\t\t:readonly=\"deadlineReadonly\"\n\t\t\t\t\t\t\t@click=\"handleEditDeadline\"\n\t\t\t\t\t\t\t@clear=\"handleClearDeadline\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TextSm class=\"tasks-task-line-deadline-text\" :accent=\"isExpired\">\n\t\t\t\t\t\t\t\t{{ deadlineFormatted }}\n\t\t\t\t\t\t\t</TextSm>\n\t\t\t\t\t\t</HoverPill>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"tasks-task-line-cross\"\n\t\t\t\t\t:class=\"{ '--readonly': detachReadonly }\"\n\t\t\t\t\t@click=\"handleRemove\"\n\t\t\t\t>\n\t\t\t\t\t<BIcon :name=\"Outline.CROSS_L\" :hoverable=\"true\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<DeadlinePopup\n\t\t\tv-if=\"isDeadlinePopupShown\"\n\t\t\t:taskId=\"taskId\"\n\t\t\t:bindElement=\"$refs.deadline\"\n\t\t\t@update=\"handleDeadlineUpdate\"\n\t\t\t@close=\"handleDeadlinePopupClose\"\n\t\t/>\n\t`,\n};\n","import { BLine } from 'ui.system.skeleton.vue';\n\nimport './task-line.css';\n\nexport const TaskLineSkeleton = {\n\tcomponents: {\n\t\tBLine,\n\t},\n\tprops: {\n\t\tlast: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-task-line-container\" :class=\"{ '--last': last }\">\n\t\t\t<div class=\"tasks-task-line-wrapper\">\n\t\t\t\t<div class=\"tasks-task-line-title-container\">\n\t\t\t\t\t<BLine :width=\"200\" :height=\"10\"/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-task-line-fields-container\">\n\t\t\t\t\t<div class=\"tasks-task-line-skeleton-avatar\">\n\t\t\t\t\t\t<BLine circle :width=\"25\" :height=\"25\" :radius=\"25\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tasks-task-line-deadline\">\n\t\t\t\t\t\t<BLine :width=\"80\" :height=\"10\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tasks-task-line-cross\"/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Loc } from 'main.core';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { Model, Limit } from 'tasks.v2.const';\n\nimport { TaskLine } from './task-line';\nimport { TaskLineSkeleton } from './task-line-skeleton';\nimport './task-list.css';\n\nconst limit = Limit.RelationList;\n\n// @vue/component\nexport const TaskList = {\n\tcomponents: {\n\t\tBIcon,\n\t\tTaskLine,\n\t\tTaskLineSkeleton,\n\t},\n\tprops: {\n\t\ttaskIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tcontext: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['openMore', 'removeTask'],\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t};\n\t},\n\tcomputed: {\n\t\tlimitedTasks(): number[]\n\t\t{\n\t\t\treturn this.taskIds.slice(0, limit);\n\t\t},\n\t\tshouldShowMore(): boolean\n\t\t{\n\t\t\treturn this.taskIds.length > limit;\n\t\t},\n\t\tmoreText(): string\n\t\t{\n\t\t\tconst count = this.taskIds.length - limit;\n\n\t\t\treturn Loc.getMessagePlural('TASKS_V2_TASK_LIST_MORE', count, {\n\t\t\t\t'#COUNT#': count,\n\t\t\t});\n\t\t},\n\t},\n\tmethods: {\n\t\tisLast(index: number): boolean\n\t\t{\n\t\t\treturn index === (Math.min(this.taskIds.length, limit) - 1);\n\t\t},\n\t\tisTaskLoaded(taskId: number): boolean\n\t\t{\n\t\t\treturn Boolean(this.$store.getters[`${Model.Tasks}/getById`](taskId));\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"tasks-task-list\">\n\t\t\t<TaskLineSkeleton v-if=\"taskIds.length === 0\" :last=\"true\"/>\n\t\t\t<template v-for=\"(taskId, index) in limitedTasks\" :key=\"taskId\">\n\t\t\t\t<TaskLine\n\t\t\t\t\tv-if=\"isTaskLoaded(taskId)\"\n\t\t\t\t\t:taskId=\"taskId\"\n\t\t\t\t\t:context=\"context\"\n\t\t\t\t\t:readonly=\"readonly\"\n\t\t\t\t\t:last=\"isLast(index)\"\n\t\t\t\t\t@remove=\"$emit('removeTask', taskId)\"\n\t\t\t\t/>\n\t\t\t\t<TaskLineSkeleton\n\t\t\t\t\tv-else\n\t\t\t\t\t:last=\"isLast(index)\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t\t<div\n\t\t\t\tv-if=\"shouldShowMore\"\n\t\t\t\tclass=\"tasks-task-list-more\"\n\t\t\t\t@click=\"$emit('openMore')\"\n\t\t\t>\n\t\t\t\t<div class=\"tasks-task-list-more-text\">\n\t\t\t\t\t{{ moreText }}\n\t\t\t\t</div>\n\t\t\t\t<BIcon\n\t\t\t\t\tclass=\"tasks-task-list-icon\"\n\t\t\t\t\t:name=\"Outline.CHEVRON_RIGHT_L\"\n\t\t\t\t\t:hoverable=\"true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n"],"names":["TaskLine","components","BIcon","Responsible","DeadlinePopup","HoverPill","TextMd","TextSm","props","context","type","String","required","taskId","Number","readonly","Boolean","last","default","emits","setup","responsibleMeta","Outline","data","isDeadlinePopupShown","selectingDeadlineTs","nowTs","Date","now","computed","task","$store","getters","Model","Tasks","responsible","Users","responsibleId","dialogOptions","preselected","currentUserId","dataset","id","deadlineTs","expiredDuration","isExpired","isFlowFilledOnAdd","deadlineFormatted","loc","DurationFormat","formatClosest","calendar","formatDateTime","isEdit","isInteger","flowId","deadlineReadonly","rights","deadline","detachReadonly","canDetach","detachParent","detachRelated","mounted","nowTsInterval","setInterval","beforeUnmount","clearInterval","methods","handleEditDeadline","handleClearDeadline","taskService","update","handleDeadlineUpdate","handleDeadlinePopupClose","handleTaskOpen","EventEmitter","emit","EventName","OpenFullCard","widthOffset","handleRemove","$emit","template","TaskLineSkeleton","BLine","limit","Limit","RelationList","TaskList","taskIds","Array","limitedTasks","slice","shouldShowMore","length","moreText","count","Loc","getMessagePlural","isLast","index","Math","min","isTaskLoaded"],"mappings":"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"}