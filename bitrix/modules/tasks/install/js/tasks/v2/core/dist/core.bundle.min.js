this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};(function(e,s,a,l,i,r,t,o,d,b,c,n,v){"use strict";var u=babelHelpers.classPrivateFieldLooseKey("params");var B=babelHelpers.classPrivateFieldLooseKey("store");var P=babelHelpers.classPrivateFieldLooseKey("builder");var h=babelHelpers.classPrivateFieldLooseKey("initPromise");var p=babelHelpers.classPrivateFieldLooseKey("pullManager");var F=babelHelpers.classPrivateFieldLooseKey("initStore");var L=babelHelpers.classPrivateFieldLooseKey("initPull");class H{constructor(){Object.defineProperty(this,L,{value:y});Object.defineProperty(this,F,{value:M});Object.defineProperty(this,u,{writable:true,value:s.Extension.getSettings("tasks.v2.core")});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:null})}getParams(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,B)[B]}init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,h))[h])!=null?s:e[h]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,B)[B]=await babelHelpers.classPrivateFieldLooseBase(this,F)[F]();babelHelpers.classPrivateFieldLooseBase(this,L)[L]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}async addDynamicModel(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,P)[P]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,B)[B].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,P)[P].addDynamicModel(e)}removeDynamicModel(e){if(babelHelpers.classPrivateFieldLooseBase(this,P)[P]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,B)[B].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,P)[P].removeDynamicModel(e)}}}async function M(){babelHelpers.classPrivateFieldLooseBase(this,P)[P]=a.Builder.init();babelHelpers.classPrivateFieldLooseBase(this,P)[P].addModel(l.CheckList.create()).addModel(i.CrmItems.create()).addModel(r.Epics.create()).addModel(t.Flows.create()).addModel(o.Groups.create()).addModel(d.Interface.createWithVariables(babelHelpers.classPrivateFieldLooseBase(this,u)[u])).addModel(b.Stages.create()).addModel(c.Tasks.create()).addModel(n.Users.create());const e=await babelHelpers.classPrivateFieldLooseBase(this,P)[P].build();return e.store}function y(){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=new v.PullManager({currentUserId:babelHelpers.classPrivateFieldLooseBase(this,u)[u].currentUserId});babelHelpers.classPrivateFieldLooseBase(this,p)[p].initQueueManager()}const X=new H;e.Core=X})(this.BX.Tasks.V2=this.BX.Tasks.V2||{},BX,BX.Vue3.Vuex,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Provider.Pull);
//# sourceMappingURL=core.bundle.map.js