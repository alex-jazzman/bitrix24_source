this.BX=this.BX||{};this.BX.Tasks=this.BX.Tasks||{};(function(e,s,a,l,i,r,t,o,d,b,c,n){"use strict";var v=babelHelpers.classPrivateFieldLooseKey("params");var u=babelHelpers.classPrivateFieldLooseKey("store");var B=babelHelpers.classPrivateFieldLooseKey("builder");var P=babelHelpers.classPrivateFieldLooseKey("initPromise");var h=babelHelpers.classPrivateFieldLooseKey("pullManager");var p=babelHelpers.classPrivateFieldLooseKey("initStore");var F=babelHelpers.classPrivateFieldLooseKey("initPull");class L{constructor(){Object.defineProperty(this,F,{value:M});Object.defineProperty(this,p,{value:H});Object.defineProperty(this,v,{writable:true,value:s.Extension.getSettings("tasks.v2.core")});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:null})}getParams(){return babelHelpers.classPrivateFieldLooseBase(this,v)[v]}getStore(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]}init(){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,P))[P])!=null?s:e[P]=new Promise((async e=>{babelHelpers.classPrivateFieldLooseBase(this,u)[u]=await babelHelpers.classPrivateFieldLooseBase(this,p)[p]();babelHelpers.classPrivateFieldLooseBase(this,F)[F]();e()}));return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}async addDynamicModel(e){if(!(babelHelpers.classPrivateFieldLooseBase(this,B)[B]instanceof a.Builder)){throw new TypeError("Builder has not been init")}if(babelHelpers.classPrivateFieldLooseBase(this,u)[u].hasModule(e.getName())){return}await babelHelpers.classPrivateFieldLooseBase(this,B)[B].addDynamicModel(e)}removeDynamicModel(e){if(babelHelpers.classPrivateFieldLooseBase(this,B)[B]instanceof a.Builder&&babelHelpers.classPrivateFieldLooseBase(this,u)[u].hasModule(e)){babelHelpers.classPrivateFieldLooseBase(this,B)[B].removeDynamicModel(e)}}}async function H(){babelHelpers.classPrivateFieldLooseBase(this,B)[B]=a.Builder.init();babelHelpers.classPrivateFieldLooseBase(this,B)[B].addModel(l.CheckList.create()).addModel(i.Epics.create()).addModel(r.Flows.create()).addModel(t.Groups.create()).addModel(o.Interface.createWithVariables(babelHelpers.classPrivateFieldLooseBase(this,v)[v])).addModel(d.Stages.create()).addModel(b.Tasks.create()).addModel(c.Users.create());const e=await babelHelpers.classPrivateFieldLooseBase(this,B)[B].build();return e.store}function M(){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=new n.PullManager({currentUserId:babelHelpers.classPrivateFieldLooseBase(this,v)[v].currentUserId});babelHelpers.classPrivateFieldLooseBase(this,h)[h].initQueueManager()}const y=new L;e.Core=y})(this.BX.Tasks.V2=this.BX.Tasks.V2||{},BX,BX.Vue3.Vuex,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Model,BX.Tasks.V2.Provider.Pull);
//# sourceMappingURL=core.bundle.map.js