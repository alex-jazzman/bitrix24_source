{"version":3,"file":"dashboard-parameters-selector.bundle.js","sources":["../src/dashboard-parameters-selector.js"],"sourcesContent":["/* eslint-disable operator-linebreak */\nimport { Dom, Event, Loc, Tag, Uri } from 'main.core';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { Item, TagItem, TagSelector } from 'ui.entity-selector';\nimport type { Parameter, ParameterSelectorParams } from './types';\nimport './css/main.css';\n\nexport class DashboardParametersSelector\n{\n\t#groups: Set<number>;\n\t#initialGroups: Set<number>;\n\t#scopes: Set<string>;\n\t#initialScopes: Set<string>;\n\t#params: Set<string>;\n\t#initialParams: Set<string>;\n\t#scopeParamsMap: {[scopeCode: string]: Parameter[]};\n\t#groupSelector: TagSelector;\n\t#scopeSelector: TagSelector;\n\t#paramsSelector: TagSelector;\n\n\tconstructor(params: ParameterSelectorParams)\n\t{\n\t\tthis.#groups = params.groups;\n\t\tthis.#initialGroups = new Set(params.groups);\n\n\t\tthis.#scopes = params.scopes;\n\t\tthis.#initialScopes = new Set(params.scopes);\n\n\t\tthis.#params = params.params;\n\t\tthis.#initialParams = new Set(params.params);\n\n\t\tthis.#scopeParamsMap = params.scopeParamsMap;\n\t}\n\n\tgetValues(): { groups: Set<number>, scopes: Set<string>, params: Set<string> }\n\t{\n\t\treturn {\n\t\t\tgroups: this.#groups,\n\t\t\tscopes: this.#scopes,\n\t\t\tparams: this.#params,\n\t\t};\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\tconst paramsHintText = Loc.getMessage(\n\t\t\t'DASHBOARD_PARAMS_SELECTOR_PARAMS_HINT_MSGVER_1',\n\t\t\t{\n\t\t\t\t'[link]': '<a class=\"ui-link\" onclick=\"top.BX.Helper.show(`redirect=detail&code=22658454`)\">',\n\t\t\t\t'[/link]': '</a>',\n\t\t\t},\n\t\t);\n\n\t\tconst container = Tag.render`\n\t\t\t<div class=\"dashboard-params-container\">\n\t\t\t\t<div class=\"dashboard-params-title-container\">\n\t\t\t\t\t<div class=\"dashboard-params-title\">\n\t\t\t\t\t\t${Loc.getMessage('DASHBOARD_PARAMS_SELECTOR_GROUPS')}\n\t\t\t\t\t\t<span data-hint=\"${Loc.getMessage('DASHBOARD_PARAMS_SELECTOR_GROUPS_HINT')}\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"dashboard-params-groups-selector\"></div>\n\n\t\t\t\t<div class=\"dashboard-params-title-container\">\n\t\t\t\t\t<div class=\"dashboard-params-title\">\n\t\t\t\t\t\t${Loc.getMessage('DASHBOARD_PARAMS_SELECTOR_SCOPE')}\n\t\t\t\t\t\t<span data-hint=\"${Loc.getMessage('DASHBOARD_PARAMS_SELECTOR_SCOPE_HINT')}\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"dashboard-params-scope-selector\"></div>\n\n\t\t\t\t<div class=\"dashboard-params-title-container\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"dashboard-params-title\">\n\t\t\t\t\t\t\t${Loc.getMessage('DASHBOARD_PARAMS_SELECTOR_PARAMS')}\n\t\t\t\t\t\t\t<span data-hint-html data-hint-interactivity data-hint='${paramsHintText}'></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"dashboard-params-list-link\">\n\t\t\t\t\t\t${Loc.getMessage('DASHBOARD_PARAMS_SELECTOR_PARAMS_LIST')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"dashboard-params-params-selector\"></div>\n\t\t\t</div>\n\t\t`;\n\t\tBX.UI.Hint.init(container);\n\n\t\tthis.#initGroupSelector();\n\t\tthis.#groupSelector.renderTo(container.querySelector('.dashboard-params-groups-selector'));\n\n\t\t// Scope selector will be loaded on GroupSelector's onLoadScope event handler.\n\t\tconst stubScopeSelector: TagSelector = new TagSelector({ locked: true });\n\t\tstubScopeSelector.renderTo(container.querySelector('.dashboard-params-scope-selector'));\n\n\t\t// Param selector will be loaded on ScopeSelector's onLoadScope event handler.\n\t\tconst stubParamsSelector: TagSelector = new TagSelector({ locked: true });\n\t\tstubParamsSelector.renderTo(container.querySelector('.dashboard-params-params-selector'));\n\n\t\tEvent.bind(container.querySelector('.dashboard-params-list-link'), 'click', this.#openParamListSlider.bind(this));\n\n\t\treturn container;\n\t}\n\n\tselectGroups(groupIds: number[]): void\n\t{\n\t\tfor (const groupId: number of groupIds)\n\t\t{\n\t\t\tconst groupItem: ?Item = this.#groupSelector.getDialog().getItem({ id: groupId, entityId: 'biconnector-superset-group' });\n\t\t\tif (groupItem)\n\t\t\t{\n\t\t\t\tgroupItem.select();\n\t\t\t}\n\t\t}\n\t}\n\n\t#initGroupSelector(): void\n\t{\n\t\tconst preselectedItems = [];\n\t\tthis.#groups.forEach((groupId: number) => {\n\t\t\tpreselectedItems.push(['biconnector-superset-group', groupId]);\n\t\t});\n\n\t\tconst groupSelector: TagSelector = new TagSelector({\n\t\t\tmultiple: true,\n\t\t\tdialogOptions: {\n\t\t\t\tid: 'biconnector-superset-group',\n\t\t\t\tcontext: 'biconnector-superset-group',\n\t\t\t\tenableSearch: false,\n\t\t\t\tdropdownMode: true,\n\t\t\t\tshowAvatars: true,\n\t\t\t\tcompactView: false,\n\t\t\t\tdynamicLoad: true,\n\t\t\t\tpreload: true,\n\t\t\t\twidth: 383,\n\t\t\t\theight: 419,\n\t\t\t\tentities: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'biconnector-superset-group',\n\t\t\t\t\t\tdynamicLoad: true,\n\t\t\t\t\t\toptions: {},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpreselectedItems,\n\t\t\t\tevents: {\n\t\t\t\t\tonLoad: () => {\n\t\t\t\t\t\tthis.#initScopeSelector();\n\t\t\t\t\t},\n\t\t\t\t\t'Item:onSelect': (event: BaseEvent) => {\n\t\t\t\t\t\tconst item: Item = event.getData().item;\n\t\t\t\t\t\tthis.#groups.add(item.getId());\n\t\t\t\t\t\tconst groupScopes: string[] = item.getCustomData().get('groupScopes') ?? [];\n\t\t\t\t\t\tfor (const groupScopeCode: string of groupScopes)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst scopeItem: Item = this.#scopeSelector.getDialog().getItem({ id: groupScopeCode, entityId: 'biconnector-superset-scope' });\n\t\t\t\t\t\t\tscopeItem.setDeselectable(false);\n\t\t\t\t\t\t\tscopeItem.select();\n\t\t\t\t\t\t\tconst scopeTag: TagItem = this.#scopeSelector.getTag({ id: groupScopeCode, entityId: 'biconnector-superset-scope' });\n\t\t\t\t\t\t\tscopeTag.setDeselectable(false);\n\t\t\t\t\t\t\tscopeTag.render();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.#onChange();\n\t\t\t\t\t},\n\t\t\t\t\t'Item:onDeselect': (event: BaseEvent) => {\n\t\t\t\t\t\tconst item: Item = event.getData().item;\n\t\t\t\t\t\tthis.#groups.delete(item.getId());\n\t\t\t\t\t\tconst groupScopes: string[] = item.getCustomData().get('groupScopes') ?? [];\n\t\t\t\t\t\tfor (const groupScopeCode: string of groupScopes)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst scopeItem: Item = this.#scopeSelector.getDialog().getItem({ id: groupScopeCode, entityId: 'biconnector-superset-scope' });\n\t\t\t\t\t\t\tscopeItem.setDeselectable(true);\n\t\t\t\t\t\t\tscopeItem.deselect();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.#onChange();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tDom.addClass(groupSelector.getDialog().getContainer(), 'biconnector-settings-entity-selector');\n\n\t\tthis.#groupSelector = groupSelector;\n\t}\n\n\t#initScopeSelector(): void\n\t{\n\t\tconst groupItems: Item[] = this.#groupSelector.getDialog().getSelectedItems();\n\t\tconst groupScopes: Set<string> = new Set();\n\t\tfor (const groupItem: Item of groupItems)\n\t\t{\n\t\t\tfor (const groupScope of groupItem.getCustomData().get('groupScopes') ?? [])\n\t\t\t{\n\t\t\t\tgroupScopes.add(groupScope);\n\t\t\t}\n\t\t}\n\n\t\tconst preselectedItems = [];\n\t\tconst undeselectedItems = [];\n\t\tlet hasSelectedAutomatedSolutions = false;\n\t\tthis.#scopes.forEach((scopeCode: string) => {\n\t\t\tif (scopeCode.startsWith('automated_solution_'))\n\t\t\t{\n\t\t\t\thasSelectedAutomatedSolutions = true;\n\t\t\t}\n\n\t\t\tif (groupScopes.has(scopeCode))\n\t\t\t{\n\t\t\t\tundeselectedItems.push(['biconnector-superset-scope', scopeCode]);\n\t\t\t}\n\t\t\tpreselectedItems.push(['biconnector-superset-scope', scopeCode]);\n\t\t});\n\n\t\tconst scopeSelector: TagSelector = new TagSelector({\n\t\t\tmultiple: true,\n\t\t\tdialogOptions: {\n\t\t\t\tid: 'biconnector-superset-scope',\n\t\t\t\tcontext: 'biconnector-superset-scope',\n\t\t\t\tenableSearch: false,\n\t\t\t\tdropdownMode: true,\n\t\t\t\tshowAvatars: false,\n\t\t\t\tcompactView: true,\n\t\t\t\tdynamicLoad: true,\n\t\t\t\tpreload: true,\n\t\t\t\twidth: 383,\n\t\t\t\theight: 419,\n\t\t\t\tentities: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'biconnector-superset-scope',\n\t\t\t\t\t\tdynamicLoad: true,\n\t\t\t\t\t\toptions: {},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpreselectedItems,\n\t\t\t\tundeselectedItems,\n\t\t\t\tevents: {\n\t\t\t\t\tonLoad: (event: BaseEvent) => {\n\t\t\t\t\t\tif (hasSelectedAutomatedSolutions)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst items = event.getTarget()?.getItems();\n\t\t\t\t\t\t\tconst automatedSolutionItem = items.find((item) => item.getId() === 'automated_solution');\n\t\t\t\t\t\t\tconst itemNode = automatedSolutionItem.getNodes()?.values()?.next()?.value;\n\t\t\t\t\t\t\titemNode?.setOpen(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.#initParamsSelector();\n\t\t\t\t\t},\n\t\t\t\t\t'Item:onSelect': (event: BaseEvent) => {\n\t\t\t\t\t\tconst item: Item = event.getData().item;\n\t\t\t\t\t\tthis.#onScopeSelect(item);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonBeforeTagAdd: (event: BaseEvent) => {\n\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\tthis.#scopes.add(tag.getId());\n\t\t\t\t\tthis.#onChange();\n\t\t\t\t},\n\t\t\t\tonBeforeTagRemove: (event: BaseEvent) => {\n\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\tthis.#scopes.delete(tag.getId());\n\t\t\t\t\tthis.#onChange();\n\t\t\t\t},\n\t\t\t\tonAfterTagRemove: (event: BaseEvent) => {\n\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\tthis.#onScopeRemove(tag.getId());\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tDom.addClass(scopeSelector.getDialog().getContainer(), 'biconnector-settings-entity-selector');\n\t\tDom.clean(document.querySelector('.dashboard-params-scope-selector'));\n\t\tscopeSelector.renderTo(document.querySelector('.dashboard-params-scope-selector'));\n\n\t\tthis.#scopeSelector = scopeSelector;\n\t}\n\n\t#initParamsSelector(): void\n\t{\n\t\tconst items = [];\n\t\tthis.#scopes.forEach((scopeCode: string) => {\n\t\t\tconst scopeParams: Parameter[] = this.#scopeParamsMap[scopeCode] ?? [];\n\t\t\tscopeParams.forEach((param: Parameter) => {\n\t\t\t\tconst itemTitle = this.#getParamTitle(param.code);\n\t\t\t\titems.push({\n\t\t\t\t\tid: param.code,\n\t\t\t\t\tentityId: 'biconnector-superset-params',\n\t\t\t\t\ttitle: itemTitle.title,\n\t\t\t\t\tsupertitle: itemTitle.supertitle,\n\t\t\t\t\ttabs: 'params',\n\t\t\t\t\ttextColor: '#535C69',\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis.#scopeParamsMap.global.forEach((param: Parameter) => {\n\t\t\tconst itemTitle = this.#getParamTitle(param.code);\n\t\t\titems.push({\n\t\t\t\tid: param.code,\n\t\t\t\tentityId: 'biconnector-superset-params',\n\t\t\t\ttitle: itemTitle.title,\n\t\t\t\tsupertitle: itemTitle.supertitle,\n\t\t\t\ttabs: 'params',\n\t\t\t});\n\t\t});\n\n\t\tconst preselectedItems = [];\n\t\tconst tagItems = [];\n\t\tthis.#params.forEach((paramCode: string) => {\n\t\t\tpreselectedItems.push(['biconnector-superset-params', paramCode]);\n\t\t\tconst itemTitle = this.#getParamTitle(paramCode);\n\t\t\ttagItems.push({\n\t\t\t\tid: paramCode,\n\t\t\t\tentityId: 'biconnector-superset-params',\n\t\t\t\ttitle: itemTitle.title,\n\t\t\t\tsupertitle: itemTitle.supertitle,\n\t\t\t});\n\t\t});\n\n\t\tconst paramSelector: TagSelector = new TagSelector({\n\t\t\tid: 'biconnector-superset-params',\n\t\t\tmultiple: true,\n\t\t\titems: tagItems,\n\t\t\tdialogOptions: {\n\t\t\t\tid: 'biconnector-superset-params',\n\t\t\t\tcontext: 'biconnector-superset-params',\n\t\t\t\tenableSearch: false,\n\t\t\t\tdropdownMode: true,\n\t\t\t\tshowAvatars: false,\n\t\t\t\tcompactView: false,\n\t\t\t\tdynamicLoad: true,\n\t\t\t\titems,\n\t\t\t\tpreselectedItems,\n\t\t\t\twidth: 383,\n\t\t\t\theight: 419,\n\t\t\t\tentities: [{\n\t\t\t\t\tid: 'biconnector-superset-params',\n\t\t\t\t}],\n\t\t\t\ttabs: [{\n\t\t\t\t\tid: 'params',\n\t\t\t\t\ttitle: 'params',\n\t\t\t\t}],\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonBeforeTagAdd: (event: BaseEvent) => {\n\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\tthis.#params.add(tag.getId());\n\t\t\t\t\tthis.#onChange();\n\t\t\t\t},\n\t\t\t\tonBeforeTagRemove: (event: BaseEvent) => {\n\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\tthis.#params.delete(tag.getId());\n\t\t\t\t\tthis.#onChange();\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tDom.addClass(paramSelector.getDialog().getContainer(), 'biconnector-settings-entity-selector');\n\t\tDom.clean(document.querySelector('.dashboard-params-params-selector'));\n\t\tparamSelector.renderTo(document.querySelector('.dashboard-params-params-selector'));\n\n\t\tthis.#paramsSelector = paramSelector;\n\n\t\tEventEmitter.emit('BIConnector.DashboardParamsSelector:initCompleted');\n\t}\n\n\t#onScopeSelect(scopeItem: Item): void\n\t{\n\t\tconst params: Parameter[] = this.#scopeParamsMap[scopeItem.getId()] ?? [];\n\t\tparams.forEach((param: Parameter) => {\n\t\t\tconst item: ?Item = this.#paramsSelector.getDialog().getItem(['biconnector-superset-params', param.code]);\n\t\t\tif (item)\n\t\t\t{\n\t\t\t\titem.select(true);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.#paramsSelector.getDialog().addItem({\n\t\t\t\t\tid: param.code,\n\t\t\t\t\ttitle: param.title,\n\t\t\t\t\tentityId: 'biconnector-superset-params',\n\t\t\t\t\tsupertitle: this.#getParamTitle(param.code).supertitle,\n\t\t\t\t\ttabs: 'params',\n\t\t\t\t\tselected: true,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t#onScopeRemove(scopeCode: string): void\n\t{\n\t\tconst params: Parameter[] = this.#scopeParamsMap[scopeCode] ?? [];\n\t\tconst dialogItems: Item[] = this.#paramsSelector.getDialog().getItems();\n\t\tparams.forEach((param: Parameter) => {\n\t\t\tdialogItems.forEach((item: Item) => {\n\t\t\t\tif (item.getId() === param.code)\n\t\t\t\t{\n\t\t\t\t\titem.deselect();\n\t\t\t\t\tthis.#paramsSelector.getDialog().removeItem(item);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t#getParamTitle(paramCode: string): { title: string, supertitle: string }\n\t{\n\t\tlet paramTitle: string = paramCode;\n\t\tconst paramScopes: Set<string> = new Set();\n\n\t\tthis.#scopeParamsMap.global.forEach((mapParam: Parameter) => {\n\t\t\tif (paramCode === mapParam.code)\n\t\t\t{\n\t\t\t\tparamTitle = mapParam.title;\n\t\t\t\tparamScopes.add('global');\n\t\t\t}\n\t\t});\n\n\t\tObject.keys(this.#scopeParamsMap).forEach((scopeCode: string) => {\n\t\t\t(this.#scopeParamsMap[scopeCode] ?? []).forEach((mapParam) => {\n\t\t\t\tif (paramCode === mapParam.code)\n\t\t\t\t{\n\t\t\t\t\tparamTitle = mapParam.title;\n\t\t\t\t\tif (!paramScopes.has('global'))\n\t\t\t\t\t{\n\t\t\t\t\t\tparamScopes.add(scopeCode);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tconst scopeNames = [];\n\t\tthis.#scopeSelector.getDialog().getItems().forEach((scopeItem: Item) => {\n\t\t\tif (paramScopes.has(scopeItem.getId()))\n\t\t\t{\n\t\t\t\tscopeNames.push(scopeItem.getTitle());\n\t\t\t}\n\t\t});\n\n\t\tif (paramScopes.has('global'))\n\t\t{\n\t\t\tscopeNames.push(Loc.getMessage('DASHBOARD_PARAMS_SELECTOR_PARAMS_GLOBAL'));\n\t\t}\n\n\t\treturn {\n\t\t\ttitle: paramTitle,\n\t\t\tsupertitle: scopeNames.join(', '),\n\t\t};\n\t}\n\n\t#onChange(): void\n\t{\n\t\tconst isGroupsChanged: boolean =\n\t\t\tthis.#groups.size !== this.#initialGroups.size\n\t\t\t|| [...this.#groups].some((groupId: number) => !this.#initialGroups.has(groupId))\n\t\t;\n\n\t\tconst isScopeChanged: boolean =\n\t\t\tthis.#scopes.size !== this.#initialScopes.size\n\t\t\t|| [...this.#scopes].some((scopeCode: string) => !this.#initialScopes.has(scopeCode))\n\t\t;\n\n\t\tconst isParamsChanged: boolean =\n\t\t\tthis.#params.size !== this.#initialParams.size\n\t\t\t|| [...this.#params].some((paramCode: string) => !this.#initialParams.has(paramCode))\n\t\t;\n\n\t\tconst isChanged: boolean = isScopeChanged || isParamsChanged || isGroupsChanged;\n\n\t\tEventEmitter.emit('BIConnector.DashboardParamsSelector:onChange', { isChanged });\n\t}\n\n\t#openParamListSlider(): void\n\t{\n\t\tconst componentLink = '/bitrix/components/bitrix/biconnector.apachesuperset.dashboard.url.parameter.list/slider.php';\n\t\tconst sliderLink = new Uri(componentLink);\n\n\t\tBX.SidePanel.Instance.open(\n\t\t\tsliderLink.toString(),\n\t\t\t{\n\t\t\t\twidth: 600,\n\t\t\t\tallowChangeHistory: false,\n\t\t\t},\n\t\t);\n\t}\n}\n"],"names":["DashboardParametersSelector","params","babelHelpers","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","writable","value","groups","Set","scopes","scopeParamsMap","key","this","paramsHintText","Loc","getMessage","[link]","[/link]","container","Tag","render","BX","UI","Hint","init","_classPrivateMethodGet","renderTo","querySelector","TagSelector","locked","Event","bind","groupIds","_step","groupId","groupItem","getDialog","getItem","id","entityId","select","_iterator","preselectedItems","forEach","push","groupSelector","multiple","dialogOptions","context","enableSearch","dropdownMode","showAvatars","compactView","dynamicLoad","preload","width","height","entities","options","events","onLoad","_this","Item:onSelect","event","item","getData","add","getId","_step2","getCustomData","get","groupScopeCode","scopeItem","setDeselectable","scopeTag","getTag","_iterator2","Item:onDeselect","_step3","deselect","_iterator3","Dom","addClass","getContainer","_step4","groupItems","getSelectedItems","groupScopes","_step5","groupScope","_iterator5","_iterator4","undeselectedItems","hasSelectedAutomatedSolutions","scopeCode","startsWith","has","scopeSelector","itemNode","getTarget","_event$getTarget","getItems","find","getNodes","_automatedSolutionIte","values","_automatedSolutionIte2","next","_automatedSolutionIte3","setOpen","_this2","onBeforeTagAdd","tag","onBeforeTagRemove","onAfterTagRemove","clean","document","items","param","itemTitle","_this3","code","title","supertitle","tabs","textColor","global","tagItems","paramCode","paramSelector","EventEmitter","emit","_this4","addItem","selected","_this5","dialogItems","removeItem","paramTitle","paramScopes","mapParam","Object","keys","scopeNames","getTitle","join","isGroupsChanged","size","some","isScopeChanged","isParamsChanged","isChanged","sliderLink","Uri","SidePanel","Instance","open","toString","allowChangeHistory"],"mappings":"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"}