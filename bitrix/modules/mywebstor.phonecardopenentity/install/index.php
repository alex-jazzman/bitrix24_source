<? $GLOBALS['____373639664']= array(base64_decode(''.'ZGVm'.'aW5l'),base64_decode('c'.'3'.'RycmV'.'2'),base64_decode('c3R'.'ydG91cHBl'.'c'.'g='.'='),base64_decode('aXN'.'fYXJyYXk='),base64_decode(''.'YX'.'JyY'.'Xlfa2V5X'.'2V4aXN0'.'cw=='),base64_decode('YXJ'.'yY'.'Xlfa2V5X2'.'V'.'4aXN0c'.'w=='));if(!function_exists(__NAMESPACE__.'\\___2030947561')){function ___2030947561($_1032365621){static $_1752228098= false; if($_1752228098 == false) $_1752228098=array('bXl3Z'.'WJzdG9yX'.'3Bob25lY'.'2'.'FyZG9w'.'ZW'.'5lbnRpdHlf','b21lZA==','WQ'.'='.'=',''.'UEh'.'P'.'TkVDQV'.'JE'.'T'.'1BFTkVO'.'VEl'.'UWV9'.'NT'.'0RVTEV'.'fTkFN'.'RQ==','UE'.'h'.'PT'.'k'.'VDQVJET1'.'BFTkVOVElU'.'WV9NT0R'.'VTEV'.'fREVTQ1'.'J'.'JU'.'FR'.'JT04=','UEh'.'PT'.'kVDQVJET1BFTkV'.'OV'.'ElU'.'WV9QQV'.'JU'.'TkVS'.'X05BTU'.'U=',''.'UE'.'hPTk'.'VDQVJET1B'.'F'.'TkVOV'.'ElUW'.'V9QQVJUTk'.'VSX1VSS'.'Q==','L3Z'.'lcn'.'Npb24ucGh'.'w','Vk'.'VSU0'.'lPTg'.'==','V'.'kVS'.'U0l'.'P'.'Tl9EQVRF','VkVSU0'.'lPT'.'g==','Vk'.'VSU0lPTl9E'.'QVRF','RlJPTV9N'.'T'.'0RVTEU=','Rl'.'JP'.'TV9FVkVOVA='.'=','VE9f'.'Q'.'0xBU'.'1M=','VE9fRlVOQ1'.'RJT04=','MQ='.'=','RlJPTV9'.'NT'.'0RVTEU=','Rl'.'J'.'PTV9'.'FVkV'.'OVA==','VE9fQ0'.'x'.'B'.'U'.'1M=','VE9f'.'Rl'.'VOQ1RJ'.'T04=','L2JpdHJpeC9'.'qc'.'y9t'.'eXd'.'lY'.'nN0b3IvcGhvbmVjYXJk'.'b3Bl'.'b'.'mVudGl0e'.'S'.'8=');return base64_decode($_1752228098[$_1032365621]);}};@$GLOBALS['____373639664'][0](___2030947561(0).$GLOBALS['____373639664'][1]($GLOBALS['____373639664'][2](___2030947561(1))), ___2030947561(2)); use Bitrix\Main\Localization\Loc; use Bitrix\Main\EventManager; Loc::loadMessages(__FILE__); class mywebstor_phonecardopenentity extends CModule{ public $MODULE_ID= "mywebstor.phonecardopenentity"; public $_300080683= ""; static $_465533792= array( array( "FROM_MODULE" => "main", "FROM_EVENT" => "OnEpilog", "TO_CLASS" => "MyWebstor\\PhoneCardOpenEntity\\Events", "TO_FUNCTION" => "addPhoneCallsMod", "VERSION" => "1",)); public function __construct(){ $this->MODULE_GROUP_RIGHTS= "N"; $this->MODULE_NAME= Loc::getMessage(___2030947561(3)); $this->MODULE_DESCRIPTION= Loc::getMessage(___2030947561(4)); $this->PARTNER_NAME= Loc::getMessage(___2030947561(5)); $this->PARTNER_URI= Loc::getMessage(___2030947561(6)); $arModuleVersion= array(); include __DIR__. ___2030947561(7); if( $GLOBALS['____373639664'][3]($arModuleVersion) && $GLOBALS['____373639664'][4](___2030947561(8), $arModuleVersion) && $GLOBALS['____373639664'][5](___2030947561(9), $arModuleVersion)){ $this->MODULE_VERSION= $arModuleVersion[___2030947561(10)]; $this->MODULE_VERSION_DATE= $arModuleVersion[___2030947561(11)];}} public function DoInstall(){ $this->InstallDB(); $this->InstallFiles(); $this->InstallEvents(); \Bitrix\Main\ModuleManager::registerModule($this->MODULE_ID); return true;} public function DoUninstall(){ $this->UnInstallDB(); $this->UnInstallFiles(); $this->UnInstallEvents(); \Bitrix\Main\ModuleManager::unRegisterModule($this->MODULE_ID); return true;} public function InstallEvents(){ $_615017675= EventManager::getInstance(); foreach(static::$_465533792 as $_326288915) switch($_326288915["VERSION"]){ case "2": $_615017675->registerEventHandler($_326288915[___2030947561(12)], $_326288915[___2030947561(13)], $this->MODULE_ID, $_326288915[___2030947561(14)], $_326288915[___2030947561(15)]); break; case ___2030947561(16): default: $_615017675->registerEventHandlerCompatible($_326288915[___2030947561(17)], $_326288915[___2030947561(18)], $this->MODULE_ID, $_326288915[___2030947561(19)], $_326288915[___2030947561(20)]); break;} return true;} public function UnInstallEvents(){ $_615017675= EventManager::getInstance(); foreach(static::$_465533792 as $_326288915) $_615017675->unRegisterEventHandler($_326288915["FROM_MODULE"], $_326288915["FROM_EVENT"], $this->MODULE_ID, $_326288915["TO_CLASS"], $_326288915["TO_FUNCTION"]); return true;} public function InstallFiles(){ CopyDirFiles(__DIR__. "/js", \Bitrix\Main\Application::getDocumentRoot(). "/bitrix/js/", true, true); return true;} public function UnInstallFiles(){ $_1754130749= new \Bitrix\Main\IO\Directory(__DIR__. "/js/mywebstor/phonecardopenentity"); foreach($_1754130749->getChildren() as $_2071786520){ if(!($_2071786520 instanceof \Bitrix\Main\IO\Directory)) continue; \Bitrix\Main\IO\Directory::deleteDirectory( \Bitrix\Main\Application::getDocumentRoot(). ___2030947561(21). $_2071786520->getName());} return true;}}?>