this.BX=this.BX||{};(function(e,t,a,i){"use strict";var s;function r(e,t){n(e,t);t.add(e)}function l(e,t,a){n(e,t);t.set(e,a)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t,a){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return a}var c=Object.freeze({Closed:"CLOSED",Opened:"OPENED",Paused:"PAUSED",Expired:"EXPIRED"});var b=Object.freeze({Start:"start",Pause:"pause",Continue:"continue",Reopen:"relaunch",Stop:"stop"});var d=new WeakMap;var p=new WeakMap;var u=new WeakSet;var h=new WeakSet;var v=new WeakSet;var f=new WeakSet;var H=new WeakSet;var m=new WeakSet;var P=function(e){babelHelpers.inherits(a,e);function a(e){var t;babelHelpers.classCallCheck(this,a);t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).call(this));r(babelHelpers.assertThisInitialized(t),m);r(babelHelpers.assertThisInitialized(t),H);r(babelHelpers.assertThisInitialized(t),f);r(babelHelpers.assertThisInitialized(t),v);r(babelHelpers.assertThisInitialized(t),h);r(babelHelpers.assertThisInitialized(t),u);l(babelHelpers.assertThisInitialized(t),d,{writable:true,value:void 0});l(babelHelpers.assertThisInitialized(t),p,{writable:true,value:void 0});t.setEventNamespace("BX.Timeman.WorkTimeStateIcon");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),d,e);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(t),p,{});o(babelHelpers.assertThisInitialized(t),u,T).call(babelHelpers.assertThisInitialized(t));return t}babelHelpers.createClass(a,[{key:"renderTo",value:function e(a){if(t.Type.isDomNode(a)){t.Dom.append(this.render(),a)}}},{key:"render",value:function e(){var a=o(this,H,I).call(this);var i=o(this,m,z).call(this);var r=t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div ref="node" class="work-time-state" style="','">\n\t\t\t\t<div ref="icon" class="work-time-state-icon ','"></div>\n\t\t\t</div>\n\t\t'])),i,a),l=r.node,n=r.icon;babelHelpers.classPrivateFieldGet(this,p).node=l;babelHelpers.classPrivateFieldGet(this,p).iconNode=n;return l}}]);return a}(i.EventEmitter);function T(){var e=this;a.PULL.subscribe({moduleId:"timeman",callback:function t(a){return o(e,h,w).call(e,a)}})}function w(e){if(!o(this,v,k).call(this,e.command)){return}babelHelpers.classPrivateFieldGet(this,d).state=e.params.info.state;babelHelpers.classPrivateFieldGet(this,d).action=e.params.info.action;this.emit("onUpdateState",babelHelpers.classPrivateFieldGet(this,d));o(this,f,E).call(this)}function k(e){return Object.values(b).includes(e)}function E(){if(babelHelpers.classPrivateFieldGet(this,p).node===null){return}var e=o(this,H,I).call(this);var a=o(this,m,z).call(this);babelHelpers.classPrivateFieldGet(this,p).iconNode.className="work-time-state-icon";if(e){t.Dom.addClass(babelHelpers.classPrivateFieldGet(this,p).iconNode,e)}t.Dom.style(babelHelpers.classPrivateFieldGet(this,p).node,a)}function I(){var e=babelHelpers.classPrivateFieldGet(this,d),t=e.state,a=e.action;if(t===c.Opened){return""}if(t===c.Closed&&a==="OPEN"){return"--start"}if(t===c.Paused){return"--pause"}if(t===c.Closed&&a==="REOPEN"){return"--check"}if(t===c.Expired){return"--warn"}return""}function z(){var e=babelHelpers.classPrivateFieldGet(this,d),t=e.state;if(t===c.Opened){return"display: none"}return null}e.WorkTimeStateIcon=P})(this.BX.Timeman=this.BX.Timeman||{},BX,BX,BX.Event);
//# sourceMappingURL=work-time-state-icon.bundle.map.js