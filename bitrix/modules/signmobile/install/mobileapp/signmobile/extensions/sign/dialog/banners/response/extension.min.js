jn.define("sign/dialog/banners/response",((e,t,n)=>{const{Loc:s}=e("loc");const{ButtonSize:o,ButtonDesign:i,Button:a}=e("ui-system/form/buttons/button");const{BannerTemplate:d}=e("sign/dialog/banners/template");const{SignOpener:r}=e("sign/opener");const{Indent:c,Color:l}=e("tokens");const{confirmationAccept:g,confirmationPostpone:h}=e("sign/connector");const{Processing:u}=e("sign/dialog/banners/processing");const{SignedByAssignee:m}=e("sign/dialog/banners/signedbyassignee");const{NotifyManager:I}=e("notify-manager");const{BBCodeParser:y}=e("bbcode/parser");const L=new y;const T="assignee";class O extends LayoutComponent{constructor(e){super(e);const{layoutWidget:t,documentTitle:n,memberId:s,role:o,initiatedByType:i}=e;this.documentTitle=n;this.memberId=s;this.layoutWidget=t;this.role=o;this.initiatedByType=i}componentDidMount(){this.layoutWidget.setListener((e=>{if(e==="onViewHidden"||e==="onViewRemoved"){r.clearCacheSomeBannerIsAlreadyOpen()}}))}closeLayout(e={}){r.clearCacheSomeBannerIsAlreadyOpen();this.layoutWidget.close(e)}render(){return d({iconPathName:"response.svg",title:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_TITLE"),description:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_DESCRIPTION",{"#DOCUMENT_TITLE#":L.parse(this.documentTitle).toPlainText(),"#COLOR_OF_HIGHLIGHTED_TEXT#":l.base1.toHex()}),buttonsView:View({},a({testId:"responseBanner-button-confirm",text:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_BUTTON_CONFIRM"),size:o.XL,design:i.FILLED,disabled:false,badge:false,stretched:true,onClick:()=>{I.showLoadingIndicator();g(this.memberId).then((()=>{I.hideLoadingIndicatorWithoutFallback();if(this.role===T){this.layoutWidget.showComponent(new m({layoutWidget:this.layoutWidget,documentTitle:this.documentTitle,initiatedByType:this.initiatedByType}))}else{this.layoutWidget.showComponent(new u({layoutWidget:this.layoutWidget,documentTitle:this.documentTitle,memberId:this.memberId,initiatedByType:this.initiatedByType}))}})).catch((()=>{I.showErrors([{message:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_DOCUMENT_UNKNOWN_ERROR_TEXT")}])}))},style:{marginBottom:c.L.toNumber()}}),a({testId:"responseBanner-button-close",text:s.getMessage("SIGN_MOBILE_DIALOG_RESPONSE_BUTTON_CLOSE"),size:o.XL,design:i.PLAN_ACCENT,disabled:false,badge:false,stretched:true,onClick:()=>{I.showLoadingIndicator();h(this.memberId).then((()=>{I.hideLoadingIndicatorWithoutFallback();this.closeLayout()})).catch((()=>{I.hideLoadingIndicatorWithoutFallback();this.closeLayout()}))}}))})}}n.exports={Response:O}}));
//# sourceMappingURL=extension.map.js