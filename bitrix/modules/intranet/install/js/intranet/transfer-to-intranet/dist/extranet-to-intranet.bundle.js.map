{"version":3,"file":"extranet-to-intranet.bundle.js","sources":["../src/step/processing-step.js","../src/step/result-step.js","../src/step/start-step.js","../src/extranet-to-intranet.js"],"sourcesContent":["import { Loc, Tag } from 'main.core';\nimport { AvatarRound, AvatarRoundExtranet, AvatarRoundGuest, AvatarBase } from 'ui.avatar';\nimport { ExtranetToIntranet } from '../extranet-to-intranet';\nimport type { ExtranetToIntranetType } from '../extranet-to-intranet';\nimport { EventEmitter } from 'main.core.events';\n\nexport class ProcessingStep\n{\n\t#options: ExtranetToIntranetType;\n\t#content: HTMLElement;\n\t#departmentIds: Array;\n\t#parent: ExtranetToIntranet;\n\n\tconstructor(options: ExtranetToIntranetType, departmentIds, parent: ExtranetToIntranet)\n\t{\n\t\tthis.#options = options;\n\t\tthis.#departmentIds = departmentIds;\n\t\tthis.#parent = parent;\n\t}\n\n\tsend(): void\n\t{\n\t\tconst start = Date.now();\n\n\t\tconst data = {\n\t\t\tdepartmentId: this.#departmentIds,\n\t\t\tisEmail: 'N',\n\t\t};\n\n\t\tBX.ajax.runComponentAction(this.#options.componentName, 'moveToIntranet', {\n\t\t\tsignedParameters: this.#options.signedParameters,\n\t\t\tmode: 'ajax',\n\t\t\tdata,\n\t\t}).then((response) => {\n\t\t\tconst time = (Date.now() - start);\n\t\t\tconst delay = 0;\n\t\t\tif (time <= 2500)\n\t\t\t{\n\t\t\t\tdelay = 2500 - time;\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.#parent.emit('changestate', {\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\tresponse,\n\t\t\t\t});\n\t\t\t}, delay);\n\t\t}, (response) => {\n\t\t\tthis.#parent.emit('changestate', {\n\t\t\t\tsuccess: false,\n\t\t\t\tresponse,\n\t\t\t});\n\t\t});\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tif (!this.#content)\n\t\t{\n\t\t\tthis.#content = this.#renderBlock();\n\t\t}\n\n\t\treturn this.#content;\n\t}\n\n\t#renderBlock(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"transfer-processing\">\n\t\t\t\t<div class=\"transfer-processing__avatar transfer-processing__avatar-animate\">\n\t\t\t\t\t${this.#getAvatar(this.#options.userType).getContainer()}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"transfer-result__avatar-bg\">\n\t\t\t\t\t${this.#getAvatar().getContainer()}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"transfer-processing__content\">\n\t\t\t\t\t<div class=\"transfer-processing__title\">\n\t\t\t\t\t\t${Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_PROCESSING_TITLE')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"transfer-processing__description\">\n\t\t\t\t\t\t${Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_PROCESSING_DESCRIPTION')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#getAvatar(userType: string = null): AvatarBase\n\t{\n\t\tconst options = {\n\t\t\tsize: userType === null ? 85 : 102,\n\t\t\tuserpicPath: this.#options.userPhoto,\n\t\t};\n\t\tlet avatar = null;\n\n\t\tswitch (userType)\n\t\t{\n\t\t\tcase 'extranet':\n\t\t\t\tavatar = new AvatarRoundExtranet(options);\n\t\t\t\tbreak;\n\t\t\tcase 'collaber':\n\t\t\t\tavatar = new AvatarRoundGuest(options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tavatar = new AvatarRound(options);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn avatar;\n\t}\n}\n","import { Browser, Loc, Tag, Dom } from 'main.core';\nimport { Button } from 'ui.buttons';\nimport { EventEmitter } from 'main.core.events';\nimport { AvatarRound, AvatarRoundExtranet, AvatarRoundGuest, AvatarBase } from 'ui.avatar';\nimport { ExtranetToIntranet } from '../extranet-to-intranet';\nimport type { ExtranetToIntranetType } from '../extranet-to-intranet';\nimport { Confetti } from 'ui.confetti';\n\nexport class ResultStep\n{\n\t#options: ExtranetToIntranetType;\n\t#content: HTMLElement;\n\t#isSuccess: boolean;\n\t#parent: ExtranetToIntranet;\n\n\tconstructor(options: ExtranetToIntranetType, isSuccess: boolean, parent: ExtranetToIntranet)\n\t{\n\t\tthis.#options = options;\n\t\tthis.#isSuccess = isSuccess;\n\t\tthis.#parent = parent;\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tif (!this.#content)\n\t\t{\n\t\t\tthis.#content = this.#renderBlock();\n\t\t}\n\t\tthis.#setAnimation();\n\n\t\treturn this.#content;\n\t}\n\n\t#setAnimation(): void\n\t{\n\t\tif (!this.#isSuccess)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst container = this.#content.querySelector('.transfer-result__img');\n\t\tif (container.classList.contains('transfer-result__animation'))\n\t\t{\n\t\t\tcontainer.classList.remove('transfer-result__animation');\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tcontainer.classList.add('transfer-result__animation');\n\t\t}, 500);\n\n\t\tsetTimeout(() => {\n\t\t\tthis.#setConfetti();\n\t\t}, 2000);\n\t}\n\n\t#setConfetti(): void\n\t{\n\t\tif (Browser.isFirefox())\n\t\t{\n\t\t\tconst canvas = Tag.render`\n\t\t\t\t<canvas></canvas>\n\t\t\t`;\n\t\t\tDom.style(canvas, 'position', 'fixed');\n\t\t\tDom.style(canvas, 'top', '0px');\n\t\t\tDom.style(canvas, 'left', '0px');\n\t\t\tDom.style(canvas, 'pointer-events', 'none');\n\t\t\tDom.style(canvas, 'z-index', '11111');\n\t\t\tDom.style(canvas, 'width', '100%');\n\t\t\tDom.style(canvas, 'height', '100%');\n\t\t\tDom.append(canvas, document.body);\n\t\t\tconst confetti = Confetti.create(canvas, {\n\t\t\t\tresize: true,\n\t\t\t\tuseWorker: true,\n\t\t\t});\n\t\t\tconfetti({\n\t\t\t\tparticleCount: 250,\n\t\t\t\torigin: { y: 0.5, x: 0.33 },\n\t\t\t\tspread: 100,\n\t\t\t});\n\t\t\tconfetti({\n\t\t\t\tparticleCount: 250,\n\t\t\t\torigin: { y: 0.5, x: 0.66 },\n\t\t\t\tspread: 100,\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tConfetti.fire({\n\t\t\t\tparticleCount: 250,\n\t\t\t\tspread: 100,\n\t\t\t\torigin: { y: 0.5, x: 0.33 },\n\t\t\t\tzIndex: 111_111,\n\t\t\t});\n\t\t\tConfetti.fire({\n\t\t\t\tparticleCount: 250,\n\t\t\t\tspread: 100,\n\t\t\t\torigin: { y: 0.5, x: 0.66 },\n\t\t\t\tzIndex: 111_111,\n\t\t\t});\n\t\t}\n\t}\n\n\t#renderBlock(): HTMLElement\n\t{\n\t\tconst title = this.#isSuccess\n\t\t\t? Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_RESULT_TITLE')\n\t\t\t: Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_RESULT_TITLE_ERROR');\n\n\t\tconst description = this.#isSuccess\n\t\t\t? Loc.getMessage(\n\t\t\t\t'INTRANET_EXTRANET_TO_INTRANET_POPUP_RESULT_DESCRIPTION',\n\t\t\t\t{\n\t\t\t\t\t'[USER_NAME]': `<b>${this.#options.userName}</b>`,\n\t\t\t\t},\n\t\t\t)\n\t\t\t: Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_RESULT_DESCRIPTION_ERROR');\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"transfer-result\">\n\t\t\t\t${this.#getImageBlock()}\n\t\t\t\t<div class=\"transfer-result__content\">\n\t\t\t\t\t<div class=\"transfer-result__title\">\n\t\t\t\t\t\t${title}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"transfer-result__description\">\n\t\t\t\t\t\t${description}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"transfer-result__action\">\n\t\t\t\t\t${this.#getCloseButton()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#getImageBlock(): HTMLElement\n\t{\n\t\tif (this.#isSuccess)\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"transfer-result__img\">\n\t\t\t\t\t<div class=\"transfer-result__img-check-sign check-sign-part1\"></div>\n\t\t\t\t\t<div class=\"transfer-result__img-check-sign check-sign-part2\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"transfer-result__avatar-result\">\n\t\t\t\t\t${this.#getAvatar().getContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\t}\n\n\t#getAvatar(): AvatarBase\n\t{\n\t\tconst options = {\n\t\t\tsize: 102,\n\t\t\tuserpicPath: this.#options.userPhoto,\n\t\t};\n\t\tlet avatar = null;\n\n\t\tswitch (this.#options.userType)\n\t\t{\n\t\t\tcase 'extranet':\n\t\t\t\tavatar = new AvatarRoundExtranet(options);\n\t\t\t\tbreak;\n\t\t\tcase 'collaber':\n\t\t\t\tavatar = new AvatarRoundGuest(options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tavatar = new AvatarRound(options);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn avatar;\n\t}\n\n\t#getCloseButton(): HTMLElement\n\t{\n\t\treturn new Button({\n\t\t\tclassName: 'transfer-result__action-close',\n\t\t\ttext: Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_RESULT_CLOSE'),\n\t\t\tsize: Button.Size.LARGE,\n\t\t\tstyle: '--style-filled',\n\t\t\tuseAirDesign: true,\n\t\t\tnoCaps: true,\n\t\t\tisDependOnTheme: true,\n\t\t\tonclick: () => {\n\t\t\t\tthis.#parent.emit('changestate');\n\t\t\t},\n\t\t}).render();\n\t}\n}\n","import { Type, Loc, Tag } from 'main.core';\nimport { AirButtonStyle, Button } from 'ui.buttons';\nimport DepartmentControl from 'intranet.department-control';\nimport { AvatarRound, AvatarRoundExtranet, AvatarRoundGuest, AvatarBase } from 'ui.avatar';\nimport { ExtranetToIntranet } from '../extranet-to-intranet';\nimport type { ExtranetToIntranetType } from '../extranet-to-intranet';\n\nexport class StartStep\n{\n\t#options: ExtranetToIntranetType;\n\t#content: HTMLElement;\n\t#department: DepartmentControl;\n\t#parent: ExtranetToIntranet;\n\n\tconstructor(options: ExtranetToIntranetType, parent: ExtranetToIntranet)\n\t{\n\t\tthis.#options = options;\n\t\tthis.#parent = parent;\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tif (!this.#content)\n\t\t{\n\t\t\tthis.#content = this.#renderBlock();\n\t\t}\n\n\t\treturn this.#content;\n\t}\n\n\t#renderBlock(): HTMLElement\n\t{\n\t\tconst isCollaber = this.#options.userType === 'collaber';\n\t\tconst modificator = isCollaber ? 'collaber' : 'extranet';\n\t\tconst position = isCollaber\n\t\t\t? Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_POSITION_COLLABER')\n\t\t\t: Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_POSITION_EXTRANET');\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"transfer-start\">\n\t\t\t\t<div class=\"transfer-start__title\">\n\t\t\t\t\t${Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_TITLE')}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"transfer-start__account\">\n\t\t\t\t\t<div class=\"transfer-account transfer-account_${modificator}\">\n\t\t\t\t\t\t<div class=\"transfer-account-avatar\">\n\t\t\t\t\t\t\t${this.#getAvatar().getContainer()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"transfer-account-data\">\n\t\t\t\t\t\t\t<div class=\"account-data__name\">\n\t\t\t\t\t\t\t\t${this.#options.userName}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"account-data__position account-data__position_${modificator}\">\n\t\t\t\t\t\t\t\t${position}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"transfer-start__department\">\n\t\t\t\t\t${this.#getDepartmentControl().render()}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"transfer-start__action\">\n\t\t\t\t\t${this.#getSendButton()}\n\t\t\t\t\t${this.#getCancelButton()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#getAvatar(): AvatarBase\n\t{\n\t\tconst options = {\n\t\t\tsize: 40,\n\t\t\tuserpicPath: this.#options.userPhoto,\n\t\t};\n\t\tlet avatar = null;\n\n\t\tswitch (this.#options.userType)\n\t\t{\n\t\t\tcase 'extranet':\n\t\t\t\tavatar = new AvatarRoundExtranet(options);\n\t\t\t\tbreak;\n\t\t\tcase 'collaber':\n\t\t\t\tavatar = new AvatarRoundGuest(options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tavatar = new AvatarRound(options);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn avatar;\n\t}\n\n\t#getDepartmentControl(): DepartmentControl\n\t{\n\t\tif (!this.#department)\n\t\t{\n\t\t\tconst departmentsId = Type.isArray(this.#options.department?.departmentList)\n\t\t\t\t? this.#options.department.departmentList\n\t\t\t\t: [];\n\t\t\tconst rootDepartment = this.#options.department?.rootDepartment;\n\n\t\t\tthis.#department = new DepartmentControl({\n\t\t\t\tdepartmentList: departmentsId,\n\t\t\t\trootDepartment: Type.isObject(rootDepartment) ? rootDepartment : null,\n\t\t\t});\n\t\t}\n\n\t\treturn this.#department;\n\t}\n\n\t#getSendButton(): HTMLElement\n\t{\n\t\treturn new Button({\n\n\t\t\tclassName: 'transfer-start__action-send',\n\t\t\ttext: Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_TRANSFER'),\n\t\t\tsize: Button.Size.LARGE,\n\t\t\tstyle: '--style-filled',\n\t\t\tuseAirDesign: true,\n\t\t\tnoCaps: true,\n\t\t\tisDependOnTheme: true,\n\t\t\tonclick: () => {\n\t\t\t\tthis.#parent.emit('changestate', {\n\t\t\t\t\tdepartmentValues: this.#department.getValues(),\n\t\t\t\t});\n\t\t\t},\n\t\t}).render();\n\t}\n\n\t#getCancelButton(): HTMLElement\n\t{\n\t\treturn new Button({\n\t\t\tuseAirDesign: true,\n\t\t\ttext: Loc.getMessage('INTRANET_EXTRANET_TO_INTRANET_POPUP_CANCEL'),\n\t\t\tsize: Button.Size.LARGE,\n\t\t\tstyle: AirButtonStyle.OUTLINE,\n\t\t\tonclick: () => {\n\t\t\t\tthis.#parent.emit('closepopup');\n\t\t\t},\n\t\t\tnoCaps: true,\n\t\t}).render();\n\t}\n}\n","import { Tag } from 'main.core';\nimport { Popup, PopupManager } from 'main.popup';\nimport { EventEmitter, BaseEvent } from 'main.core.events';\nimport { ProcessingStep } from './step/processing-step';\nimport { ResultStep } from './step/result-step';\nimport { StartStep } from './step/start-step';\nimport { Loader } from 'main.loader';\nimport 'ui.fonts.inter';\nimport './style.css';\n\nexport const PopupState = Object.freeze({\n\tSTART: 'start',\n\tPROCESSING: 'processing',\n\tRESULT: 'result',\n});\n\nexport type DepartmentType = {\n\tid: string,\n\tname: string,\n\taccessCode: string,\n}\n\nexport type ExtranetToIntranetType = {\n\tuserType: string,\n\tuserName: string,\n\tuserPhoto: string,\n\tdepartment: {\n\t\tdepartmentList: Array<DepartmentType>,\n\t\trootDepartment: DepartmentType,\n\t},\n\tcomponentName: string,\n\tsignedParameters: string,\n}\n\nexport class ExtranetToIntranet extends EventEmitter\n{\n\t#popup: Popup = null;\n\t#popupState: PopupState;\n\t#startStep: StartStep;\n\t#processingStep: ProcessingStep;\n\t#resultStep: ResultStep;\n\t#options: ExtranetToIntranetType;\n\t#departmentIds: Array;\n\t#success: boolean;\n\t#loader: ?Loader = null;\n\t#loaded: boolean = false;\n\n\tconstructor(options: ExtranetToIntranetType)\n\t{\n\t\tsuper();\n\n\t\tthis.setEventNamespace('BX.Intranet.ExtranetToIntranet');\n\t\tthis.#popupState = PopupState.START;\n\t\tthis.#options = options;\n\n\t\tthis.subscribe('closePopup', this.#onClosePopup.bind(this));\n\t\tthis.subscribe('changeState', this.#onChangeState.bind(this));\n\n\t\tthis.#loadData();\n\t}\n\n\t#onClosePopup(): void\n\t{\n\t\tthis.#clearPopupData();\n\t\tthis.#popup.destroy();\n\t}\n\n\t#clearPopupData(): void\n\t{\n\t\tthis.#startStep = null;\n\t\tthis.#processingStep = null;\n\t\tthis.#resultStep = null;\n\t\tthis.unsubscribe('closePopup', this.#onClosePopup.bind(this));\n\t\tthis.unsubscribe('changeState', this.#onChangeState.bind(this));\n\t}\n\n\tdestroy(): void\n\t{\n\t\tthis.#popup.destroy();\n\t\tthis.#clearPopupData();\n\t}\n\n\t#onChangeState(event: BaseEvent): void\n\t{\n\t\tlet height = 357;\n\t\tswitch (this.#popupState)\n\t\t{\n\t\t\tcase PopupState.START:\n\t\t\t\theight = 245;\n\t\t\t\tif ('departmentValues' in event.getData())\n\t\t\t\t{\n\t\t\t\t\tthis.#departmentIds = event.getData().departmentValues;\n\t\t\t\t}\n\t\t\t\tthis.#popupState = PopupState.PROCESSING;\n\t\t\t\tbreak;\n\t\t\tcase PopupState.PROCESSING:\n\t\t\t\theight = 307;\n\t\t\t\tthis.#popupState = PopupState.RESULT;\n\t\t\t\tif (event.getData()?.success)\n\t\t\t\t{\n\t\t\t\t\tthis.#success = event.getData().success;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase PopupState.RESULT:\n\t\t\t\tthis.#popupState = PopupState.START;\n\t\t\t\tthis.#onClosePopup();\n\t\t\t\tif (this.#success)\n\t\t\t\t{\n\t\t\t\t\tlocation.reload();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Popup state is not defined');\n\t\t}\n\n\t\tif (this.#popupState !== PopupState.START)\n\t\t{\n\t\t\tthis.#popup.setHeight(height);\n\t\t\tthis.#popup.setContent(this.#getPopupContent());\n\t\t}\n\t}\n\n\tshow(): void\n\t{\n\t\tthis.#popup = this.#createPopup();\n\t\tthis.#popup.show();\n\t}\n\n\t#loadData(): void\n\t{\n\t\tBX.ajax.runComponentAction(this.#options.componentName, 'getDapartmentData', {\n\t\t\tsignedParameters: this.#options.signedParameters,\n\t\t\tmode: 'ajax',\n\t\t}).then((response) => {\n\t\t\tthis.#loaded = true;\n\t\t\tthis.#removeLoader();\n\t\t\tif (response && response.data)\n\t\t\t{\n\t\t\t\tthis.#options.department = response.data;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t}, (response) => {\n\t\t\tthis.#removeLoader();\n\t\t});\n\t}\n\n\t#createPopup(): Popup\n\t{\n\t\tconst popup = PopupManager.create({\n\t\t\tid: 'extranet-to-intranet-popup',\n\t\t\tclassName: 'extranet-to-intranet-container',\n\t\t\tcloseIcon: true,\n\t\t\tautoHide: false,\n\t\t\tcloseByEsc: true,\n\t\t\tpadding: 0,\n\t\t\twidth: 542,\n\t\t\theight: 357,\n\t\t\tevents: {\n\t\t\t\tonClose: () => {\n\t\t\t\t\tthis.#onClosePopup();\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tconst content= this.#getPopupContent();\n\t\t!this.#loaded && this.#showLoader(content);\n\t\tpopup.setContent(content);\n\n\t\treturn popup;\n\t}\n\n\t#getPopupContent(): HTMLElement\n\t{\n\t\tlet content = '';\n\t\tif (this.#loaded)\n\t\t{\n\t\t\tswitch (this.#popupState)\n\t\t\t{\n\t\t\t\tcase PopupState.START:\n\t\t\t\t\tcontent = this.#getStartStep().render();\n\t\t\t\t\tbreak;\n\t\t\t\tcase PopupState.PROCESSING:\n\t\t\t\t\tthis.#getProcessingStep().send();\n\t\t\t\t\tcontent = this.#getProcessingStep().render();\n\t\t\t\t\tbreak;\n\t\t\t\tcase PopupState.RESULT:\n\t\t\t\t\tcontent = this.#getResultStep().render();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('Popup state is not defined');\n\t\t\t}\n\t\t}\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"extranet-to-intranet-wrapper\">\n\t\t\t\t${content}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#getStartStep(): StartStep\n\t{\n\t\tif (!this.#startStep)\n\t\t{\n\t\t\tthis.#startStep = new StartStep(this.#options, this);\n\t\t}\n\n\t\treturn this.#startStep;\n\t}\n\n\t#getProcessingStep(): ProcessingStep\n\t{\n\t\tif (!this.#processingStep)\n\t\t{\n\t\t\tthis.#processingStep = new ProcessingStep(this.#options, this.#departmentIds, this);\n\t\t}\n\n\t\treturn this.#processingStep;\n\t}\n\n\t#getResultStep(): ResultStep\n\t{\n\t\tif (!this.#resultStep)\n\t\t{\n\t\t\tthis.#resultStep = new ResultStep(this.#options, this.#success, this);\n\t\t}\n\n\t\treturn this.#resultStep;\n\t}\n\n\t#showLoader(content)\n\t{\n\t\tthis.#loader = new Loader({\n\t\t\ttarget: content,\n\t\t\tcolor: 'rgba(82, 92, 105, 0.9)',\n\t\t});\n\t\tthis\n\t\t\t.#loader\n\t\t\t.show()\n\t\t\t.then(() => {\n\t\t\t\tconsole.log('The loader is shown')\n\t\t\t})\n\t\t;\n\t}\n\n\t#removeLoader()\n\t{\n\t\tif (this.#loader)\n\t\t{\n\t\t\tthis.#loader.destroy();\n\t\t\tthis.#loader = null;\n\t\t}\n\t}\n}\n"],"names":["ProcessingStep","constructor","options","departmentIds","parent","Object","value","writable","babelHelpers","send","start","Date","now","data","departmentId","this","isEmail","BX","ajax","runComponentAction","componentName","signedParameters","mode","then","response","time","delay","setTimeout","emit","success","render","Tag","userType","getContainer","Loc","getMessage","size","userpicPath","userPhoto","avatar","AvatarRoundExtranet","AvatarRoundGuest","AvatarRound","ResultStep","isSuccess","container","querySelector","classList","contains","remove","add","Browser","isFirefox","canvas","Dom","style","append","document","body","confetti","Confetti","create","resize","useWorker","particleCount","origin","y","x","spread","fire","zIndex","title","description","[USER_NAME]","userName","Button","className","text","Size","LARGE","useAirDesign","noCaps","isDependOnTheme","onclick","StartStep","isCollaber","modificator","position","departmentsId","Type","isArray","department","_babelHelpers$classPr","departmentList","rootDepartment","_babelHelpers$classPr2","DepartmentControl","isObject","departmentValues","getValues","AirButtonStyle","OUTLINE","PopupState","freeze","START","PROCESSING","RESULT","ExtranetToIntranet","EventEmitter","super","setEventNamespace","subscribe","bind","destroy","show","unsubscribe","event","height","getData","_event$getData","location","reload","Error","setHeight","setContent","popup","PopupManager","id","closeIcon","autoHide","closeByEsc","padding","width","events","onClose","content","Loader","target","color","console","log"],"mappings":"uHAIgD,uUAEzC,MAAMA,EAOZC,YAAYC,EAAiCC,EAAeC,GAC5DC,8BAAAC,UAAAD,8BAAAC,UAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eACCE,mDAAgBN,EAChBM,mDAAsBL,EACtBK,mDAAeJ,EAGhBK,OAEC,MAAMC,EAAQC,KAAKC,MAEbC,EAAO,CACZC,qDAAcC,WACdC,QAAS,KAGVC,GAAGC,KAAKC,mBAAmBX,mDAAcY,cAAe,iBAAkB,CACzEC,iBAAkBb,mDAAca,iBAChCC,KAAM,OACNT,KAAAA,IACEU,KAAMC,IACR,MAAMC,EAAQd,KAAKC,MAAQF,EACrBgB,EAAQ,EACVD,GAAQ,OAEXC,EAAQ,KAAOD,GAGhBE,WAAW,KACVnB,mDAAaoB,KAAK,cAAe,CAChCC,SAAS,EACTL,SAAAA,KAECE,IACAF,IACHhB,mDAAaoB,KAAK,cAAe,CAChCC,SAAS,EACTL,SAAAA,MAKHM,SAOC,+CALKf,aAEJP,2FAAgBO,sDAGVA,YAgDR,aA3CC,OAAOgB,MAAID,cAAO;;;OAGf;;;OAGA;;;;QAIC;;;QAGA;;;;KAVCtB,mDAAgBA,mDAAcwB,UAAUC,eAGxCzB,qDAAkByB,eAIjBC,MAAIC,WAAW,wDAGfD,MAAIC,WAAW,+DAKrB,WAEUH,EAAmB,MAE7B,MAAM9B,EAAU,CACfkC,KAAmB,OAAbJ,EAAoB,GAAK,IAC/BK,YAAa7B,mDAAc8B,WAE5B,IAAIC,EAAS,KAEb,OAAQP,GAEP,IAAK,WACJO,EAAS,IAAIC,sBAAoBtC,GACjC,MACD,IAAK,WACJqC,EAAS,IAAIE,mBAAiBvC,GAC9B,MACD,QACCqC,EAAS,IAAIG,cAAYxC,GAI3B,OAAOqC,qBCtG8B,yiBAEhC,MAAMI,EAOZ1C,YAAYC,EAAiC0C,EAAoBxC,GACjEC,8BAAAC,UAAAD,8BAAAC,UAAAD,8BAAAC,UAAAD,8BAAAC,UAAAD,8BAAAC,UAAAD,8BAAAC,UAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eACCE,mDAAgBN,EAChBM,mDAAkBoC,EAClBpC,mDAAeJ,EAGhB0B,SAQC,+CANKf,aAEJP,2FAAgBO,cAEjBP,6FAEOO,YAoKR,aA/JC,4CAAKA,WAEJ,OAGD,MAAM8B,EAAYrC,mDAAcsC,cAAc,yBAC1CD,EAAUE,UAAUC,SAAS,+BAEhCH,EAAUE,UAAUE,OAAO,8BAE5BtB,WAAW,KACVkB,EAAUE,UAAUG,IAAI,+BACtB,KAEHvB,WAAW,KACVnB,sDACE,KACH,aAIA,GAAI2C,UAAQC,YACZ,CACC,MAAMC,EAAStB,MAAID,cAAO;;OAG1BwB,MAAIC,MAAMF,EAAQ,WAAY,SAC9BC,MAAIC,MAAMF,EAAQ,MAAO,OACzBC,MAAIC,MAAMF,EAAQ,OAAQ,OAC1BC,MAAIC,MAAMF,EAAQ,iBAAkB,QACpCC,MAAIC,MAAMF,EAAQ,UAAW,SAC7BC,MAAIC,MAAMF,EAAQ,QAAS,QAC3BC,MAAIC,MAAMF,EAAQ,SAAU,QAC5BC,MAAIE,OAAOH,EAAQI,SAASC,MAC5B,MAAMC,EAAWC,WAASC,OAAOR,EAAQ,CACxCS,QAAQ,EACRC,WAAW,IAEZJ,EAAS,CACRK,cAAe,IACfC,OAAQ,CAAEC,EAAG,GAAKC,EAAG,KACrBC,OAAQ,MAETT,EAAS,CACRK,cAAe,IACfC,OAAQ,CAAEC,EAAG,GAAKC,EAAG,KACrBC,OAAQ,WAKTR,WAASS,KAAK,CACbL,cAAe,IACfI,OAAQ,IACRH,OAAQ,CAAEC,EAAG,GAAKC,EAAG,KACrBG,OAAQ,SAETV,WAASS,KAAK,CACbL,cAAe,IACfI,OAAQ,IACRH,OAAQ,CAAEC,EAAG,GAAKC,EAAG,KACrBG,OAAQ,SAGV,aAIA,MAAMC,EAAQ/D,mDACX0B,MAAIC,WAAW,oDACfD,MAAIC,WAAW,0DAEZqC,EAAchE,mDACjB0B,MAAIC,WACL,yDACA,CACCsC,cAAgB,MAAKjE,mDAAckE,iBAGnCxC,MAAIC,WAAW,gEAElB,OAAOJ,MAAID,cAAO;;MAEhB;;;QAGE;;;QAGA;;;;OAID;;;6CAVCf,aAGEwD,EAGAC,0CAIDzD,cAIL,aAIA,+CAAIA,WAEIgB,MAAID,cAAO;;;;;OASXC,MAAID,cAAO;;OAEhB;;MAAEtB,qDAAkByB,gBAIvB,aAIA,MAAM/B,EAAU,CACfkC,KAAM,IACNC,YAAa7B,mDAAc8B,WAE5B,IAAIC,EAAS,KAEb,OAAQ/B,mDAAcwB,UAErB,IAAK,WACJO,EAAS,IAAIC,sBAAoBtC,GACjC,MACD,IAAK,WACJqC,EAAS,IAAIE,mBAAiBvC,GAC9B,MACD,QACCqC,EAAS,IAAIG,cAAYxC,GAI3B,OAAOqC,EACP,aAIA,OAAO,IAAIoC,SAAO,CACjBC,UAAW,gCACXC,KAAM3C,MAAIC,WAAW,oDACrBC,KAAMuC,SAAOG,KAAKC,MAClBxB,MAAO,iBACPyB,cAAc,EACdC,QAAQ,EACRC,iBAAiB,EACjBC,QAAS,KACR3E,mDAAaoB,KAAK,kBAEjBE,sBC5LwD,2fAGtD,MAAMsD,EAOZnF,YAAYC,EAAiCE,GAC7CC,8BAAAC,WAAAD,8BAAAC,WAAAD,8BAAAC,WAAAD,8BAAAC,WAAAD,8BAAAC,WAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eAAAD,8BAAAE,YAAAD,eACCE,mDAAgBN,EAChBM,mDAAeJ,EAGhB0B,SAOC,+CALKf,aAEJP,2FAAgBO,sDAGVA,YAoHR,cA/GC,MAAMsE,EAAwC,aAA3B7E,mDAAcwB,SAC3BsD,EAAcD,EAAa,WAAa,WACxCE,EAAWF,EACdnD,MAAIC,WAAW,yDACfD,MAAIC,WAAW,yDAElB,OAAOJ,MAAID,cAAO;;;OAGf;;;qDAG8C;;SAE5C;;;;UAIC;;mEAEyD;UACzD;;;;;;OAMH;;;OAGA;OACA;;;KAtBEI,MAAIC,WAAW,6CAG+BmD,EAE5C9E,qDAAkByB,eAIjBzB,mDAAckE,SAE2CY,EACzDC,EAMH/E,qDAA6BsB,iDAG7Bf,qDACAA,cAIL,cAIA,MAAMb,EAAU,CACfkC,KAAM,GACNC,YAAa7B,mDAAc8B,WAE5B,IAAIC,EAAS,KAEb,OAAQ/B,mDAAcwB,UAErB,IAAK,WACJO,EAAS,IAAIC,sBAAoBtC,GACjC,MACD,IAAK,WACJqC,EAAS,IAAIE,mBAAiBvC,GAC9B,MACD,QACCqC,EAAS,IAAIG,cAAYxC,GAI3B,OAAOqC,EACP,cAIA,4CAAKxB,WACL,CAAA,QACC,MAAMyE,EAAgBC,OAAKC,iBAAQlF,mDAAcmF,mBAAdC,EAA0BC,gBAC1DrF,mDAAcmF,WAAWE,eACzB,GACGC,WAAiBtF,mDAAcmF,mBAAdI,EAA0BD,eAEjDtF,mDAAmB,IAAIwF,EAAkB,CACxCH,eAAgBL,EAChBM,eAAgBL,OAAKQ,SAASH,GAAkBA,EAAiB,OAInE,+CAAO/E,WACP,cAIA,OAAO,IAAI4D,SAAO,CAEjBC,UAAW,8BACXC,KAAM3C,MAAIC,WAAW,gDACrBC,KAAMuC,SAAOG,KAAKC,MAClBxB,MAAO,iBACPyB,cAAc,EACdC,QAAQ,EACRC,iBAAiB,EACjBC,QAAS,KACR3E,mDAAaoB,KAAK,cAAe,CAChCsE,iBAAkB1F,mDAAiB2F,iBAGnCrE,SACH,cAIA,OAAO,IAAI6C,SAAO,CACjBK,cAAc,EACdH,KAAM3C,MAAIC,WAAW,8CACrBC,KAAMuC,SAAOG,KAAKC,MAClBxB,MAAO6C,iBAAeC,QACtBlB,QAAS,KACR3E,mDAAaoB,KAAK,eAEnBqD,QAAQ,IACNnD,8BCnIQwE,GAAajG,OAAOkG,OAAO,CACvCC,MAAO,QACPC,WAAY,aACZC,OAAQ,WACN,0qCAoBI,MAAMC,WAA2BC,eAavC3G,YAAYC,GAEX2G,QAAQxG,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAC,WAAAD,+BAAAE,YAAAD,MAbO,OAAID,+BAAAE,YAAAD,eAAAD,+BAAAE,YAAAD,eAAAD,+BAAAE,YAAAD,eAAAD,+BAAAE,YAAAD,eAAAD,+BAAAE,YAAAD,eAAAD,+BAAAE,YAAAD,eAAAD,+BAAAE,YAAAD,eAAAD,+BAAAE,YAAAD,MAQD,OAAID,+BAAAE,YAAAD,OACJ,IAMlBS,KAAK+F,kBAAkB,kCACvBtG,qDAAmB8F,GAAWE,MAC9BhG,qDAAgBN,EAEhBa,KAAKgG,UAAU,aAAcvG,qDAAmBwG,KAAKjG,OACrDA,KAAKgG,UAAU,cAAevG,qDAAoBwG,KAAKjG,OAEvDP,uDAkBDyG,UAECzG,qDAAYyG,UACZzG,uDA2CD0G,OAEC1G,6FAAcO,eACdP,qDAAY0G,QAgIb,cA9LC1G,uDACAA,qDAAYyG,UACZ,cAIAzG,qDAAkB,KAClBA,qDAAuB,KACvBA,qDAAmB,KACnBO,KAAKoG,YAAY,aAAc3G,qDAAmBwG,KAAKjG,OACvDA,KAAKoG,YAAY,cAAe3G,qDAAoBwG,KAAKjG,OACzD,YAQcqG,GACf,MACC,IAAIC,EAAS,IACb,+CAAQtG,cAEP,KAAKuF,GAAWE,MACfa,EAAS,IACL,qBAAsBD,EAAME,YAE/B9G,qDAAsB4G,EAAME,UAAUpB,kBAEvC1F,qDAAmB8F,GAAWG,WAC9B,MACD,KAAKH,GAAWG,WACfY,EAAS,IACT7G,qDAAmB8F,GAAWI,gBAC1BU,EAAME,YAANC,EAAiB1F,UAEpBrB,qDAAgB4G,EAAME,UAAUzF,SAEjC,MACD,KAAKyE,GAAWI,OAOf,OANAlG,qDAAmB8F,GAAWE,MAC9BhG,oGACIO,cAEHyG,SAASC,UAGX,QACC,MAAM,IAAIC,MAAM,8BAGdlH,uDAAqB8F,GAAWE,QAEnChG,qDAAYmH,UAAUN,GACtB7G,qDAAYoH,mDAAW7G,iBAExB,cAUAE,GAAGC,KAAKC,mBAAmBX,qDAAcY,cAAe,oBAAqB,CAC5EC,iBAAkBb,qDAAca,iBAChCC,KAAM,SACJC,KAAMC,IACRhB,sDAAe,EACfA,uDACIgB,GAAYA,EAASX,OAExBL,qDAAcmF,WAAanE,EAASX,KACpCE,KAAKmG,SAEH1F,IACHhB,yDAED,cAIA,MAAMqH,EAAQC,eAAajE,OAAO,CACjCkE,GAAI,6BACJnD,UAAW,iCACXoD,WAAW,EACXC,UAAU,EACVC,YAAY,EACZC,QAAS,EACTC,MAAO,IACPf,OAAQ,IACRgB,OAAQ,CACPC,QAAS,KACR9H,2DAKG+H,0CAASxH,eAIf,+CAHCA,sDAAgBA,aAAiBwH,GAClCV,EAAMD,WAAWW,GAEVV,EACP,cAIA,IAAIU,EAAU,GACd,2CAAIxH,aAEH,+CAAQA,cAEP,KAAKuF,GAAWE,MACf+B,EAAU/H,uDAAqBsB,SAC/B,MACD,KAAKwE,GAAWG,WACfjG,uDAA0BC,OAC1B8H,EAAU/H,uDAA0BsB,SACpC,MACD,KAAKwE,GAAWI,OACf6B,EAAU/H,uDAAsBsB,SAChC,MACD,QACC,MAAM,IAAI4F,MAAM,8BAInB,OAAO3F,MAAID,iBAAO;;MAEhB;;KAAEyG,GAGJ,cASA,+CALKxH,eAEJP,qDAAkB,IAAI4E,0CAAUrE,aAAeA,+CAGzCA,aACP,cASA,+CALKA,eAEJP,qDAAuB,IAAIR,0CAAee,qDAAeA,aAAqBA,+CAGxEA,aACP,cASA,+CALKA,eAEJP,qDAAmB,IAAImC,0CAAW5B,qDAAeA,aAAeA,+CAG1DA,aACP,YAEWwH,GAEX/H,qDAAe,IAAIgI,SAAO,CACzBC,OAAQF,EACRG,MAAO,2BAERlI,qDAEE0G,OACA3F,KAAK,KACLoH,QAAQC,IAAI,yBAGd,sDAII7H,eAEHP,qDAAayG,UACbzG,qDAAe"}