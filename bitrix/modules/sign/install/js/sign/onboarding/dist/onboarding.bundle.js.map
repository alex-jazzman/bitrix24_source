{"version":3,"file":"onboarding.bundle.js","sources":["../src/video/b2e_welcome.gif","../src/onboarding.js"],"sourcesContent":["export default \"/bitrix/js/sign/onboarding/dist/video/b2e_welcome.gif\"","import { Loc, Tag, Type } from 'main.core';\nimport { Popup } from 'main.popup';\nimport { Guide, Backend, type StepOption } from 'sign.tour';\nimport { BannerDispatcher } from 'ui.banner-dispatcher';\nimport { Button } from 'ui.buttons';\nimport 'ui.design-tokens';\nimport { Icon, Actions as ActionsIconSet } from 'ui.icon-set.api.core';\nimport './style.css';\nimport b2eWelcomeGif from './video/b2e_welcome.gif';\n\ntype OnboardingOptions = {\n\tregion: string,\n\ttourId: string,\n}\n\nconst b2bHelpdeskCode = 16571388;\nconst b2eCreateHelpdeskCode = 20338910;\nconst b2eTemplatesHelpdeskCode = 24354462;\n\nconst b2ePopupTourId = 'sign-b2e-onboarding-tour-id';\n\nexport class Onboarding\n{\n\t#backend: Backend = new Backend();\n\n\tasync startB2eByEmployeeOnboarding(options: OnboardingOptions): Promise<void>\n\t{\n\t\tconst startOnboarding = await this.#shouldStartB2eOnboarding();\n\t\tif (!startOnboarding)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tBannerDispatcher.high.toQueue((onDone) => {\n\t\t\tconst guide = this.#getB2eByEmployeeGuide(options, onDone);\n\t\t\tconst welcomePopup = this.#createB2eByEmployeePopup(guide);\n\n\t\t\tthis.#backend.saveVisit(b2ePopupTourId);\n\n\t\t\twelcomePopup.show();\n\t\t});\n\t}\n\n\tasync startB2eWelcomeOnboarding(byEmployee: boolean, options: OnboardingOptions): Promise<void>\n\t{\n\t\tconst startOnboarding = await this.#shouldStartB2eOnboarding();\n\t\tif (!startOnboarding)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tBannerDispatcher.high.toQueue((onDone) => {\n\t\t\tconst guide = this.#getB2eWelcomeGuide(byEmployee, options, onDone);\n\t\t\tconst welcomePopup = this.#createB2eWelcomePopup(guide, options);\n\n\t\t\tthis.#backend.saveVisit(b2ePopupTourId);\n\n\t\t\twelcomePopup.show();\n\t\t});\n\t}\n\n\tasync startB2eFallbackOnboarding(options: OnboardingOptions): Promise<void>\n\t{\n\t\tBannerDispatcher.high.toQueue((onDone) => {\n\t\t\tconst guide = this.#getB2eFallbackGuide(options, onDone);\n\t\t\tguide.startOnce();\n\t\t});\n\t}\n\n\t#getB2eByEmployeeGuide(options: OnboardingOptions, onFinish: ?Function): Guide\n\t{\n\t\treturn new Guide({\n\t\t\tid: options.tourId ?? 'sign-tour-guide-sign-start-kanban-b2e-by-employee',\n\t\t\tautoSave: true,\n\t\t\tsimpleMode: false,\n\t\t\tevents: {\n\t\t\t\tonFinish,\n\t\t\t},\n\t\t\tsteps: [\n\t\t\t\tthis.#createB2eKanbanRouteStep('.ui-toolbar-after-title-buttons > button.sign-b2e-onboarding-route'),\n\t\t\t\tthis.#createB2eTemplatesStep(\n\t\t\t\t\tthis.#isTemplateBtnVisible()\n\t\t\t\t\t\t? 'div#sign_sign_b2e_employee_template_list'\n\t\t\t\t\t\t: 'div#sign_more_button'\n\t\t\t\t),\n\t\t\t],\n\t\t});\n\t}\n\n\t#getB2eWelcomeGuide(byEmployee: boolean, options: OnboardingOptions, onFinish: ?Function): Guide\n\t{\n\t\treturn new Guide({\n\t\t\tid: options.tourId ?? 'sign-tour-guide-sign-start-kanban-b2e-by-employee',\n\t\t\tautoSave: true,\n\t\t\tsimpleMode: false,\n\t\t\tevents: {\n\t\t\t\tonFinish,\n\t\t\t},\n\t\t\tsteps: [\n\t\t\t\tthis.#createB2eNewDocumentButtonStep('.ui-toolbar-after-title-buttons > .sign-b2e-onboarding-create', options.region),\n\t\t\t\t...(byEmployee ? [this.#createB2eKanbanRouteStep('.ui-toolbar-after-title-buttons > .sign-b2e-onboarding-route')] : []),\n\t\t\t\tthis.#createB2eTemplatesStep(\n\t\t\t\t\tthis.#isTemplateBtnVisible()\n\t\t\t\t\t\t? 'div#sign_sign_b2e_employee_template_list'\n\t\t\t\t\t\t: 'div#sign_more_button'\n\t\t\t\t),\n\t\t\t],\n\t\t});\n\t}\n\n\t#getB2eFallbackGuide(options: OnboardingOptions, onFinish: ?Function): Guide\n\t{\n\t\treturn new Guide({\n\t\t\tid: options.tourId ?? 'sign-tour-guide-sign-start-kanban-b2e',\n\t\t\tautoSave: true,\n\t\t\tsimpleMode: true,\n\t\t\tevents: {\n\t\t\t\tonFinish,\n\t\t\t},\n\t\t\tsteps: [\n\t\t\t\tthis.#createB2eNewDocumentButtonStep('.ui-toolbar-after-title-buttons > .sign-b2e-onboarding-create', options.region),\n\t\t\t],\n\t\t});\n\t}\n\n\tgetB2bGuide(target: string | HTMLElement): Guide\n\t{\n\t\treturn new Guide({\n\t\t\tid: 'sign-tour-guide-sign-start-kanban',\n\t\t\tautoSave: true,\n\t\t\tsimpleMode: true,\n\t\t\tsteps: [\n\t\t\t\t{\n\t\t\t\t\ttarget,\n\t\t\t\t\ttitle: Loc.getMessage('SIGN_ONBOARDING_B2B_BTN_TITLE'),\n\t\t\t\t\ttext: Loc.getMessage('SIGN_ONBOARDING_B2B_BTN_TEXT'),\n\t\t\t\t\tarticle: b2bHelpdeskCode,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\t#createB2eByEmployeePopup(guide: Guide): Popup\n\t{\n\t\tconst popup = new Popup({\n\t\t\tcontent: Tag.render`\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"sign__b2e_by_employee_onboarding_popup-title\">${Loc.getMessage('SIGN_ONBOARDING_B2E_BY_EMPLOYEE_POPUP_TITLE')}</div>\n\t\t\t\t\t<div class=\"sign__b2e_by_employee_onboarding_popup-text\">${Loc.getMessage('SIGN_ONBOARDING_B2E_BY_EMPLOYEE_POPUP_TEXT')}</div>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\tcloseIcon: false,\n\t\t\twidth: 371,\n\t\t\theight: 180,\n\t\t\tpadding: 20,\n\t\t\toverlay: true,\n\t\t\tclassName: 'sign__b2e_by_employee_onboarding_popup',\n\t\t\tcontentColor: 'white',\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\t\tround: true,\n\t\t\t\t\tnoCaps: true,\n\t\t\t\t\ttext: Loc.getMessage('SIGN_ONBOARDING_B2E_BY_EMPLOYEE_POPUP_BTN_TEXT'),\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick() {\n\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\tguide.start();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\n\t\treturn popup;\n\t}\n\n\t#createB2eWelcomePopup(guide: Guide, options: OnboardingOptions): Popup\n\t{\n\t\tconst popupTitle = options.region === 'ru'\n\t\t\t? Loc.getMessage('SIGN_ONBOARDING_B2E_WELCOME_POPUP_TITLE')\n\t\t\t: Loc.getMessage('SIGN_ONBOARDING_B2E_WELCOME_POPUP_TITLE_WEST')\n\t\t;\n\t\tconst popup = new Popup({\n\t\t\tclassName: 'sign__b2e-onboarding-welcome-popup',\n\t\t\tcloseIcon: false,\n\t\t\twidth: 500,\n\t\t\theight: 517,\n\t\t\tpadding: 20,\n\t\t\tbuttons: [\n\t\t\t\tnew Button({\n\t\t\t\t\tcolor: Button.Color.PRIMARY,\n\t\t\t\t\tsize: Button.Size.SMALL,\n\t\t\t\t\tround: true,\n\t\t\t\t\tnoCaps: true,\n\t\t\t\t\ttext: Loc.getMessage('SIGN_ONBOARDING_B2E_WELCOME_POPUP_BTN_TEXT'),\n\t\t\t\t\tclassName: 'sign__b2e-onboarding-welcome-popup_start-guide',\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick() {\n\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\tguide.start();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t\tcontent: Tag.render`\n\t\t\t\t<div class=\"sign__onboarding-popup-content\">\n\t\t\t\t\t<div class=\"sign__onboarding-popup-content_header\">\n\t\t\t\t\t\t<div class=\"sign__onboarding-popup-content_header-icon\">\n\t\t\t\t\t\t\t${this.#renderIcon()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"sign__onboarding-popup-content_header-title\">\n\t\t\t\t\t\t\t${popupTitle}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"sign__onboarding-popup-content_promo-video-wrapper\">\n\t\t\t\t\t\t<img src=\"${b2eWelcomeGif}\" alt=\"video\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"sign__onboarding-popup-content_footer\">\n\t\t\t\t\t\t${Loc.getMessage('SIGN_ONBOARDING_B2E_WELCOME_POPUP_TEXT')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t});\n\n\t\treturn popup;\n\t}\n\n\t#renderIcon(): HTMLElement\n\t{\n\t\tconst color = getComputedStyle(document.body).getPropertyValue('--ui-color-on-primary');\n\n\t\tconst icon = new Icon({\n\t\t\tcolor,\n\t\t\tsize: 18,\n\t\t\ticon: ActionsIconSet.PENCIL_DRAW,\n\t\t});\n\n\t\treturn icon.render();\n\t}\n\n\t#createB2eNewDocumentButtonStep(target: string | HTMLElement, region: string): StepOption\n\t{\n\t\tconst firstStepMsgTitle = region === 'ru'\n\t\t\t? Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_CREATE_TITLE_RU')\n\t\t\t: Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_CREATE_TITLE')\n\t\t;\n\n\t\tconst firstStepMsgText = region === 'ru'\n\t\t\t? Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_CREATE_TEXT_RU')\n\t\t\t: Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_CREATE_TEXT')\n\t\t;\n\n\t\treturn {\n\t\t\ttarget,\n\t\t\ttitle: firstStepMsgTitle,\n\t\t\ttext: firstStepMsgText,\n\t\t\tarticle: b2eCreateHelpdeskCode,\n\t\t};\n\t}\n\n\t#createB2eTemplatesStep(target: string | HTMLElement): StepOption\n\t{\n\t\treturn {\n\t\t\ttarget,\n\t\t\ttitle: Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_TEMPLATES_TITLE_V1'),\n\t\t\ttext: Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_TEMPLATES_TEXT_V1'),\n\t\t\tarticle: b2eTemplatesHelpdeskCode,\n\t\t};\n\t}\n\n\t#createB2eKanbanRouteStep(target: string | HTMLElement): StepOption\n\t{\n\t\treturn {\n\t\t\ttarget,\n\t\t\ttitle: Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_ROUTE_TITLE'),\n\t\t\ttext: Loc.getMessage('SIGN_ONBOARDING_B2E_STEP_ROUTE_TEXT'),\n\t\t};\n\t}\n\n\tasync #shouldStartB2eOnboarding(): Promise<boolean>\n\t{\n\t\tconst { lastVisitDate } = await this.#backend.getLastVisitDate(b2ePopupTourId);\n\n\t\treturn Type.isNull(lastVisitDate);\n\t}\n\n\t#isTemplateBtnVisible(): boolean\n\t{\n\t\treturn document.querySelector('div#sign_sign_b2e_employee_template_list')?.offsetParent !== null;\n\t}\n}\n"],"names":["b2bHelpdeskCode","b2eCreateHelpdeskCode","b2eTemplatesHelpdeskCode","b2ePopupTourId","Onboarding","Backend","startB2eByEmployeeOnboarding","options","startOnboarding","BannerDispatcher","high","toQueue","onDone","guide","welcomePopup","saveVisit","show","startB2eWelcomeOnboarding","byEmployee","startB2eFallbackOnboarding","startOnce","getB2bGuide","target","Guide","id","autoSave","simpleMode","steps","title","Loc","getMessage","text","article","onFinish","tourId","events","region","popup","Popup","content","Tag","render","closeIcon","width","height","padding","overlay","className","contentColor","buttons","Button","color","Color","PRIMARY","size","Size","SMALL","round","noCaps","click","close","start","popupTitle","b2eWelcomeGif","getComputedStyle","document","body","getPropertyValue","icon","Icon","ActionsIconSet","PENCIL_DRAW","firstStepMsgTitle","firstStepMsgText","lastVisitDate","getLastVisitDate","Type","isNull","querySelector","offsetParent"],"mappings":"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"}