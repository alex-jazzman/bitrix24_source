{"version":3,"file":"index.bundle.js","sources":["../src/action-panel.js","../src/popup/create-folder.js","../src/popup/delete-confirmation.js","../src/popup/folder-selection.js","../src/rows.js","../src/index.js"],"sourcesContent":["import { Dom, Type } from 'main.core';\n\nlet moveBtnOnClick = null;\n\ntype ActionButtonOptions = {\n\tid: string;\n\tdisabled: boolean;\n\ttitle: string;\n};\n\nexport function toggleActionButton(options: ActionButtonOptions): void\n{\n\tconst button = document.getElementById(options.id);\n\tif (!Type.isElementNode(button))\n\t{\n\t\treturn;\n\t}\n\n\tif (options.disabled && !Dom.hasClass(button, 'ui-action-panel-item-is-disabled'))\n\t{\n\t\tDom.addClass(button, 'ui-action-panel-item-is-disabled');\n\t\tDom.attr(\n\t\t\tbutton,\n\t\t\t'title',\n\t\t\toptions.title,\n\t\t);\n\t\tDom.style(button, 'user-select', 'none');\n\t\tmoveBtnOnClick = button.onclick;\n\t\tbutton.onclick = () => 0;\n\t}\n\telse if (!options.disabled && Dom.hasClass(button, 'ui-action-panel-item-is-disabled'))\n\t{\n\t\tDom.removeClass(button, 'ui-action-panel-item-is-disabled');\n\t\tDom.attr(button, 'title', '');\n\t\tDom.style(button, 'user-select', 'auto');\n\t\tbutton.onclick = moveBtnOnClick;\n\t}\n}\n","import { Dom, Loc, Event } from 'main.core';\n\nexport class CreateFolderPopup\n{\n\tasync show(inputText: string = null): Promise<any>\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst uniqueId = `folderNameInput_${Date.now()}`;\n\n\t\t\tconst handleSubmit = () => {\n\t\t\t\tconst folderName = document.getElementById(uniqueId).value;\n\t\t\t\tif (folderName)\n\t\t\t\t{\n\t\t\t\t\tresolve(folderName);\n\t\t\t\t\tpopup.close();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_TITLE_NOT_EMPTY'),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst popup = new BX.PopupWindow(`folderNamePopup_${uniqueId}`, null, {\n\t\t\t\tclassName: 'sign-b2e-grid-templates-popup',\n\t\t\t\tcontent: `\n\t\t\t\t\t<div class=\"sign-create-folder-popup-item-container\">\n\t\t\t\t\t\t<span class=\"sign-create-folder-popup-icon\"></span>\n\t\t\t\t\t\t<div class=\"sign-create-folder-title-input-container\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid=\"${uniqueId}\"\n\t\t\t\t\t\t\tclass=\"ui-ctl-element\"\n\t\t\t\t\t\t\tplaceholder=\"${Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_POPUP_INPUT_PLACEHOLDER')}\"\n\t\t\t\t\t\t\tvalue=\"${inputText === null ? '' : BX.util.htmlspecialchars(inputText)}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`,\n\t\t\t\tbuttons: [\n\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\ttext: inputText === null\n\t\t\t\t\t\t\t? Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_CREATE_BUTTON_TEXT')\n\t\t\t\t\t\t\t: Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_SAVE_BUTTON_TEXT'),\n\t\t\t\t\t\tclassName: 'popup-window-button-blue',\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tclick: handleSubmit,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\tnew BX.PopupWindowButton({\n\t\t\t\t\t\ttext: Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_CANCEL_BUTTON_TEXT'),\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tclick()\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t\tdraggable: true,\n\t\t\t\toverlay: true,\n\t\t\t\twidth: 500,\n\t\t\t\theight: 420,\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupShow() {\n\t\t\t\t\t\tDom.style(this.popupContainer, 'backgroundColor', 'rgba(255, 255, 255)');\n\t\t\t\t\t\tconst input = document.getElementById(uniqueId);\n\t\t\t\t\t\tinput.focus();\n\t\t\t\t\t\tinput.setSelectionRange(input.value.length, input.value.length);\n\t\t\t\t\t\tEvent.bind(input, 'keydown', (event) => {\n\t\t\t\t\t\t\tif (event.key === 'Enter')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\thandleSubmit();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tpopup.show();\n\t\t});\n\t}\n}","import { Dom, Loc } from 'main.core';\nimport { MessageBox } from 'ui.dialogs.messagebox';\nimport { TemplateEntity, TemplateEntityType } from 'sign.type';\nimport { Templates } from '../index';\nimport { FeatureStorage } from 'sign.feature-storage';\n\nexport class DeleteConfirmationPopup\n{\n\tasync show(entityType: TemplateEntityType, onConfirm: () => Promise<void>)\n\t{\n\t\tconst messageContent = document.createElement('div');\n\t\tmessageContent.innerHTML = this.#getMessageContentForDeleteMessageBox(entityType);\n\t\tDom.style(messageContent, 'margin-top', '5%');\n\t\tDom.style(messageContent, 'color', '#535c69');\n\n\t\tMessageBox.show({\n\t\t\ttitle: this.#getTitleForDeleteMessageBox(entityType),\n\t\t\tmessage: messageContent.outerHTML,\n\t\t\tmodal: true,\n\t\t\tbuttons: [\n\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\ttext: Loc.getMessage('SIGN_TEMPLATE_GRID_DELETE_POPUP_YES'),\n\t\t\t\t\tcolor: BX.UI.Button.Color.PRIMARY,\n\t\t\t\t\tonclick: async (button) => {\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tawait onConfirm();\n\t\t\t\t\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\tcontent: this.#getSuccessNotificationForDeleteMessageBox(entityType),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (entityType !== TemplateEntity.folder)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\t\t\tcontent: this.#getFailNotificationForDeleteMessageBox(entityType),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst templateGrid = new Templates();\n\t\t\t\t\t\tawait templateGrid.reload();\n\t\t\t\t\t\tbutton.getContext().close();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\ttext: Loc.getMessage('SIGN_TEMPLATE_GRID_DELETE_POPUP_NO'),\n\t\t\t\t\tcolor: BX.UI.Button.Color.LINK,\n\t\t\t\t\tonclick: (button) => {\n\t\t\t\t\t\tbutton.getContext().close();\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t});\n\t}\n\n\t#getMessageContentForDeleteMessageBox(entityType: TemplateEntityType): ?string\n\t{\n\t\tswitch (entityType)\n\t\t{\n\t\t\tcase TemplateEntity.template:\n\t\t\t\treturn Loc.getMessage('SIGN_TEMPLATE_DELETE_CONFIRMATION_MESSAGE');\n\t\t\tcase TemplateEntity.folder:\n\t\t\t\treturn Loc.getMessage('SIGN_FOLDER_DELETE_CONFIRMATION_MESSAGE');\n\t\t\tcase TemplateEntity.multiple:\n\t\t\t\treturn FeatureStorage.isTemplateFolderGroupingAllowed()\n\t\t\t\t\t? Loc.getMessage('SIGN_MULTIPLE_DELETE_CONFIRMATION_MESSAGE')\n\t\t\t\t\t: Loc.getMessage('SIGN_MULTIPLE_DELETE_TEMPLATES_CONFIRMATION_MESSAGE');\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\t#getTitleForDeleteMessageBox(entityType: TemplateEntityType): ?string\n\t{\n\t\tswitch (entityType)\n\t\t{\n\t\t\tcase TemplateEntity.template:\n\t\t\t\treturn Loc.getMessage('SIGN_TEMPLATE_DELETE_CONFIRMATION_TITLE');\n\t\t\tcase TemplateEntity.folder:\n\t\t\t\treturn Loc.getMessage('SIGN_FOLDER_DELETE_CONFIRMATION_TITLE');\n\t\t\tcase TemplateEntity.multiple:\n\t\t\t\treturn Loc.getMessage('SIGN_MULTIPLE_DELETE_CONFIRMATION_TITLE');\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\t#getSuccessNotificationForDeleteMessageBox(entityType: TemplateEntityType): ?string\n\t{\n\t\tswitch (entityType)\n\t\t{\n\t\t\tcase TemplateEntity.template:\n\t\t\t\treturn Loc.getMessage('SIGN_TEMPLATE_GRID_DELETE_HINT_SUCCESS');\n\t\t\tcase TemplateEntity.folder:\n\t\t\t\treturn Loc.getMessage('SIGN_FOLDER_GRID_DELETE_HINT_SUCCESS');\n\t\t\tcase TemplateEntity.multiple:\n\t\t\t\treturn FeatureStorage.isTemplateFolderGroupingAllowed()\n\t\t\t\t\t? Loc.getMessage('SIGN_MULTIPLE_GRID_DELETE_HINT_SUCCESS')\n\t\t\t\t\t: Loc.getMessage('SIGN_MULTIPLE_GRID_DELETE_HINT_TEMPLATES_SUCCESS');\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\t#getFailNotificationForDeleteMessageBox(entityType: TemplateEntityType): ?string\n\t{\n\t\tswitch (entityType)\n\t\t{\n\t\t\tcase TemplateEntity.template:\n\t\t\t\treturn Loc.getMessage('SIGN_TEMPLATE_GRID_DELETE_HINT_FAIL');\n\t\t\tcase TemplateEntity.folder:\n\t\t\t\treturn Loc.getMessage('SIGN_FOLDER_GRID_DELETE_HINT_FAIL');\n\t\t\tcase TemplateEntity.multiple:\n\t\t\t\treturn FeatureStorage.isTemplateFolderGroupingAllowed()\n\t\t\t\t\t? Loc.getMessage('SIGN_MULTIPLE_GRID_DELETE_HINT_FAIL')\n\t\t\t\t\t: Loc.getMessage('SIGN_MULTIPLE_GRID_DELETE_HINT_TEMPLATES_FAIL');\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n}\n","import { Dom, Event, Loc, Tag, Text } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Api } from 'sign.v2.api';\nimport '../style.css';\n\ntype Folder = {\n\tid: number;\n\ttitle: string;\n};\n\nexport class FolderSelectionPopup extends EventEmitter\n{\n\t#api = new Api();\n\n\tasync show(): HTMLDivElement\n\t{\n\t\tconst firstLevelDeepFolders = await this.#api.templateFolder.getListByDepthLevel(0);\n\n\t\tconst folderList = this.#createFolderListContainer();\n\n\t\tconst rootFolderData = {\n\t\t\ttitle: Loc.getMessage('SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_ROOT_LEVEL_ITEM'),\n\t\t\tid: 0,\n\t\t};\n\t\tconst rootFolder = this.#createFolderItem(rootFolderData);\n\t\tDom.addClass(rootFolder, 'sign-b2e-grid-templates-popup__selected-folder');\n\t\tDom.append(rootFolder, folderList);\n\n\t\tthis.emit('folderSelected', rootFolderData);\n\n\t\tconst subFolderContainer = this.#createSubFolderContainer();\n\t\tDom.append(subFolderContainer, folderList);\n\n\t\tfirstLevelDeepFolders.forEach((folder) => {\n\t\t\tconst listItem = this.#createFolderItem(folder);\n\t\t\tDom.append(listItem, subFolderContainer);\n\t\t});\n\n\t\treturn folderList;\n\t}\n\n\t#createFolderListContainer(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"sign-b2e-grid-templates-popup__folder-list-container\"></div>`;\n\t}\n\n\t#createSubFolderContainer(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"sign-b2e-grid-templates-popup__sub-folder-container\"></div>`;\n\t}\n\n\t#createFolderItem(folder: Folder): HTMLDivElement\n\t{\n\t\tconst listItem = Tag.render`\n\t\t\t<div class=\"sign-b2e-grid-templates-popup__folder-item\">\n\t\t\t\t<span class=\"sign-b2e-grid-templates-popup__folder-icon-folder-list\"></span>\n\t\t\t\t<span>${Text.encode(folder.title)}</span>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(listItem, 'click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.#selectAndHighlightFolder(listItem, folder);\n\t\t});\n\n\t\treturn listItem;\n\t}\n\n\t#selectAndHighlightFolder(selectedItem: HTMLDivElement, folder: Folder): void\n\t{\n\t\tconst folderListContainer = selectedItem.closest('.sign-b2e-grid-templates-popup__folder-list-container');\n\t\tif (folderListContainer)\n\t\t{\n\t\t\tfolderListContainer.querySelectorAll('.sign-b2e-grid-templates-popup__folder-item').forEach((child) => {\n\t\t\t\tDom.removeClass(child, 'sign-b2e-grid-templates-popup__selected-folder');\n\t\t\t});\n\n\t\t\tDom.addClass(selectedItem, 'sign-b2e-grid-templates-popup__selected-folder');\n\t\t\tthis.emit('folderSelected', folder);\n\t\t}\n\t}\n}\n","import type { DocumentInitiatedType, TemplateEntityType } from 'sign.type';\nimport { DocumentInitiated, TemplateEntity } from 'sign.type';\n\nexport type GridRow = BX.Grid.Row;\n\ntype Metadata = {\n\tid: number,\n\tbuttonId: string,\n\tentityType: Exclude<TemplateEntity.multiple, TemplateEntityType>,\n\tinitiatedByType: DocumentInitiatedType,\n\tcanEdit: boolean,\n\tcanDelete: boolean,\n\tisFolderEntityType(): boolean,\n\tisInitiatedByTypeisEmployee(): boolean,\n\tcanEditAccess(): boolean,\n\tcanDeleteAccess(): boolean,\n};\n\nfunction buildMetadataFromElement(element: HTMLElement): Metadata\n{\n\treturn {\n\t\tid: Number(element.dataset.id),\n\t\tentityType: element.dataset.entityType,\n\t\tinitiatedByType: element.dataset.initiatedByType,\n\t\tcanEdit: element.dataset.canEdit,\n\t\tcanDelete: element.dataset.canDelete,\n\t\tisFolderEntityType(): boolean\n\t\t{\n\t\t\treturn this.entityType === TemplateEntity.folder;\n\t\t},\n\t\tisInitiatedByTypeisEmployee(): boolean\n\t\t{\n\t\t\treturn this.initiatedByType === DocumentInitiated.employee;\n\t\t},\n\t\tcanEditAccess(): boolean\n\t\t{\n\t\t\treturn this.canEdit;\n\t\t},\n\t\tcanDeleteAccess(): boolean\n\t\t{\n\t\t\treturn this.canDelete;\n\t\t},\n\t};\n}\n\nexport function extractMetadataFromRow(row: GridRow): Metadata | null\n{\n\tconst cellWithMetadataElement = [...row.getCells()]\n\t\t.map((cell: HTMLElement) => cell.querySelector('.sign-grid-template__cell-metadata'))\n\t\t.find((element) => element)\n\t;\n\tif (!cellWithMetadataElement)\n\t{\n\t\treturn null;\n\t}\n\n\treturn buildMetadataFromElement(cellWithMetadataElement);\n}\n","import { Dom, Event, Loc, Type, Uri } from 'main.core';\nimport { TemplateEntity, type TemplateEntityType } from 'sign.type';\nimport { Analytics } from 'sign.v2.analytics';\nimport { Api } from 'sign.v2.api';\nimport { MessageBox } from 'ui.dialogs.messagebox';\nimport { Switcher, SwitcherSize } from 'ui.switcher';\nimport { toggleActionButton } from './action-panel';\nimport { CreateFolderPopup } from './popup/create-folder';\nimport { DeleteConfirmationPopup } from './popup/delete-confirmation';\nimport './style.css';\nimport { FolderSelectionPopup } from './popup/folder-selection';\nimport type { GridRow } from './rows';\nimport { FeatureStorage } from 'sign.feature-storage';\nimport { extractMetadataFromRow } from './rows';\nimport { sendBlockedParams } from './type';\n\ntype TemplateSelectedEntity = {\n\tid: number;\n\tentityType: TemplateEntity.template | TemplateEntity.folder;\n};\n\ntype Grid = BX.Main.grid;\n\nexport class Templates\n{\n\t#gridId: string;\n\t#addNewTemplateLink: string;\n\t#urlsForReload: string[];\n\n\tconstructor(gridId: string, addNewTemplateLink: string, urlsForReload: string[])\n\t{\n\t\tthis.#gridId = gridId;\n\t\tthis.#addNewTemplateLink = addNewTemplateLink;\n\t\tthis.#urlsForReload = urlsForReload;\n\t}\n\n\t#analytics = new Analytics();\n\t#api = new Api();\n\n\t#changeVisibilityForTemplate(templateId: number, visibility: string): Promise<any>\n\t{\n\t\tconst api = this.#api.template;\n\n\t\treturn api.changeVisibility(templateId, visibility);\n\t}\n\n\t#changeVisibilityForFolder(folderId: number, visibility: string): Promise<any>\n\t{\n\t\tconst api = this.#api.templateFolder;\n\n\t\treturn api.changeVisibility(folderId, visibility);\n\t}\n\n\trenderSendButton(\n\t\tentityId: number,\n\t\tentityType: string,\n\t\ttemplateIds: number[],\n\t\tblockParams: sendBlockedParams,\n\t): HTMLElement\n\t{\n\t\tif (entityId <= 0)\n\t\t{\n\t\t\tthrow new Error('Invalid entityId must be greater than 0');\n\t\t}\n\n\t\tconst validEntityTypes = ['template', 'folder'];\n\t\tif (!validEntityTypes.includes(entityType))\n\t\t{\n\t\t\tthrow new Error(`Invalid entityType must be one of ${validEntityTypes.join(', ')}`);\n\t\t}\n\n\t\tconst button = new BX.UI.Button({\n\t\t\ttext: Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_LAUNCH_SIGNING'),\n\t\t\tcolor: BX.UI.Button.Color.SUCCESS,\n\t\t\tsize: BX.UI.Button.Size.SMALL,\n\t\t\tround: true,\n\t\t\tdisabled: blockParams.isBlocked,\n\t\t});\n\n\t\tconst buttonElement = button.render();\n\n\t\tif (blockParams.isNoCompaniesInFolder)\n\t\t{\n\t\t\tbuttonElement.setAttribute('title', Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_EMPTY_FOLDER'));\n\t\t}\n\t\telse if (blockParams.isTemplateDisabled)\n\t\t{\n\t\t\tbuttonElement.setAttribute('title', Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_TEMPLATE_DISABLED'));\n\t\t}\n\t\telse if (blockParams.isMultipleCompaniesInFolder)\n\t\t{\n\t\t\tbuttonElement.setAttribute('title', Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_MULTIPLE_COMPANIES_IN_FOLDER'));\n\t\t}\n\t\telse if (blockParams.isInvisible && entityType === 'template')\n\t\t{\n\t\t\tbuttonElement.setAttribute('title', Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_INVISIBLE_TEMPLATE'));\n\t\t}\n\t\telse if (blockParams.isInvisible && entityType === 'folder')\n\t\t{\n\t\t\tbuttonElement.setAttribute('title', Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_INVISIBLE_FOLDER'));\n\t\t}\n\t\telse if (blockParams.hasAnyInvisibleTemplates)\n\t\t{\n\t\t\tbuttonElement.setAttribute('title', Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_INVISIBLE_TEMPLATES_IN_FOLDER'));\n\t\t}\n\t\telse if (blockParams.hasNoReadAccess)\n\t\t{\n\t\t\tbuttonElement.setAttribute('title', Loc.getMessage('SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_NO_READ_ACCESS'));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.Event.bind(buttonElement, 'click', (event: MouseEvent): void => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tconst sliderUrl = `sign-b2e-templates-settings-${entityId}-${entityType}`;\n\t\t\t\tBX.SidePanel.Instance.open(sliderUrl, {\n\t\t\t\t\twidth: 900,\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tcontentCallback: (): Promise<HTMLElement> => {\n\t\t\t\t\t\treturn top.BX.Runtime.loadExtension(['sign.v2.b2e.sign-settings-templates']).then((exports) => {\n\t\t\t\t\t\t\tconst { B2ETemplatesSignSettings } = exports;\n\t\t\t\t\t\t\tconst container = BX.Tag.render`<div id=\"sign-b2e-templates-settings-container-${entityId}-${entityType}\"></div>`;\n\t\t\t\t\t\t\tconst templatesSignSettings = new B2ETemplatesSignSettings(templateIds, sliderUrl);\n\t\t\t\t\t\t\ttemplatesSignSettings.renderToContainer(container);\n\n\t\t\t\t\t\t\treturn container;\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn buttonElement;\n\t}\n\n\tasync renderSwitcher(\n\t\tentityId: number,\n\t\tentityType: TemplateEntityType,\n\t\tisChecked: boolean,\n\t\tisDisabled: boolean,\n\t\thasEditTemplateAccess?: boolean,\n\t): Promise<void>\n\t{\n\t\tconst switcherNode = document.getElementById(`switcher_b2e_template_grid_${entityId}_${entityType}`);\n\t\tconst switcher = new Switcher({\n\t\t\tnode: switcherNode,\n\t\t\tchecked: isChecked,\n\t\t\tsize: SwitcherSize.medium,\n\t\t\tdisabled: isDisabled,\n\t\t\thandlers: {\n\t\t\t\ttoggled: async (event) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tswitcher.setLoading(true);\n\t\t\t\t\tconst checked = switcher.isChecked();\n\t\t\t\t\tconst visibility = checked ? 'visible' : 'invisible';\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tswitch (entityType)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcase TemplateEntity.template:\n\t\t\t\t\t\t\t\tawait this.#changeVisibilityForTemplate(entityId, visibility);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase TemplateEntity.folder:\n\t\t\t\t\t\t\t\tawait this.#changeVisibilityForFolder(entityId, visibility);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tawait console.error(`Unknown entity type: ${entityType}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait this.reload();\n\t\t\t\t\t}\n\t\t\t\t\tcatch\n\t\t\t\t\t{\n\t\t\t\t\t\tswitcher.setLoading(false);\n\t\t\t\t\t\tswitcher.check(!checked, false);\n\t\t\t\t\t}\n\t\t\t\t\tfinally\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.#sendActionStateAnalytics(checked, entityId);\n\t\t\t\t\t\tswitcher.setLoading(false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (!isDisabled)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet title = '';\n\t\tswitch (entityType)\n\t\t{\n\t\t\tcase TemplateEntity.template:\n\t\t\t\ttitle = hasEditTemplateAccess\n\t\t\t\t\t? Loc.getMessage('SIGN_TEMPLATE_BLOCKED_SWITCHER_HINT')\n\t\t\t\t\t: Loc.getMessage('SIGN_TEMPLATE_BLOCKED_SWITCHER_HINT_NO_ACCESS');\n\t\t\t\tbreak;\n\t\t\tcase TemplateEntity.folder:\n\t\t\t\ttitle = hasEditTemplateAccess\n\t\t\t\t\t? Loc.getMessage('SIGN_TEMPLATE_FOLDER_BLOCKED_SWITCHER_HINT')\n\t\t\t\t\t: Loc.getMessage('SIGN_TEMPLATE_FOLDER_BLOCKED_SWITCHER_HINT_NO_ACCESS');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttitle = '';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitcherNode.setAttribute('title', title);\n\t}\n\n\tasync createFolder(): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst createFolderPopup = new CreateFolderPopup();\n\t\t\tconst title = await createFolderPopup.show();\n\t\t\tconst api = this.#api.templateFolder;\n\t\t\tawait api.create(title);\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_SUCCESS'),\n\t\t\t});\n\t\t}\n\t\tcatch\n\t\t{\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_FAIL'),\n\t\t\t});\n\t\t}\n\n\t\tawait this.reload();\n\t}\n\n\tasync renameFolder(entityId: number, oldTitle: string): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst createFolderPopup = new CreateFolderPopup();\n\t\t\tconst newTitle = await createFolderPopup.show(oldTitle);\n\t\t\tconst api = this.#api.templateFolder;\n\t\t\tawait api.rename(entityId, newTitle);\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_RENAME_SUCCESS'),\n\t\t\t});\n\t\t}\n\t\tcatch\n\t\t{\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_RENAME_FAIL'),\n\t\t\t});\n\t\t}\n\n\t\tawait this.reload();\n\t}\n\n\t#sendActionStateAnalytics(checked: boolean, templateId: number): void\n\t{\n\t\tthis.#analytics.send({\n\t\t\tcategory: 'templates',\n\t\t\tevent: 'turn_on_off_template',\n\t\t\ttype: 'manual',\n\t\t\tc_section: 'sign',\n\t\t\tc_sub_section: 'templates',\n\t\t\tc_element: checked ? 'on' : 'off',\n\t\t\tp5: `templateid_${templateId}`,\n\t\t});\n\t}\n\n\treload(): Promise<void>\n\t{\n\t\tEvent.ready(() => {\n\t\t\tconst grid = this.#getFolderGrid() ?? this.#getTemplateListGrid();\n\t\t\tif (Type.isObject(grid))\n\t\t\t{\n\t\t\t\tgrid.reload();\n\t\t\t}\n\t\t});\n\t}\n\n\t#getFolderGrid(): ?Grid\n\t{\n\t\treturn BX.SidePanel.Instance.getTopSlider()?.getFrameWindow().BX.Main.gridManager.getById(this.#gridId)?.instance;\n\t}\n\n\t#getTemplateListGrid(): ?Grid\n\t{\n\t\treturn BX.Main.gridManager.getById(this.#gridId)?.instance;\n\t}\n\n\treloadAfterSliderClose(): void\n\t{\n\t\tconst context = window === top ? window : top;\n\n\t\tcontext.BX.Event.EventEmitter.subscribe('SidePanel.Slider:onCloseComplete', async (event) => {\n\t\t\tconst closedSliderUrl = event.getData()[0].getSlider().getUrl();\n\n\t\t\tif (this.#shouldReloadAfterClose(closedSliderUrl))\n\t\t\t{\n\t\t\t\tawait this.reload();\n\t\t\t}\n\t\t});\n\t}\n\n\t#shouldReloadAfterClose(closedSliderUrl: string): boolean\n\t{\n\t\tconst uri = new Uri(closedSliderUrl);\n\t\tconst path = uri.getPath();\n\n\t\treturn closedSliderUrl === this.#addNewTemplateLink\n\t\t\t|| closedSliderUrl === 'sign-settings-template-created'\n\t\t\t|| this.#urlsForReload.some((url) => path.startsWith(new Uri(url).getPath()));\n\t}\n\n\tasync exportBlank(templateId: number): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst { json, filename } = await this.#api.template.exportBlank(templateId);\n\t\t\tconst mimeType = 'application/json';\n\t\t\tthis.#downloadStringLikeFile(json, filename, mimeType);\n\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_EXPORT_BLANK_SUCCESS'),\n\t\t\t});\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\tconsole.error(e);\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_EXPORT_BLANK_FAILURE'),\n\t\t\t});\n\t\t}\n\t}\n\n\t#downloadStringLikeFile(data: string, filename: string, mimeType: string): void\n\t{\n\t\tconst blob = new Blob([data], { type: mimeType });\n\t\tconst url = window.URL.createObjectURL(blob);\n\t\tconst a = document.createElement('a');\n\t\tDom.style(a, 'display', 'none');\n\t\ta.href = url;\n\t\ta.download = filename;\n\t\tDom.append(a, document.body);\n\t\ta.click();\n\t\twindow.URL.revokeObjectURL(url);\n\t\tDom.remove(a);\n\t}\n\n\tasync copyTemplate(templateId: number, folderId: number): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst response = await this.#api.template.copy(templateId, folderId);\n\t\t\tconst copyTemplateId = response.template.id;\n\n\t\t\tawait this.reload();\n\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_COPY_HINT_SUCCESS'),\n\t\t\t});\n\n\t\t\tif (window.top.BX.SidePanel && this.#addNewTemplateLink && copyTemplateId)\n\t\t\t{\n\t\t\t\twindow.top.BX.SidePanel.Instance.open(\n\t\t\t\t\t`${this.#addNewTemplateLink}&templateId=${copyTemplateId}&stepId=changePartner&noRedirect=Y`,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('Error copying template:', error);\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('SIGN_TEMPLATE_GRID_COPY_HINT_FAIL'),\n\t\t\t});\n\t\t}\n\t}\n\n\t#getSelectedItems(): TemplateSelectedEntity\n\t{\n\t\tconst items = [];\n\t\tconst checkboxes = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n\t\tcheckboxes.forEach((checkbox) => {\n\t\t\tconst id = checkbox.value;\n\n\t\t\tif (Number.isInteger(Number(id)))\n\t\t\t{\n\t\t\t\tconst rowElement = checkbox.closest('tr');\n\t\t\t\tconst entityElement = rowElement\n\t\t\t\t\t? rowElement.querySelector('.sign-template-title, .sign-template-title-without-link')\n\t\t\t\t\t: null;\n\t\t\t\tconst entityType = entityElement\n\t\t\t\t\t? entityElement.getAttribute('data-entity-type')\n\t\t\t\t\t: null;\n\n\t\t\t\titems.push({\n\t\t\t\t\tid,\n\t\t\t\t\tentityType,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tasync delete(entityId: number, entityType: TemplateEntityType)\n\t{\n\t\tconst deleteConfirmationPopup = new DeleteConfirmationPopup();\n\t\tawait deleteConfirmationPopup.show(entityType, async () => {\n\t\t\tconst api = this.#api;\n\t\t\tswitch (entityType)\n\t\t\t{\n\t\t\t\tcase TemplateEntity.template:\n\t\t\t\t\tawait api.template.delete(entityId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase TemplateEntity.folder:\n\t\t\t\t\tawait api.templateFolder.delete(entityId);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tawait console.error(`Unknown entity type: ${entityType}`);\n\t\t\t}\n\t\t\tawait this.reload();\n\t\t});\n\t}\n\n\tasync deleteSelectedItems(): Promise<void>\n\t{\n\t\tconst selectedItems = this.#getSelectedItems();\n\t\tif (selectedItems.length > 0)\n\t\t{\n\t\t\tconst deleteConfirmationPopup = new DeleteConfirmationPopup();\n\t\t\tawait deleteConfirmationPopup.show(TemplateEntity.multiple, async () => {\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tawait this.#api.template.deleteEntities(selectedItems);\n\t\t\t\t\tawait this.reload();\n\t\t\t\t}\n\t\t\t\tcatch (error)\n\t\t\t\t{\n\t\t\t\t\tawait console.error('Error deleting template entities:', error);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tasync moveTemplatesToFolder(templateId: number | null = null): void\n\t{\n\t\tconst selectedItems = this.#getSelectedItems();\n\t\tif (selectedItems.length > 0 || templateId !== null)\n\t\t{\n\t\t\tconst folderSelectionPopup = new FolderSelectionPopup();\n\t\t\tfolderSelectionPopup.subscribe('folderSelected', (event) => {\n\t\t\t\tthis.selectedFolder = event.getData();\n\t\t\t});\n\t\t\tconst folderList = await folderSelectionPopup.show();\n\n\t\t\tMessageBox.show({\n\t\t\t\ttitle: Loc.getMessage('SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_TITLE'),\n\t\t\t\tmessage: folderList,\n\t\t\t\tmodal: true,\n\t\t\t\tminWidth: 500,\n\t\t\t\tminHeight: 370,\n\t\t\t\tbuttons: [\n\t\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\t\ttext: Loc.getMessage('SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_OK_BUTTON_TEXT'),\n\t\t\t\t\t\tcolor: BX.UI.Button.Color.SUCCESS,\n\t\t\t\t\t\tonclick: async (button) => {\n\t\t\t\t\t\t\tif (this.selectedFolder)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst selectedItem = { id: templateId, entityType: TemplateEntity.template };\n\t\t\t\t\t\t\t\tconst selectedTemplates = templateId === null ? selectedItems : [selectedItem];\n\t\t\t\t\t\t\t\tawait this.#api.template.moveToFolder(selectedTemplates, Number(this.selectedFolder.id));\n\t\t\t\t\t\t\t\tbutton.getContext().close();\n\t\t\t\t\t\t\t\tawait this.reload();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'sign-b2e-grid-templates-popup__move-to-button',\n\t\t\t\t\t}),\n\t\t\t\t\tnew BX.UI.Button({\n\t\t\t\t\t\ttext: Loc.getMessage('SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_CANCEL_BUTTON_TEXT'),\n\t\t\t\t\t\tcolor: BX.UI.Button.Color.LINK,\n\t\t\t\t\t\tonclick: (button) => {\n\t\t\t\t\t\t\tbutton.getContext().close();\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t}\n\t}\n\n\topenSliderTemplateFolderContent(folderId: number = 0): boolean | any\n\t{\n\t\twindow.event.stopPropagation();\n\t\tif (BX.SidePanel && BX.SidePanel.Instance)\n\t\t{\n\t\t\tconst basePath = folderId === 0 ? 'employee/templates/folder/' : 'templates/folder/';\n\n\t\t\tconst queryParams = new URLSearchParams(window.location.search);\n\t\t\tconst url = (folderId !== 0 && queryParams.has('folderId'))\n\t\t\t\t? `?folderId=${encodeURIComponent(folderId)}`\n\t\t\t\t: `${basePath}?folderId=${encodeURIComponent(folderId)}`;\n\n\t\t\tBX.SidePanel.Instance.open(url, {\n\t\t\t\twidth: 1650,\n\t\t\t\tcacheable: false,\n\t\t\t\tallowChangeHistory: true,\n\t\t\t});\n\t\t}\n\t}\n\n\tsubscribeOnGridEvents(): void\n\t{\n\t\tEvent.ready(() => {\n\t\t\tconst grid: ?Grid = this.#getFolderGrid() ?? this.#getTemplateListGrid();\n\t\t\tif (!Type.isObject(grid))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst gridTreeAttributesChangesMutationObserver = new MutationObserver(\n\t\t\t\t() => this.#onGridTreeAttributesMutate(grid),\n\t\t\t);\n\t\t\tgridTreeAttributesChangesMutationObserver.observe(grid.getContainer(), { subtree: true, attributes: true });\n\t\t});\n\t}\n\n\t#onGridTreeAttributesMutate(grid: Grid): void\n\t{\n\t\tconst rows: GridRow[] = grid.getRows().getRows();\n\t\tconst isRowUnmovable = (row: GridRow): boolean => {\n\t\t\tconst metadata = extractMetadataFromRow(row);\n\t\t\tif (Type.isNull(metadata))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst isChecked = row.getCheckbox()?.checked;\n\t\t\tconst isRestricted = metadata.isFolderEntityType()\n\t\t\t\t|| metadata.isInitiatedByTypeisEmployee()\n\t\t\t\t|| !metadata.canEditAccess()\n\t\t\t;\n\n\t\t\treturn isRestricted && isChecked;\n\t\t};\n\n\t\tconst allSelectedCellsAmount = parseInt(\n\t\t\tdocument.querySelector('[data-role=\"action-panel-total-param\"]')?.textContent ?? '0',\n\t\t\t10,\n\t\t);\n\n\t\tconst moveActionButton = {\n\t\t\tid: 'sign-template-list-move-to-folder-button',\n\t\t\tdisabled: false,\n\t\t\ttitle: Loc.getMessage('SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_GROUP_ACTION_BUTTON_DISABLED_HINT'),\n\t\t};\n\n\t\tconst rowsWithoutHeaderAndHiddenRow = rows.slice(2);\n\n\t\tmoveActionButton.disabled = rowsWithoutHeaderAndHiddenRow\n\t\t\t.some((row) => isRowUnmovable(row));\n\n\t\ttoggleActionButton(moveActionButton);\n\n\t\tconst isRowNonDeletable = (row: GridRow): boolean => {\n\t\t\tconst metadata = extractMetadataFromRow(row);\n\t\t\tif (Type.isNull(metadata))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst isChecked = row.getCheckbox()?.checked;\n\n\t\t\treturn !metadata.canDeleteAccess() && isChecked;\n\t\t};\n\n\t\tconst deleteActionButton = {\n\t\t\tid: 'sign-template-list-delete-button',\n\t\t\tdisabled: false,\n\t\t\ttitle: FeatureStorage.isTemplateFolderGroupingAllowed()\n\t\t\t\t? Loc.getMessage('SIGN_TEMPLATE_GRID_DELETE_GROUP_ACTION_BUTTON_DISABLED_HINT')\n\t\t\t\t: Loc.getMessage('SIGN_TEMPLATE_GRID_DELETE_TEMPLATES_GROUP_ACTION_BUTTON_DISABLED_HINT'),\n\t\t};\n\n\t\tif (allSelectedCellsAmount <= 1)\n\t\t{\n\t\t\ttoggleActionButton(moveActionButton);\n\n\t\t\treturn;\n\t\t}\n\n\t\tdeleteActionButton.disabled = rowsWithoutHeaderAndHiddenRow\n\t\t\t.some((row) => isRowNonDeletable(row));\n\n\t\ttoggleActionButton(deleteActionButton);\n\t}\n}\n"],"names":["moveBtnOnClick","toggleActionButton","options","button","document","getElementById","id","Type","isElementNode","disabled","Dom","hasClass","addClass","attr","title","style","onclick","removeClass","CreateFolderPopup","show","inputText","Promise","resolve","uniqueId","Date","now","handleSubmit","folderName","value","popup","close","BX","UI","Notification","Center","notify","content","Loc","getMessage","PopupWindow","className","util","htmlspecialchars","buttons","PopupWindowButton","text","events","click","draggable","overlay","width","height","onPopupShow","popupContainer","input","focus","setSelectionRange","length","Event","bind","event","key","preventDefault","DeleteConfirmationPopup","entityType","onConfirm","messageContent","createElement","innerHTML","MessageBox","message","outerHTML","modal","Button","color","Color","PRIMARY","window","top","TemplateEntity","folder","templateGrid","Templates","reload","getContext","LINK","template","multiple","FeatureStorage","isTemplateFolderGroupingAllowed","FolderSelectionPopup","EventEmitter","Api","firstLevelDeepFolders","templateFolder","getListByDepthLevel","folderList","rootFolderData","rootFolder","append","emit","subFolderContainer","forEach","listItem","Tag","render","Text","encode","stopPropagation","selectedItem","folderListContainer","closest","querySelectorAll","child","buildMetadataFromElement","element","Number","dataset","initiatedByType","canEdit","canDelete","isFolderEntityType","isInitiatedByTypeisEmployee","DocumentInitiated","employee","canEditAccess","canDeleteAccess","extractMetadataFromRow","row","cellWithMetadataElement","getCells","map","cell","querySelector","find","constructor","gridId","addNewTemplateLink","urlsForReload","Analytics","renderSendButton","entityId","templateIds","blockParams","Error","validEntityTypes","includes","join","SUCCESS","size","Size","SMALL","round","isBlocked","buttonElement","isNoCompaniesInFolder","setAttribute","isTemplateDisabled","isMultipleCompaniesInFolder","isInvisible","hasAnyInvisibleTemplates","hasNoReadAccess","sliderUrl","SidePanel","Instance","open","cacheable","contentCallback","Runtime","loadExtension","then","exports","B2ETemplatesSignSettings","container","templatesSignSettings","renderToContainer","renderSwitcher","isChecked","isDisabled","hasEditTemplateAccess","switcherNode","switcher","Switcher","node","checked","SwitcherSize","medium","handlers","toggled","setLoading","visibility","console","error","check","createFolder","createFolderPopup","api","create","renameFolder","oldTitle","newTitle","rename","ready","grid","isObject","reloadAfterSliderClose","context","subscribe","closedSliderUrl","getData","getSlider","getUrl","exportBlank","templateId","json","filename","mimeType","e","copyTemplate","folderId","response","copy","copyTemplateId","delete","deleteConfirmationPopup","deleteSelectedItems","selectedItems","deleteEntities","moveTemplatesToFolder","folderSelectionPopup","selectedFolder","minWidth","minHeight","selectedTemplates","moveToFolder","openSliderTemplateFolderContent","basePath","queryParams","URLSearchParams","location","search","url","has","encodeURIComponent","allowChangeHistory","subscribeOnGridEvents","gridTreeAttributesChangesMutationObserver","MutationObserver","observe","getContainer","subtree","attributes","changeVisibility","send","category","type","c_section","c_sub_section","c_element","p5","getTopSlider","getFrameWindow","Main","gridManager","getById","instance","uri","Uri","path","getPath","some","startsWith","data","blob","Blob","URL","createObjectURL","a","href","download","body","revokeObjectURL","remove","items","checkboxes","checkbox","isInteger","rowElement","entityElement","getAttribute","push","rows","getRows","isRowUnmovable","metadata","isNull","getCheckbox","isRestricted","allSelectedCellsAmount","parseInt","textContent","moveActionButton","rowsWithoutHeaderAndHiddenRow","slice","isRowNonDeletable","deleteActionButton"],"mappings":"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"}