this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};this.BX.Sign.V2.Grid=this.BX.Sign.V2.Grid||{};(function(e,t,s,a,i,o,l,n,r){"use strict";let c=null;function d(e){const t=document.getElementById(e.id);if(!i.Type.isElementNode(t)){return}if(e.disabled&&!i.Dom.hasClass(t,"ui-action-panel-item-is-disabled")){i.Dom.addClass(t,"ui-action-panel-item-is-disabled");i.Dom.attr(t,"title",e.title);i.Dom.style(t,"user-select","none");c=t.onclick;t.onclick=()=>0}else if(!e.disabled&&i.Dom.hasClass(t,"ui-action-panel-item-is-disabled")){i.Dom.removeClass(t,"ui-action-panel-item-is-disabled");i.Dom.attr(t,"title","");i.Dom.style(t,"user-select","auto");t.onclick=c}}class E{async show(e=null){return new Promise((t=>{const s=`folderNameInput_${Date.now()}`;const a=()=>{const e=document.getElementById(s).value;if(e){t(e);o.close()}else{BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_TITLE_NOT_EMPTY")})}};const o=new BX.PopupWindow(`folderNamePopup_${s}`,null,{className:"sign-b2e-grid-templates-popup",content:`\n\t\t\t\t\t<div class="sign-create-folder-popup-item-container">\n\t\t\t\t\t\t<span class="sign-create-folder-popup-icon"></span>\n\t\t\t\t\t\t<div class="sign-create-folder-title-input-container">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\tid="${s}"\n\t\t\t\t\t\t\tclass="ui-ctl-element"\n\t\t\t\t\t\t\tplaceholder="${i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_POPUP_INPUT_PLACEHOLDER")}"\n\t\t\t\t\t\t\tvalue="${e===null?"":BX.util.htmlspecialchars(e)}"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`,buttons:[new BX.PopupWindowButton({text:e===null?i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_CREATE_BUTTON_TEXT"):i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_SAVE_BUTTON_TEXT"),className:"popup-window-button-blue",events:{click:a}}),new BX.PopupWindowButton({text:i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_CANCEL_BUTTON_TEXT"),events:{click(){o.close()}}})],draggable:true,overlay:true,width:500,height:420,events:{onPopupShow(){i.Dom.style(this.popupContainer,"backgroundColor","rgba(255, 255, 255)");const e=document.getElementById(s);e.focus();e.setSelectionRange(e.value.length,e.value.length);i.Event.bind(e,"keydown",(e=>{if(e.key==="Enter"){e.preventDefault();a()}}))}}});o.show()}))}}var _=babelHelpers.classPrivateFieldLooseKey("getMessageContentForDeleteMessageBox");var p=babelHelpers.classPrivateFieldLooseKey("getTitleForDeleteMessageBox");var T=babelHelpers.classPrivateFieldLooseKey("getSuccessNotificationForDeleteMessageBox");var L=babelHelpers.classPrivateFieldLooseKey("getFailNotificationForDeleteMessageBox");class u{constructor(){Object.defineProperty(this,L,{value:P});Object.defineProperty(this,T,{value:I});Object.defineProperty(this,p,{value:g});Object.defineProperty(this,_,{value:b})}async show(e,t){const s=document.createElement("div");s.innerHTML=babelHelpers.classPrivateFieldLooseBase(this,_)[_](e);i.Dom.style(s,"margin-top","5%");i.Dom.style(s,"color","#535c69");a.MessageBox.show({title:babelHelpers.classPrivateFieldLooseBase(this,p)[p](e),message:s.outerHTML,modal:true,buttons:[new BX.UI.Button({text:i.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_POPUP_YES"),color:BX.UI.Button.Color.PRIMARY,onclick:async s=>{try{await t();window.top.BX.UI.Notification.Center.notify({content:babelHelpers.classPrivateFieldLooseBase(this,T)[T](e)})}catch{if(e!==r.TemplateEntity.folder){window.top.BX.UI.Notification.Center.notify({content:babelHelpers.classPrivateFieldLooseBase(this,L)[L](e)})}}const a=new Z;await a.reload();s.getContext().close()}}),new BX.UI.Button({text:i.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_POPUP_NO"),color:BX.UI.Button.Color.LINK,onclick:e=>{e.getContext().close()}})]})}}function b(e){switch(e){case r.TemplateEntity.template:return i.Loc.getMessage("SIGN_TEMPLATE_DELETE_CONFIRMATION_MESSAGE");case r.TemplateEntity.folder:return i.Loc.getMessage("SIGN_FOLDER_DELETE_CONFIRMATION_MESSAGE");case r.TemplateEntity.multiple:return n.FeatureStorage.isTemplateFolderGroupingAllowed()?i.Loc.getMessage("SIGN_MULTIPLE_DELETE_CONFIRMATION_MESSAGE"):i.Loc.getMessage("SIGN_MULTIPLE_DELETE_TEMPLATES_CONFIRMATION_MESSAGE");default:return null}}function g(e){switch(e){case r.TemplateEntity.template:return i.Loc.getMessage("SIGN_TEMPLATE_DELETE_CONFIRMATION_TITLE");case r.TemplateEntity.folder:return i.Loc.getMessage("SIGN_FOLDER_DELETE_CONFIRMATION_TITLE");case r.TemplateEntity.multiple:return i.Loc.getMessage("SIGN_MULTIPLE_DELETE_CONFIRMATION_TITLE");default:return null}}function I(e){switch(e){case r.TemplateEntity.template:return i.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_HINT_SUCCESS");case r.TemplateEntity.folder:return i.Loc.getMessage("SIGN_FOLDER_GRID_DELETE_HINT_SUCCESS");case r.TemplateEntity.multiple:return n.FeatureStorage.isTemplateFolderGroupingAllowed()?i.Loc.getMessage("SIGN_MULTIPLE_GRID_DELETE_HINT_SUCCESS"):i.Loc.getMessage("SIGN_MULTIPLE_GRID_DELETE_HINT_TEMPLATES_SUCCESS");default:return null}}function P(e){switch(e){case r.TemplateEntity.template:return i.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_HINT_FAIL");case r.TemplateEntity.folder:return i.Loc.getMessage("SIGN_FOLDER_GRID_DELETE_HINT_FAIL");case r.TemplateEntity.multiple:return n.FeatureStorage.isTemplateFolderGroupingAllowed()?i.Loc.getMessage("SIGN_MULTIPLE_GRID_DELETE_HINT_FAIL"):i.Loc.getMessage("SIGN_MULTIPLE_GRID_DELETE_HINT_TEMPLATES_FAIL");default:return null}}let m=e=>e,y,v,B;var h=babelHelpers.classPrivateFieldLooseKey("api");var S=babelHelpers.classPrivateFieldLooseKey("createFolderListContainer");var N=babelHelpers.classPrivateFieldLooseKey("createSubFolderContainer");var f=babelHelpers.classPrivateFieldLooseKey("createFolderItem");var M=babelHelpers.classPrivateFieldLooseKey("selectAndHighlightFolder");class w extends o.EventEmitter{constructor(...e){super(...e);Object.defineProperty(this,M,{value:D});Object.defineProperty(this,f,{value:A});Object.defineProperty(this,N,{value:F});Object.defineProperty(this,S,{value:O});Object.defineProperty(this,h,{writable:true,value:new l.Api})}async show(){const e=await babelHelpers.classPrivateFieldLooseBase(this,h)[h].templateFolder.getListByDepthLevel(0);const t=babelHelpers.classPrivateFieldLooseBase(this,S)[S]();const s={title:i.Loc.getMessage("SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_ROOT_LEVEL_ITEM"),id:0};const a=babelHelpers.classPrivateFieldLooseBase(this,f)[f](s);i.Dom.addClass(a,"sign-b2e-grid-templates-popup__selected-folder");i.Dom.append(a,t);this.emit("folderSelected",s);const o=babelHelpers.classPrivateFieldLooseBase(this,N)[N]();i.Dom.append(o,t);e.forEach((e=>{const t=babelHelpers.classPrivateFieldLooseBase(this,f)[f](e);i.Dom.append(t,o)}));return t}}function O(){return i.Tag.render(y||(y=m`<div class="sign-b2e-grid-templates-popup__folder-list-container"></div>`))}function F(){return i.Tag.render(v||(v=m`<div class="sign-b2e-grid-templates-popup__sub-folder-container"></div>`))}function A(e){const t=i.Tag.render(B||(B=m`
			<div class="sign-b2e-grid-templates-popup__folder-item">
				<span class="sign-b2e-grid-templates-popup__folder-icon-folder-list"></span>
				<span>${0}</span>
			</div>
		`),i.Text.encode(e.title));i.Event.bind(t,"click",(s=>{s.stopPropagation();babelHelpers.classPrivateFieldLooseBase(this,M)[M](t,e)}));return t}function D(e,t){const s=e.closest(".sign-b2e-grid-templates-popup__folder-list-container");if(s){s.querySelectorAll(".sign-b2e-grid-templates-popup__folder-item").forEach((e=>{i.Dom.removeClass(e,"sign-b2e-grid-templates-popup__selected-folder")}));i.Dom.addClass(e,"sign-b2e-grid-templates-popup__selected-folder");this.emit("folderSelected",t)}}function C(e){return{id:Number(e.dataset.id),entityType:e.dataset.entityType,initiatedByType:e.dataset.initiatedByType,canEdit:e.dataset.canEdit,canDelete:e.dataset.canDelete,isFolderEntityType(){return this.entityType===r.TemplateEntity.folder},isInitiatedByTypeisEmployee(){return this.initiatedByType===r.DocumentInitiated.employee},canEditAccess(){return this.canEdit},canDeleteAccess(){return this.canDelete}}}function H(e){const t=[...e.getCells()].map((e=>e.querySelector(".sign-grid-template__cell-metadata"))).find((e=>e));if(!t){return null}return C(t)}let R=e=>e,G;var U=babelHelpers.classPrivateFieldLooseKey("gridId");var X=babelHelpers.classPrivateFieldLooseKey("addNewTemplateLink");var k=babelHelpers.classPrivateFieldLooseKey("urlsForReload");var K=babelHelpers.classPrivateFieldLooseKey("analytics");var j=babelHelpers.classPrivateFieldLooseKey("api");var x=babelHelpers.classPrivateFieldLooseKey("changeVisibilityForTemplate");var V=babelHelpers.classPrivateFieldLooseKey("changeVisibilityForFolder");var $=babelHelpers.classPrivateFieldLooseKey("sendActionStateAnalytics");var Y=babelHelpers.classPrivateFieldLooseKey("getFolderGrid");var W=babelHelpers.classPrivateFieldLooseKey("getTemplateListGrid");var q=babelHelpers.classPrivateFieldLooseKey("shouldReloadAfterClose");var z=babelHelpers.classPrivateFieldLooseKey("downloadStringLikeFile");var J=babelHelpers.classPrivateFieldLooseKey("getSelectedItems");var Q=babelHelpers.classPrivateFieldLooseKey("onGridTreeAttributesMutate");class Z{constructor(e,s,a){Object.defineProperty(this,Q,{value:re});Object.defineProperty(this,J,{value:ne});Object.defineProperty(this,z,{value:le});Object.defineProperty(this,q,{value:oe});Object.defineProperty(this,W,{value:ie});Object.defineProperty(this,Y,{value:ae});Object.defineProperty(this,$,{value:se});Object.defineProperty(this,V,{value:te});Object.defineProperty(this,x,{value:ee});Object.defineProperty(this,U,{writable:true,value:void 0});Object.defineProperty(this,X,{writable:true,value:void 0});Object.defineProperty(this,k,{writable:true,value:void 0});Object.defineProperty(this,K,{writable:true,value:new t.Analytics});Object.defineProperty(this,j,{writable:true,value:new l.Api});babelHelpers.classPrivateFieldLooseBase(this,U)[U]=e;babelHelpers.classPrivateFieldLooseBase(this,X)[X]=s;babelHelpers.classPrivateFieldLooseBase(this,k)[k]=a}renderSendButton(e,t,s,a){if(e<=0){throw new Error("Invalid entityId must be greater than 0")}const o=["template","folder"];if(!o.includes(t)){throw new Error(`Invalid entityType must be one of ${o.join(", ")}`)}const l=new BX.UI.Button({text:i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_LAUNCH_SIGNING"),color:BX.UI.Button.Color.SUCCESS,size:BX.UI.Button.Size.SMALL,round:true,disabled:a.isBlocked});const n=l.render();if(a.isNoCompaniesInFolder){n.setAttribute("title",i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_EMPTY_FOLDER"))}else if(a.isTemplateDisabled){n.setAttribute("title",i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_TEMPLATE_DISABLED"))}else if(a.isMultipleCompaniesInFolder){n.setAttribute("title",i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_MULTIPLE_COMPANIES_IN_FOLDER"))}else if(a.isInvisible&&t==="template"){n.setAttribute("title",i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_INVISIBLE_TEMPLATE"))}else if(a.isInvisible&&t==="folder"){n.setAttribute("title",i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_INVISIBLE_FOLDER"))}else if(a.hasAnyInvisibleTemplates){n.setAttribute("title",i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_INVISIBLE_TEMPLATES_IN_FOLDER"))}else if(a.hasNoReadAccess){n.setAttribute("title",i.Loc.getMessage("SIGN_B2E_EMPLOYEE_TEMPLATE_LIST_ACTION_BUTTON_BLOCKED_HINT_NO_READ_ACCESS"))}else{BX.Event.bind(n,"click",(a=>{a.preventDefault();a.stopPropagation();const i=`sign-b2e-templates-settings-${e}-${t}`;BX.SidePanel.Instance.open(i,{width:900,cacheable:false,contentCallback:()=>top.BX.Runtime.loadExtension(["sign.v2.b2e.sign-settings-templates"]).then((a=>{const{B2ETemplatesSignSettings:o}=a;const l=BX.Tag.render(G||(G=R`<div id="sign-b2e-templates-settings-container-${0}-${0}"></div>`),e,t);const n=new o(s,i);n.renderToContainer(l);return l}))})}))}return n}async renderSwitcher(e,t,a,o,l){const n=document.getElementById(`switcher_b2e_template_grid_${e}_${t}`);const c=new s.Switcher({node:n,checked:a,size:s.SwitcherSize.medium,disabled:o,handlers:{toggled:async s=>{s.stopPropagation();c.setLoading(true);const a=c.isChecked();const i=a?"visible":"invisible";try{switch(t){case r.TemplateEntity.template:await babelHelpers.classPrivateFieldLooseBase(this,x)[x](e,i);break;case r.TemplateEntity.folder:await babelHelpers.classPrivateFieldLooseBase(this,V)[V](e,i);break;default:await console.error(`Unknown entity type: ${t}`)}await this.reload()}catch{c.setLoading(false);c.check(!a,false)}finally{babelHelpers.classPrivateFieldLooseBase(this,$)[$](a,e);c.setLoading(false)}}}});if(!o){return}let d="";switch(t){case r.TemplateEntity.template:d=l?i.Loc.getMessage("SIGN_TEMPLATE_BLOCKED_SWITCHER_HINT"):i.Loc.getMessage("SIGN_TEMPLATE_BLOCKED_SWITCHER_HINT_NO_ACCESS");break;case r.TemplateEntity.folder:d=l?i.Loc.getMessage("SIGN_TEMPLATE_FOLDER_BLOCKED_SWITCHER_HINT"):i.Loc.getMessage("SIGN_TEMPLATE_FOLDER_BLOCKED_SWITCHER_HINT_NO_ACCESS");break;default:d="";break}n.setAttribute("title",d)}async createFolder(){try{const e=new E;const t=await e.show();const s=babelHelpers.classPrivateFieldLooseBase(this,j)[j].templateFolder;await s.create(t);window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_SUCCESS")})}catch{window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_FAIL")})}await this.reload()}async renameFolder(e,t){try{const s=new E;const a=await s.show(t);const o=babelHelpers.classPrivateFieldLooseBase(this,j)[j].templateFolder;await o.rename(e,a);window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_RENAME_SUCCESS")})}catch{window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_CREATE_FOLDER_HINT_RENAME_FAIL")})}await this.reload()}reload(){i.Event.ready((()=>{var e;const t=(e=babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]())!=null?e:babelHelpers.classPrivateFieldLooseBase(this,W)[W]();if(i.Type.isObject(t)){t.reload()}}))}reloadAfterSliderClose(){const e=window===top?window:top;e.BX.Event.EventEmitter.subscribe("SidePanel.Slider:onCloseComplete",(async e=>{const t=e.getData()[0].getSlider().getUrl();if(babelHelpers.classPrivateFieldLooseBase(this,q)[q](t)){await this.reload()}}))}async exportBlank(e){try{const{json:t,filename:s}=await babelHelpers.classPrivateFieldLooseBase(this,j)[j].template.exportBlank(e);const a="application/json";babelHelpers.classPrivateFieldLooseBase(this,z)[z](t,s,a);window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_EXPORT_BLANK_SUCCESS")})}catch(e){console.error(e);window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_EXPORT_BLANK_FAILURE")})}}async copyTemplate(e,t){try{const s=await babelHelpers.classPrivateFieldLooseBase(this,j)[j].template.copy(e,t);const a=s.template.id;await this.reload();window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_COPY_HINT_SUCCESS")});if(window.top.BX.SidePanel&&babelHelpers.classPrivateFieldLooseBase(this,X)[X]&&a){window.top.BX.SidePanel.Instance.open(`${babelHelpers.classPrivateFieldLooseBase(this,X)[X]}&templateId=${a}&stepId=changePartner&noRedirect=Y`)}}catch(e){console.error("Error copying template:",e);window.top.BX.UI.Notification.Center.notify({content:i.Loc.getMessage("SIGN_TEMPLATE_GRID_COPY_HINT_FAIL")})}}async delete(e,t){const s=new u;await s.show(t,(async()=>{const s=babelHelpers.classPrivateFieldLooseBase(this,j)[j];switch(t){case r.TemplateEntity.template:await s.template.delete(e);break;case r.TemplateEntity.folder:await s.templateFolder.delete(e);break;default:await console.error(`Unknown entity type: ${t}`)}await this.reload()}))}async deleteSelectedItems(){const e=babelHelpers.classPrivateFieldLooseBase(this,J)[J]();if(e.length>0){const t=new u;await t.show(r.TemplateEntity.multiple,(async()=>{try{await babelHelpers.classPrivateFieldLooseBase(this,j)[j].template.deleteEntities(e);await this.reload()}catch(e){await console.error("Error deleting template entities:",e)}}))}}async moveTemplatesToFolder(e=null){const t=babelHelpers.classPrivateFieldLooseBase(this,J)[J]();if(t.length>0||e!==null){const s=new w;s.subscribe("folderSelected",(e=>{this.selectedFolder=e.getData()}));const o=await s.show();a.MessageBox.show({title:i.Loc.getMessage("SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_TITLE"),message:o,modal:true,minWidth:500,minHeight:370,buttons:[new BX.UI.Button({text:i.Loc.getMessage("SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_OK_BUTTON_TEXT"),color:BX.UI.Button.Color.SUCCESS,onclick:async s=>{if(this.selectedFolder){const a={id:e,entityType:r.TemplateEntity.template};const i=e===null?t:[a];await babelHelpers.classPrivateFieldLooseBase(this,j)[j].template.moveToFolder(i,Number(this.selectedFolder.id));s.getContext().close();await this.reload()}},className:"sign-b2e-grid-templates-popup__move-to-button"}),new BX.UI.Button({text:i.Loc.getMessage("SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_POPUP_CANCEL_BUTTON_TEXT"),color:BX.UI.Button.Color.LINK,onclick:e=>{e.getContext().close()}})]})}}openSliderTemplateFolderContent(e=0){window.event.stopPropagation();if(BX.SidePanel&&BX.SidePanel.Instance){const t=e===0?"employee/templates/folder/":"templates/folder/";const s=new URLSearchParams(window.location.search);const a=e!==0&&s.has("folderId")?`?folderId=${encodeURIComponent(e)}`:`${t}?folderId=${encodeURIComponent(e)}`;BX.SidePanel.Instance.open(a,{width:1650,cacheable:false,allowChangeHistory:true})}}subscribeOnGridEvents(){i.Event.ready((()=>{var e;const t=(e=babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]())!=null?e:babelHelpers.classPrivateFieldLooseBase(this,W)[W]();if(!i.Type.isObject(t)){return}const s=new MutationObserver((()=>babelHelpers.classPrivateFieldLooseBase(this,Q)[Q](t)));s.observe(t.getContainer(),{subtree:true,attributes:true})}))}}function ee(e,t){const s=babelHelpers.classPrivateFieldLooseBase(this,j)[j].template;return s.changeVisibility(e,t)}function te(e,t){const s=babelHelpers.classPrivateFieldLooseBase(this,j)[j].templateFolder;return s.changeVisibility(e,t)}function se(e,t){babelHelpers.classPrivateFieldLooseBase(this,K)[K].send({category:"templates",event:"turn_on_off_template",type:"manual",c_section:"sign",c_sub_section:"templates",c_element:e?"on":"off",p5:`templateid_${t}`})}function ae(){var e,t;return(e=BX.SidePanel.Instance.getTopSlider())==null?void 0:(t=e.getFrameWindow().BX.Main.gridManager.getById(babelHelpers.classPrivateFieldLooseBase(this,U)[U]))==null?void 0:t.instance}function ie(){var e;return(e=BX.Main.gridManager.getById(babelHelpers.classPrivateFieldLooseBase(this,U)[U]))==null?void 0:e.instance}function oe(e){const t=new i.Uri(e);const s=t.getPath();return e===babelHelpers.classPrivateFieldLooseBase(this,X)[X]||e==="sign-settings-template-created"||babelHelpers.classPrivateFieldLooseBase(this,k)[k].some((e=>s.startsWith(new i.Uri(e).getPath())))}function le(e,t,s){const a=new Blob([e],{type:s});const o=window.URL.createObjectURL(a);const l=document.createElement("a");i.Dom.style(l,"display","none");l.href=o;l.download=t;i.Dom.append(l,document.body);l.click();window.URL.revokeObjectURL(o);i.Dom.remove(l)}function ne(){const e=[];const t=document.querySelectorAll('input[type="checkbox"]:checked');t.forEach((t=>{const s=t.value;if(Number.isInteger(Number(s))){const a=t.closest("tr");const i=a?a.querySelector(".sign-template-title, .sign-template-title-without-link"):null;const o=i?i.getAttribute("data-entity-type"):null;e.push({id:s,entityType:o})}}));return e}function re(e){var t,s;const a=e.getRows().getRows();const o=e=>{var t;const s=H(e);if(i.Type.isNull(s)){return true}const a=(t=e.getCheckbox())==null?void 0:t.checked;const o=s.isFolderEntityType()||s.isInitiatedByTypeisEmployee()||!s.canEditAccess();return o&&a};const l=parseInt((t=(s=document.querySelector('[data-role="action-panel-total-param"]'))==null?void 0:s.textContent)!=null?t:"0",10);const r={id:"sign-template-list-move-to-folder-button",disabled:false,title:i.Loc.getMessage("SIGN_TEMPLATE_GRID_MOVE_TO_FOLDER_GROUP_ACTION_BUTTON_DISABLED_HINT")};const c=a.slice(2);r.disabled=c.some((e=>o(e)));d(r);const E=e=>{var t;const s=H(e);if(i.Type.isNull(s)){return true}const a=(t=e.getCheckbox())==null?void 0:t.checked;return!s.canDeleteAccess()&&a};const _={id:"sign-template-list-delete-button",disabled:false,title:n.FeatureStorage.isTemplateFolderGroupingAllowed()?i.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_GROUP_ACTION_BUTTON_DISABLED_HINT"):i.Loc.getMessage("SIGN_TEMPLATE_GRID_DELETE_TEMPLATES_GROUP_ACTION_BUTTON_DISABLED_HINT")};if(l<=1){d(r);return}_.disabled=c.some((e=>E(e)));d(_)}e.Templates=Z})(this.BX.Sign.V2.Grid.B2e=this.BX.Sign.V2.Grid.B2e||{},BX.Sign.V2,BX.UI,BX.UI.Dialogs,BX,BX.Event,BX.Sign.V2,BX.Sign,BX.Sign);
//# sourceMappingURL=index.bundle.map.js