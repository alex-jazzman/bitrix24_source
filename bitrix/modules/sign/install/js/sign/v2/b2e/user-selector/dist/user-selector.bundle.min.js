this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};(function(e,s,t,l){"use strict";const i=Object.freeze({onShow:"onShow",onHide:"onHide",onItemSelect:"onItemSelect",onItemDeselect:"onItemDeselect"});var a=babelHelpers.classPrivateFieldLooseKey("container");var r=babelHelpers.classPrivateFieldLooseKey("dialog");var o=babelHelpers.classPrivateFieldLooseKey("isRoleEnabled");var c=babelHelpers.classPrivateFieldLooseKey("cacheable");var n=babelHelpers.classPrivateFieldLooseKey("excludedEntityList");var b=babelHelpers.classPrivateFieldLooseKey("options");var d=babelHelpers.classPrivateFieldLooseKey("preselectedEntityList");var p=babelHelpers.classPrivateFieldLooseKey("createDialog");var v=babelHelpers.classPrivateFieldLooseKey("getEntities");var h=babelHelpers.classPrivateFieldLooseKey("getExcludedIdListByEntityType");class u extends s.EventEmitter{constructor(e){var s,t,l;super();Object.defineProperty(this,h,{value:y});Object.defineProperty(this,v,{value:P});Object.defineProperty(this,p,{value:L});Object.defineProperty(this,a,{writable:true,value:null});Object.defineProperty(this,r,{writable:true,value:null});Object.defineProperty(this,o,{writable:true,value:false});Object.defineProperty(this,c,{writable:true,value:true});Object.defineProperty(this,n,{writable:true,value:[]});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:[]});this.setEventNamespace("BX.Sign.V2.B2e.UserSelector");babelHelpers.classPrivateFieldLooseBase(this,b)[b]=e;babelHelpers.classPrivateFieldLooseBase(this,o)[o]=(s=e.roleEnabled)!=null?s:false;babelHelpers.classPrivateFieldLooseBase(this,n)[n]=(t=e.excludedEntityList)!=null?t:[];babelHelpers.classPrivateFieldLooseBase(this,c)[c]=(l=e.cacheable)!=null?l:true;babelHelpers.classPrivateFieldLooseBase(this,r)[r]=babelHelpers.classPrivateFieldLooseBase(this,p)[p]()}setExcludedEntityList(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e}setPreselectedEntityList(e){babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e}toggle(){this.getDialog().show()}getDialog(){if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]===false){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=babelHelpers.classPrivateFieldLooseBase(this,p)[p]()}return babelHelpers.classPrivateFieldLooseBase(this,r)[r]}}function L(){var e,s,o;const n=babelHelpers.classPrivateFieldLooseBase(this,d)[d].length>0?babelHelpers.classPrivateFieldLooseBase(this,d)[d].map((e=>[e.type,e.id])):(e=babelHelpers.classPrivateFieldLooseBase(this,b)[b].preselectedIds)==null?void 0:e.map((e=>[l.EntityType.USER,e]));return new t.Dialog({cacheable:babelHelpers.classPrivateFieldLooseBase(this,c)[c],width:425,height:363,multiple:(s=babelHelpers.classPrivateFieldLooseBase(this,b)[b].multiple)!=null?s:true,targetNode:babelHelpers.classPrivateFieldLooseBase(this,a)[a],context:(o=babelHelpers.classPrivateFieldLooseBase(this,b)[b].context)!=null?o:"sign_b2e_user_selector",entities:babelHelpers.classPrivateFieldLooseBase(this,v)[v](),dropdownMode:false,enableSearch:true,preselectedItems:n,hideOnDeselect:true,events:{onHide:e=>this.emit(i.onHide,{items:babelHelpers.classPrivateFieldLooseBase(this,r)[r].getSelectedItems()}),"Item:onSelect":e=>this.emit(i.onItemSelect,{items:babelHelpers.classPrivateFieldLooseBase(this,r)[r].getSelectedItems()}),"Item:onDeselect":e=>this.emit(i.onItemSelect,{items:babelHelpers.classPrivateFieldLooseBase(this,r)[r].getSelectedItems()})}})}function P(){const e=[{id:l.EntityType.USER,options:{intranetUsersOnly:true,"!userId":babelHelpers.classPrivateFieldLooseBase(this,h)[h](l.EntityType.USER)},dynamicLoad:true}];if(babelHelpers.classPrivateFieldLooseBase(this,o)[o]){e.push({id:l.EntityType.STRUCTURE_NODE_ROLE,options:{excludedRoleIdList:babelHelpers.classPrivateFieldLooseBase(this,h)[h](l.EntityType.STRUCTURE_NODE_ROLE)},dynamicLoad:true,dynamicSearch:true})}return e}function y(e){const s=babelHelpers.classPrivateFieldLooseBase(this,n)[n].filter((s=>s.entityType===e));return s.map((e=>e.entityId))}e.UserSelectorEvent=i;e.UserSelector=u})(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX.Event,BX.UI.EntitySelector,BX.Sign);
//# sourceMappingURL=user-selector.bundle.map.js