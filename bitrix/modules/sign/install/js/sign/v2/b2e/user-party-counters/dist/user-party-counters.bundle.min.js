this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};(function(e,s,t,i,a){"use strict";let l=e=>e,r,o,n,c;var b=babelHelpers.classPrivateFieldLooseKey("userCountersLimit");var u=babelHelpers.classPrivateFieldLooseKey("container");var p=babelHelpers.classPrivateFieldLooseKey("counterNode");var d=babelHelpers.classPrivateFieldLooseKey("isShowLimitPopup");var v=babelHelpers.classPrivateFieldLooseKey("incrementTariffLinkContainer");var P=babelHelpers.classPrivateFieldLooseKey("guide");var f=babelHelpers.classPrivateFieldLooseKey("getIcon");var h=babelHelpers.classPrivateFieldLooseKey("getLimitContainer");var L=babelHelpers.classPrivateFieldLooseKey("adjustPopupWithCenterAngle");var g=babelHelpers.classPrivateFieldLooseKey("getContainerForIncrementTariff");class B{constructor(e){Object.defineProperty(this,g,{value:y});Object.defineProperty(this,L,{value:F});Object.defineProperty(this,h,{value:_});Object.defineProperty(this,f,{value:H});Object.defineProperty(this,b,{writable:true,value:null});Object.defineProperty(this,u,{writable:true,value:null});Object.defineProperty(this,p,{writable:true,value:null});Object.defineProperty(this,d,{writable:true,value:false});Object.defineProperty(this,v,{writable:true,value:null});Object.defineProperty(this,P,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,b)[b]=e.userCountersLimit;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=s.Tag.render(r||(r=l`<span class="sign-b2e-settings__user-party-counter-select">0</span>`));babelHelpers.classPrivateFieldLooseBase(this,u)[u]=s.Tag.render(o||(o=l`
			<div class="sign-b2e-settings__user-party-counter">
				${0}
				<div class="sign-b2e-settings__user-party-counter_limit-block">
					${0}
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,f)[f]().render(),babelHelpers.classPrivateFieldLooseBase(this,p)[p],babelHelpers.classPrivateFieldLooseBase(this,h)[h]())}getLayout(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]}getCount(){return Number(babelHelpers.classPrivateFieldLooseBase(this,p)[p].textContent)}update(e){babelHelpers.classPrivateFieldLooseBase(this,p)[p].textContent=e;if(!s.Type.isNumber(babelHelpers.classPrivateFieldLooseBase(this,b)[b])){return}if(e>babelHelpers.classPrivateFieldLooseBase(this,b)[b]){if(!s.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,u)[u],"--alert")){if(!babelHelpers.classPrivateFieldLooseBase(this,v)[v]){s.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,g)[g](),babelHelpers.classPrivateFieldLooseBase(this,u)[u])}s.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,u)[u],"--alert")}if(!babelHelpers.classPrivateFieldLooseBase(this,d)[d]){const e=new a.Guide({id:"sign-b2e-tariff-limit-user-party-counter-tour",onEvents:true,autoSave:false,adjustPopupPosition:babelHelpers.classPrivateFieldLooseBase(this,L)[L].bind(this),steps:[{target:babelHelpers.classPrivateFieldLooseBase(this,u)[u],title:s.Loc.getMessage("SIGN_V2_B2E_USER_PARTY_COUNTER_LIMIT_TITLE"),text:s.Loc.getMessage("SIGN_V2_B2E_USER_PARTY_COUNTER_LIMIT_MESSAGE"),condition:{top:true,bottom:false,color:"primary"},link:"javascript:void(0);"}],popupOptions:{width:450,autoHide:false}});e.getLink().setAttribute("onclick","BX.PreventDefault();top.BX.UI.InfoHelper.show('limit_office_e_signature');");e.start();babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=true}}else{s.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,u)[u],"--alert")}}closeGuide(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,P)[P])==null?void 0:e.close()}}function H(){return new t.Icon({icon:t.Main.PERSONS_2,size:18,color:getComputedStyle(document.body).getPropertyValue("--ui-color-palette-gray-60")})}function _(){if(!babelHelpers.classPrivateFieldLooseBase(this,b)[b]){return null}return s.Tag.render(n||(n=l`<span class="sign-b2e-settings__user-party-counter-limit">/ ${0}</span>`),Number(babelHelpers.classPrivateFieldLooseBase(this,b)[b]))}function F(e){const s=e.getWidth();const{left:t}=babelHelpers.classPrivateFieldLooseBase(this,u)[u].getBoundingClientRect();const a=t+babelHelpers.classPrivateFieldLooseBase(this,u)[u].offsetWidth/2;const l=t+e.getPopupContainer().offsetWidth/2;const r=i.Popup.getOption("angleLeftOffset")+a-l;e.setOffset({offsetLeft:r});e.adjustPosition();const{angleArrowElement:o}=e;e.setAngle({offset:(s-o.parentElement.offsetWidth)/2})}function y(){const e=new t.Icon({icon:t.Actions.CHEVRON_RIGHT,size:18,color:getComputedStyle(document.body).getPropertyValue("--ui-color-link-primary-base")});babelHelpers.classPrivateFieldLooseBase(this,v)[v]=s.Tag.render(c||(c=l`
			<a class="sign-b2e-settings__user-party-counter-increment-tariff" href="javascript:void(0);" onclick="BX.PreventDefault();top.BX.UI.InfoHelper.show('limit_office_e_signature');">
				 -
				 <div class="sign-b2e-settings__user-party-counter-increment-tariff_text">
					${0}
				 </div>
				 ${0}
			</a>
		`),s.Loc.getMessage("SIGN_V2_B2E_USER_PARTY_COUNTER_LIMIT_INCREMENT_TARIFF"),e.render());return babelHelpers.classPrivateFieldLooseBase(this,v)[v]}e.UserPartyCounters=B})(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX,BX.UI.IconSet,BX.Main,BX.Sign.Tour);
//# sourceMappingURL=user-party-counters.bundle.map.js