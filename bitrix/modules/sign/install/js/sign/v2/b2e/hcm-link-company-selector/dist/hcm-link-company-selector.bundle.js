this.BX=this.BX||{},this.BX.Sign=this.BX.Sign||{},this.BX.Sign.V2=this.BX.Sign.V2||{},function(e,s,l,i,a,t,o){"use strict";let r,n,b,c,d,v,p,h,L=e=>e;var P=babelHelpers.classPrivateFieldLooseKey("isAvailable"),B=babelHelpers.classPrivateFieldLooseKey("companyId"),H=babelHelpers.classPrivateFieldLooseKey("selectedId"),u=babelHelpers.classPrivateFieldLooseKey("lastSavedId"),F=babelHelpers.classPrivateFieldLooseKey("dialog"),m=babelHelpers.classPrivateFieldLooseKey("loader"),y=babelHelpers.classPrivateFieldLooseKey("api"),g=babelHelpers.classPrivateFieldLooseKey("ui"),f=babelHelpers.classPrivateFieldLooseKey("integrationList"),_=babelHelpers.classPrivateFieldLooseKey("select"),T=babelHelpers.classPrivateFieldLooseKey("deselect"),E=babelHelpers.classPrivateFieldLooseKey("getCompanyById"),I=babelHelpers.classPrivateFieldLooseKey("showDialog"),O=babelHelpers.classPrivateFieldLooseKey("getDialog"),S=babelHelpers.classPrivateFieldLooseKey("getLoader"),N=babelHelpers.classPrivateFieldLooseKey("showLoader"),w=babelHelpers.classPrivateFieldLooseKey("showIntegrationMarketSlider"),C=babelHelpers.classPrivateFieldLooseKey("setIntegrationTitle");class X extends l.EventEmitter{constructor(){super(),Object.defineProperty(this,C,{value:G}),Object.defineProperty(this,w,{value:A}),Object.defineProperty(this,N,{value:D}),Object.defineProperty(this,S,{value:$}),Object.defineProperty(this,O,{value:x}),Object.defineProperty(this,I,{value:K}),Object.defineProperty(this,E,{value:j}),Object.defineProperty(this,T,{value:M}),Object.defineProperty(this,_,{value:k}),Object.defineProperty(this,P,{writable:!0,value:!1}),Object.defineProperty(this,B,{writable:!0,value:null}),Object.defineProperty(this,H,{writable:!0,value:null}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,F,{writable:!0,value:null}),Object.defineProperty(this,m,{writable:!0,value:null}),this.isLayoutExisted=!1,Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:{container:HTMLDivElement=null,active:HTMLButtonElement=null,inactive:HTMLButtonElement=null,unselect:HTMLButtonElement=null,dropdownButton:HTMLSpanElement=null,loaderContainer:HTMLElement=null,info:{title:HTMLSpanElement=null,subtitle:HTMLDivElement=null}}}),Object.defineProperty(this,f,{writable:!0,value:[]}),babelHelpers.classPrivateFieldLooseBase(this,y)[y]=new a.Api,this.setEventNamespace("sign.v2.b2e.hcm-link-company-selector")}setAvailability(e){babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e}setCompanyId(e){(babelHelpers.classPrivateFieldLooseBase(this,P)[P]||this.isLayoutExisted)&&(babelHelpers.classPrivateFieldLooseBase(this,B)[B]===e&&this.isLayoutExisted||(babelHelpers.classPrivateFieldLooseBase(this,B)[B]=e,babelHelpers.classPrivateFieldLooseBase(this,H)[H]=null,babelHelpers.classPrivateFieldLooseBase(this,F)[F]=null,babelHelpers.classPrivateFieldLooseBase(this,B)[B]?(babelHelpers.classPrivateFieldLooseBase(this,N)[N](),babelHelpers.classPrivateFieldLooseBase(this,y)[y].checkCompanyHrIntegration(babelHelpers.classPrivateFieldLooseBase(this,B)[B]).then(e=>{if(babelHelpers.classPrivateFieldLooseBase(this,S)[S]().destroy(),e.length<=0)return void(babelHelpers.classPrivateFieldLooseBase(this,g)[g].inactive.style.display="flex");if(babelHelpers.classPrivateFieldLooseBase(this,f)[f]=e,null===babelHelpers.classPrivateFieldLooseBase(this,u)[u])return babelHelpers.classPrivateFieldLooseBase(this,u)[u]=void 0,void(babelHelpers.classPrivateFieldLooseBase(this,g)[g].unselect.style.display="flex");let s=e[0];var l;babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&(s=null!=(l=babelHelpers.classPrivateFieldLooseBase(this,f)[f].find(e=>e.id===babelHelpers.classPrivateFieldLooseBase(this,u)[u]))?l:e[0]);babelHelpers.classPrivateFieldLooseBase(this,_)[_](s),babelHelpers.classPrivateFieldLooseBase(this,g)[g].active.style.display="flex"})):this.hide()))}setLastSavedId(e){babelHelpers.classPrivateFieldLooseBase(this,u)[u]=e}getSelectedId(){return babelHelpers.classPrivateFieldLooseBase(this,H)[H]}hide(){var e;babelHelpers.classPrivateFieldLooseBase(this,P)[P]&&babelHelpers.classPrivateFieldLooseBase(this,g)[g].container&&(BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].container),null==(e=babelHelpers.classPrivateFieldLooseBase(this,F)[F])||e.hide())}show(){(babelHelpers.classPrivateFieldLooseBase(this,P)[P]||this.isLayoutExisted)&&s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,g)[g].container,{display:"flex"})}render(){return babelHelpers.classPrivateFieldLooseBase(this,g)[g].container||(babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.title=s.Tag.render(r||(r=L`
			<span class="sign-document-b2e-company__hcmlink-select-text"></span>
		`)),babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.subtitle=s.Tag.render(n||(n=L`
			<div class="sign-document-b2e-company__hcmlink-select-subtitle"></div>
		`)),babelHelpers.classPrivateFieldLooseBase(this,g)[g].active=s.Tag.render(b||(b=L`
			<div class="sign-document-b2e-company__hcmlink-select --active" data-companies="[]">
				<div class="sign-document-b2e-company__hcmlink-name-container">
					<div class="sign-document-b2e-company__hcmlink-select-header">
						${0}
						<span class="sign-document-b2e-company-info-dropdown-btn"
							onclick="${0}"></span>
						${0}
					</div>
					${0}	
				</div>		
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.title,()=>{babelHelpers.classPrivateFieldLooseBase(this,I)[I]()},babelHelpers.classPrivateFieldLooseBase(this,g)[g].dropdownButton,babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.subtitle),babelHelpers.classPrivateFieldLooseBase(this,g)[g].unselect=s.Tag.render(c||(c=L`
			<div class="sign-document-b2e-company__hcmlink-select --inactive">
				<div class="sign-document-b2e-company__hcmlink-name-container">
					<span class="sign-document-b2e-company__hcmlink-select-text">
						${0}
					</span>
				</div>
				<button class="ui-btn ui-btn-xs ui-btn-round ui-btn-light-border"
					onclick="${0}">
					${0}
				</button>
			</div>
		`),s.Loc.getMessage("SIGN_B2E_INTEGRATION_INTEGRATION_UNSELECTED"),()=>babelHelpers.classPrivateFieldLooseBase(this,I)[I](),s.Loc.getMessage("SIGN_B2E_COMPANIES_SELECT_BUTTON")),babelHelpers.classPrivateFieldLooseBase(this,g)[g].inactive=s.Tag.render(d||(d=L`
			<div class="sign-document-b2e-company__hcmlink-select --inactive">
				<div class="sign-document-b2e-company__hcmlink-name-container">
					<span class="sign-document-b2e-company__hcmlink-select-text">
						${0}
					</span>
				</div>
				<button class="ui-btn ui-btn-xs ui-btn-round ui-btn-light-border"
					onclick="${0}">
					${0}
				</button>
			</div>
		`),s.Loc.getMessage("SIGN_B2E_COMPANY_INTEGRATION_TITLE"),()=>babelHelpers.classPrivateFieldLooseBase(this,w)[w](),s.Loc.getMessage("SIGN_B2E_COMPANY_INTEGRATION_BUTTON_CONNECT")),babelHelpers.classPrivateFieldLooseBase(this,g)[g].loaderContainer=s.Tag.render(v||(v=L`
			<div class="sign-document-b2e-company__hcmlink-loader"><div>
		`)),babelHelpers.classPrivateFieldLooseBase(this,g)[g].icon=s.Tag.render(p||(p=L`<div class="sign-document-b2e-company__hcmlink-info-img"></div>`)),babelHelpers.classPrivateFieldLooseBase(this,g)[g].container=s.Tag.render(h||(h=L`
			<div class="sign-document-b2e-company__hcmlink">
				${0}
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,g)[g].icon,babelHelpers.classPrivateFieldLooseBase(this,g)[g].loaderContainer,babelHelpers.classPrivateFieldLooseBase(this,g)[g].active,babelHelpers.classPrivateFieldLooseBase(this,g)[g].inactive,babelHelpers.classPrivateFieldLooseBase(this,g)[g].unselect),this.hide()),babelHelpers.classPrivateFieldLooseBase(this,g)[g].container}}function k(e){var l,i,a;babelHelpers.classPrivateFieldLooseBase(this,H)[H]=null!=(l=null==e?void 0:e.id)?l:null,BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].unselect),BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].inactive),babelHelpers.classPrivateFieldLooseBase(this,g)[g].active.style.display="flex",babelHelpers.classPrivateFieldLooseBase(this,C)[C](babelHelpers.classPrivateFieldLooseBase(this,H)[H]),s.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,g)[g].icon,"--active"),this.emit("selected",{id:babelHelpers.classPrivateFieldLooseBase(this,H)[H],availableSettings:null!=(i=null==(a=babelHelpers.classPrivateFieldLooseBase(this,E)[E](babelHelpers.classPrivateFieldLooseBase(this,H)[H]))?void 0:a.availableSettings)?i:{}})}function M(e){s.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,g)[g].icon,"--active"),babelHelpers.classPrivateFieldLooseBase(this,H)[H]=null,BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].active),BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].inactive),babelHelpers.classPrivateFieldLooseBase(this,g)[g].unselect.style.display="flex",this.emit("selected",{id:babelHelpers.classPrivateFieldLooseBase(this,H)[H],availableSettings:{}})}function j(e){return babelHelpers.classPrivateFieldLooseBase(this,f)[f].find(s=>s.id===e)}function K(){var e;null==(e=babelHelpers.classPrivateFieldLooseBase(this,O)[O]())||e.show()}function x(){if(babelHelpers.classPrivateFieldLooseBase(this,F)[F])return babelHelpers.classPrivateFieldLooseBase(this,F)[F];const e=babelHelpers.classPrivateFieldLooseBase(this,f)[f].map(e=>({id:e.id,entityId:"hrm-integration",title:e.title,subtitle:e.subtitle,tabs:"hrm-integrations"}));if(babelHelpers.classPrivateFieldLooseBase(this,F)[F]=new i.Dialog({targetNode:babelHelpers.classPrivateFieldLooseBase(this,g)[g].container,width:425,height:363,items:e,tabs:[{id:"hrm-integrations",title:s.Loc.getMessage("SIGN_B2E_INTEGRATION_TAB")}],showAvatars:!1,dropdownMode:!0,multiple:!1,enableSearch:!0,events:{"Item:OnSelect":e=>{babelHelpers.classPrivateFieldLooseBase(this,_)[_](e.data.item)},"Item:OnDeselect":e=>{babelHelpers.classPrivateFieldLooseBase(this,T)[T](e.data.item)}},hideOnSelect:!0,hideOnDeselect:!0}),babelHelpers.classPrivateFieldLooseBase(this,H)[H]){const e=babelHelpers.classPrivateFieldLooseBase(this,F)[F].getItems().find(e=>e.id===babelHelpers.classPrivateFieldLooseBase(this,H)[H]);null==e||e.select()}return babelHelpers.classPrivateFieldLooseBase(this,F)[F]}function $(){return babelHelpers.classPrivateFieldLooseBase(this,m)[m]||(babelHelpers.classPrivateFieldLooseBase(this,m)[m]=new BX.Loader({target:babelHelpers.classPrivateFieldLooseBase(this,g)[g].container,mode:"inline",size:40})),babelHelpers.classPrivateFieldLooseBase(this,m)[m]}function D(){BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].active),BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].inactive),BX.hide(babelHelpers.classPrivateFieldLooseBase(this,g)[g].unselect),babelHelpers.classPrivateFieldLooseBase(this,S)[S]().show(babelHelpers.classPrivateFieldLooseBase(this,g)[g].loaderContainer),babelHelpers.classPrivateFieldLooseBase(this,g)[g].container.style.display="flex",s.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,g)[g].icon,"--active")}function A(){o.CompanyConnectPage.openSlider({},{onCloseHandler:()=>this.setCompanyId(babelHelpers.classPrivateFieldLooseBase(this,B)[B])})}function G(e){if(s.Type.isNumber(e)){const t=babelHelpers.classPrivateFieldLooseBase(this,f)[f].find(s=>s.id===e);var l,i,a;if(t&&s.Type.isDomNode(babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.title)&&s.Type.isDomNode(babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.subtitle))babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.title.innerHTML=null!=(l=null==t?void 0:t.title)?l:"",babelHelpers.classPrivateFieldLooseBase(this,g)[g].info.subtitle.innerHTML=null!=(i=null==t||null==(a=t.subtitle)?void 0:a.toUpperCase())?i:""}}e.HcmLinkCompanySelector=X}(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX,BX.Event,BX.UI.EntitySelector,BX.Sign.V2,BX,BX.Humanresources.Hcmlink);
//# sourceMappingURL=hcm-link-company-selector.bundle.js.map
