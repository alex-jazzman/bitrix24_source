this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};this.BX.Sign.V2=this.BX.Sign.V2||{};(function(t,e,i,n,s,l,o){"use strict";const a={methods:{loc(t,e){return this.$Bitrix.Loc.getMessage(t,e)}}};const d={name:"RoundedSmallSelectedItemView",components:{BIcon:o.BIcon},props:{title:{type:String,required:false,default:""}},computed:{set:()=>o.Set},template:`\n\t\t<div class="sign-v2-b2e-vue-util-sign-selector__rounded-small-selected-item-view">\n\t\t\t<div class="sign-b2e-vue-util-sign-selector__rounded-small-selected-item-view__text">\n\t\t\t\t{{ title }}\n\t\t\t</div>\n\t\t\t<BIcon\n\t\t\t\tstyle="margin-left: 6px; margin-right: 5px;"\n\t\t\t\tcolor="#525C69"\n\t\t\t\t:name="set.CHEVRON_DOWN"\n\t\t\t\t:size="14"\n\t\t\t/>\n\t\t</div>\n\t`};const r={name:"DateSelector",components:{RoundedSmallSelectedItemView:d},props:{value:{type:Date,required:true},showTime:{type:Boolean,default:false}},emits:["onSelect"],computed:{formattedDate(){const t=this.formatDate(this.value,"DAY_MONTH_FORMAT");const e=this.formatDate(this.value,"SHORT_TIME_FORMAT");return this.showTime?`${t}, ${e}`:t}},created(){this.datePicker=new i.DatePicker({selectionMode:"single",selectedDates:[this.value],...this.showTime&&{enableTime:true}});this.datePicker.subscribe(i.DatePickerEvent.SELECT,(({data:t})=>{this.selectDate(t.date)}))},mounted(){this.datePicker.getPopup().setBindElement(this.$refs.target)},unmounted(){this.datePicker.hide();this.datePicker.destroy()},methods:{openPicker(){this.datePicker.show()},selectDate(t){this.$emit("onSelect",t)},formatDate(t,i){const n=e.DateTimeFormat.getFormat(i);return e.DateTimeFormat.format(n,t)}},template:`\n\t\t<div\n\t\t\tclass="sign-b2e-vue-util-date-selector"\n\t\t\tref="target"\n\t\t\t@click="openPicker"\n\t\t>\n\t\t\t<RoundedSmallSelectedItemView\n\t\t\t\t:title="formattedDate"\n\t\t\t/>\n\t\t</div>\n\t`};const c={name:"Notice",template:`\n\t\t<div class="sign-b2e-vue-util-notice">\n\t\t\t<div class="sign-b2e-vue-util-notice__content">\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t</div>\n\t`};const m={name:"SignDropdownComponent",props:{tabs:{type:Array,required:true,default:()=>[]},entities:{type:Array,required:true,default:()=>[]},items:{type:Array,required:true,default:()=>[]},isEnableSearch:{type:Boolean,required:false,default:false},isWithCaption:{type:Boolean,required:false,default:false},className:{type:String,required:false,default:"sign-b2e-document-setup__type-selector"},selectedId:{required:false,default:null}},emits:["onSelected"],watch:{items(t){this.setItems(t)},selectedId(t){if(this.dropdown.getSelectedId()!==t){this.dropdown.selectItem(t)}}},created(){this.dropdown=new n.SignDropdown({tabs:this.tabs,entities:this.entities,className:this.className,withCaption:this.isWithCaption,isEnableSearch:this.isEnableSearch});this.setItems(this.items)},mounted(){this.dropdown.subscribe("onSelect",(t=>this.onSelected(t.data.item)));const t=this.$refs.wrapper;if(t){s.Dom.append(this.dropdown.getLayout(),t)}},methods:{setItems(t){const e=this.dropdown;e.removeItems();const i=t.filter((t=>s.Type.isPlainObject(t)&&s.Type.isStringFilled(String(t.id))&&s.Type.isStringFilled(t.title)));i.forEach((t=>{const{id:i,title:n,caption:s,entityId:l,tabId:o}=t;e.addItem({id:i,title:n,caption:s,entityId:l,tabs:o,deselectable:false})}));if(this.selectedId){e.selectItem(this.selectedId)}},onSelected(t){this.$emit("onSelected",t)}},template:`\n\t\t<div class="sign-b2e-sign-dropdown-wrapper" ref="wrapper"></div>\n\t`};const u={name:"BaseSelectedItemView",components:{BIcon:o.BIcon},props:{title:{type:String,required:false,default:""}},computed:{set:()=>o.Set},template:`\n\t\t<div class="sign-v2-b2e-vue-util-sign-selector__selected-item-view">\n\t\t\t<div class="sign-b2e-vue-util-sign-selector__selected-item-view__text">\n\t\t\t\t{{ title }}\n\t\t\t</div>\n\t\t\t<BIcon\n\t\t\t\tstyle="margin-left: auto; margin-right: 10px;"\n\t\t\t\t:name="set.CHEVRON_DOWN"\n\t\t\t\t:size="20"\n\t\t\t/>\n\t\t</div>\n\t`};const p={name:"BaseMenuItem",components:{BIcon:o.BIcon},props:{title:{type:String,required:true},selected:{type:Boolean,required:false}},computed:{set:()=>o.Set},template:`\n\t\t<div class="sign-b2e-vue-util-sign-selector__menu-item">\n\t\t\t<div class="sign-b2e-vue-util-sign-selector__menu-item__title">\n\t\t\t\t{{ title }}\n\t\t\t</div>\n\t\t\t<BIcon v-if="selected"\n\t\t\t\tstyle="margin-left: auto; margin-right: 16px"\n\t\t\t\t:name="set.CHECK"\n\t\t\t\t:size="18"\n\t\t\t\tcolor="#2066B0"\n\t\t\t/>\n\t\t</div>\n\t`};const h={name:"SignSelector",components:{BaseSelectedItemView:u,RichMenuPopup:l.RichMenuPopup,BaseMenuItem:p},props:{items:{type:Array,required:true},selectedId:{required:true}},emits:["onSelect"],data(){return{isMenuShow:false}},computed:{selectedItemTitle(){var t,e;return(t=(e=this.items.find((t=>t.id===this.selectedId)))==null?void 0:e.title)!=null?t:""},popupOptions(){return{bindElement:this.$refs.selector,maxWidth:400,width:290}}},methods:{select(t){this.$emit("onSelect",t);this.isMenuShow=false}},template:`\n\t\t<div class="sign-b2e-vue-util-sign-selector"\n\t\t\t ref="selector"\n\t\t\t @click="isMenuShow = true"\n\t\t>\n\t\t\t<slot :title="selectedItemTitle">\n\t\t\t\t<BaseSelectedItemView\n\t\t\t\t\t:title="selectedItemTitle"\n\t\t\t\t/>\n\t\t\t</slot>\n\t\t\t<RichMenuPopup\n\t\t\t\tv-if="isMenuShow"\n\t\t\t\tclass="sign-b2e-vue-util-sign-selector-container"\n\t\t\t\t:popupOptions="popupOptions"\n\t\t\t\t@close="isMenuShow = false"\n\t\t\t>\n\t\t\t\t<template v-for="item in items">\n\t\t\t\t\t<BaseMenuItem\n\t\t\t\t\t\t:title="item.title"\n\t\t\t\t\t\t:selected="selectedId === item.id"\n\t\t\t\t\t\t@click="select(item.id)"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</RichMenuPopup>\n\t\t</div>\n\t`};t.LocMixin=a;t.DateSelector=r;t.Notice=c;t.SignDropdownComponent=m;t.SignSelector=h;t.RoundedSmallSelectedItemView=d})(this.BX.Sign.V2.B2e=this.BX.Sign.V2.B2e||{},BX.Main,BX.UI.DatePicker,BX.Sign.V2.B2e,BX,BX.UI.Vue3.Components,BX.UI.IconSet);
//# sourceMappingURL=vue-util.bundle.map.js