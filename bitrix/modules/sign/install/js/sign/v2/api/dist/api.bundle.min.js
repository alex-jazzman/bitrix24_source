this.BX=this.BX||{};this.BX.Sign=this.BX.Sign||{};(function(e,t,i,s,a,n){"use strict";async function r(e,a,n,r=true){const l={method:e};if(e==="POST"){Object.assign(l,{data:n},{preparePost:false,headers:[{name:"Content-Type",value:"application/json"}]})}try{var o;const e=await t.ajax.runAction(a,l);if(((o=e.errors)==null?void 0:o.length)>0){throw new Error(e.errors[0].message)}return e.data}catch(e){var d,c,u,m;if(!r){return e}const{message:n=`Error in ${a}`,errors:l=[]}=e;const o=(d=(c=l[0])==null?void 0:c.code)!=null?d:"";if(o==="SIGN_CLIENT_CONNECTION_ERROR"){const i=new s.StubNotAvailable({title:t.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_TITLE"),desc:t.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_DESC"),type:s.StubType.noConnection,link:{text:t.Loc.getMessage("SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_LINK_TEXT"),value:"18740976",type:s.StubLinkType.helpdesk}});i.openSlider();throw e}if(o==="LICENSE_LIMITATIONS"){top.BX.UI.InfoHelper.show("limit_office_e_signature_box");throw e}if(o==="SIGN_DOCUMENT_INCORRECT_STATUS"){const i=new s.StubNotAvailable({title:t.Loc.getMessage("SIGN_DOCUMENT_INCORRECT_STATUS_STUB_TITLE"),desc:t.Loc.getMessage("SIGN_DOCUMENT_INCORRECT_STATUS_STUB_DESC"),type:s.StubType.notAvailable});i.openSlider();const a=BX.SidePanel.Instance.getTopSlider();const n=e=>{if(a!==e.getSlider()){return}window.top.BX.removeCustomEvent(a.getWindow(),"SidePanel.Slider:onClose",n);const t=window.top.BX.SidePanel.Instance.getOpenSliders();for(let e=t.length-2;e>=0;e--){if(t[e].getUrl().startsWith("/sign/doc/")){t[e].close();return}}};window.top.BX.addCustomEvent(a.getWindow(),"SidePanel.Slider:onClose",n);throw e}if(o==="B2E_RESTRICTED_ON_TARIFF"||o==="B2E_SIGNERS_LIMIT_REACHED_ON_TARIFF"){top.BX.UI.InfoHelper.show("limit_office_e_signature");throw e}const p=(u=(m=l[0])==null?void 0:m.message)!=null?u:n;i.UI.Notification.Center.notify({content:t.Text.encode(p),autoHideDelay:4e3});throw e}}function l(e,t=null,i=true){return r("POST",e,t,i)}class o{getList(){return l("sign.api_v1.b2e.document.template.list")}completeTemplate(e,t){return l("sign.api_v1.b2e.document.template.complete",{uid:e,folderId:t})}send(e,t,i=false){return l("sign.api_v1.b2e.document.template.send",{uid:e,fields:t,isOnboarding:i})}getFields(e){return l("sign.api_v1.b2e.document.template.getFields",{uid:e})}exportBlank(e){return l("sign.api_v1.b2e.document.template.export",{templateId:e},true)}importBlank(e){return l("sign.api_v1.b2e.document.template.import",{serializedTemplate:e},true)}changeVisibility(e,t){return l("sign.api_v1.b2e.document.template.changeVisibility",{templateId:e,visibility:t})}copy(e,t){return l("sign.api_v1.b2e.document.template.copy",{templateId:e,folderId:t})}moveToFolder(e,t){return l("sign.api_v1.b2e.document.template.moveToFolder",{entities:e,folderId:t})}delete(e){return l("sign.api_v1.b2e.document.template.delete",{templateId:e})}deleteEntities(e){return l("sign.api_v1.b2e.document.template.deleteEntities",{entities:e})}registerDocuments(e,t=true){return l("sign.api_v1.b2e.document.template.registerDocuments",{templateIds:e,excludeRejected:t})}setupSigners(e,t,i){return l("sign.api_v1.b2e.document.template.setupSigners",{documentIds:e,signers:t,excludeRejected:i})}installOnboardingTemplate(){return l("sign.api_v1.b2e.document.template.installOnboardingTemplate",{})}}class d{create(e){return l("sign.api_v1.b2e.document.templateFolder.create",{title:e})}rename(e,t){return l("sign.api_v1.b2e.document.templateFolder.rename",{folderId:e,newTitle:t})}delete(e){return l("sign.api_v1.b2e.document.templateFolder.delete",{folderId:e})}changeVisibility(e,t){return l("sign.api_v1.b2e.document.templateFolder.changeVisibility",{folderId:e,visibility:t})}getListByDepthLevel(e){return l("sign.api_v1.b2e.document.templateFolder.listByDepthLevel",{depthLevel:e})}}class c{deleteSignersList(e){return l("sign.api_v1.b2e.signers.deleteList",{listId:e})}copySignersList(e){return l("sign.api_v1.b2e.signers.copyList",{listId:e})}deleteSignersFromList(e,t){return l("sign.api_v1.b2e.signers.deleteSignersFromList",{listId:e,userIds:t})}createList(e){return l("sign.api_v1.b2e.signers.createList",{title:e})}renameList(e,t){return l("sign.api_v1.b2e.signers.renameList",{listId:e,title:t})}addSignersToList(e,t,i=true){return l("sign.api_v1.b2e.signers.addSignersToList",{listId:e,members:t,excludeRejected:i})}}var u=babelHelpers.classPrivateFieldLooseKey("post");class m{constructor(){Object.defineProperty(this,u,{value:p});this.template=new o;this.templateFolder=new d;this.signersList=new c}register(e,t=null,i=false,s=0,a=0,n=null){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.register",{blankId:e,scenarioType:t,asTemplate:i,chatId:s,templateFolderId:a,initiatedByType:n})}upload(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.upload",{uid:e})}getPages(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.pages.list",{uid:e},false)}loadBlanks(e,t=null,i=null){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.blank.list",{page:e,scenario:t,countPerPage:i})}createBlank(e,t=null,i=false){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.blank.create",{files:e,scenario:t,forTemplate:i})}saveBlank(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.blank.block.save",{documentUid:e,blocks:t},false)}loadBlocksData(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.blank.block.loadData",{documentUid:e,blocks:t})}changeBlank(e,t,i=false){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.changeBlank",{uid:e,blankId:t,copyBlocksFromPreviousBlank:i})}changeDocumentLanguages(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.changeDocumentLanguages",{uid:e,lang:t})}changeRegionDocumentType(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyRegionDocumentType",{uid:e,type:t})}changeSenderDocumentType(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyInitiatedByType",{uid:e,initiatedByType:t})}changeExternalId(e,t,i,s){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyExternalId",{uid:e,id:t,sourceType:i,hcmLinkSettingId:s})}changeExternalDate(e,t,i,s){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyExternalDate",{uid:e,externalDate:t,sourceType:i,hcmLinkSettingId:s})}changeIntegrationId(e,t=null){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyIntegrationId",{uid:e,integrationId:t})}loadDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.load",{uid:e})}loadDocumentsByTemplateIds(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.loadByTemplateIds",{templateIds:e})}getDocumentPreviewUrl(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.getDocumentPreviewUrl",{uid:e})}loadDocumentById(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.loadById",{id:e})}configureDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.configure",{uid:e})}configureDocumentGroup(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.group.configure",{groupId:e})}loadBlocksByDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.blank.block.loadByDocument",{documentUid:e})}startSigning(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.signing.start",{uid:e})}addMember(e,t,i,s,a){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.add",{documentUid:e,entityType:t,entityId:i,party:s,presetId:a})}removeMember(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.remove",{uid:e})}loadMembers(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.load",{documentUid:e})}modifyCommunicationChannel(e,t,i){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.modifyCommunicationChannel",{uid:e,channelType:t,channelValue:i})}loadCommunications(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.loadCommunications",{uid:e})}modifyTitle(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyTitle",{uid:e,title:t})}modifyInitiator(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyInitiator",{uid:e,initiator:t})}modifyLanguageId(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyLangId",{uid:e,langId:t})}modifyDateSignUntil(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyDateSignUntil",{uid:e,dateSignUntilTs:t})}modifyReminderTypeForMemberRole(e,t,i){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.member.reminder.set",{documentUid:e,memberRole:t,type:i})}loadLanguages(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.loadLanguage")}refreshEntityNumber(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.refreshEntityNumber",{documentUid:e})}changeDomain(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.portal.changeDomain")}loadRestrictions(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.portal.hasRestrictions")}saveStamp(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.saveStamp",{memberUid:e,fileId:t})}setupB2eParties(e,t,i,s=true){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.setupB2eParties",{documentUid:e,representativeId:t,members:i,excludeRejected:s})}syncB2eMembersWithDepartments(e,t,i=true){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.syncB2eMembersWithDepartments",{documentUid:e,currentParty:t,excludeRejected:i})}getUniqUserCountForMembers(e,t=true){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.getUniqSignersCount",{members:e,excludeRejected:t})}getUniqUserCountForDocument(e,t=true){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.getUniqSignersCountForDocument",{documentUid:e,excludeRejected:t})}getDepartmentsForDocument(e,t,i){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.getDepartmentsForDocument",{documentUid:e,page:t,pageSize:i})}getMembersForDocument(e,t,i,s=n.MemberRole.signer){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.getMembersForDocument",{documentUid:e,role:s,page:t,pageSize:i})}updateChannelTypeToB2eMembers(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.member.communication.updateMembersChannelType",{members:e,channelType:t})}loadB2eCompanyList(e=null){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.crm.b2ecompany.list",{forDocumentInitiatedByType:e})}modifyB2eCompany(e,t,i){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyCompany",{documentUid:e,companyUid:t,companyEntityId:i})}modifyB2eDocumentScheme(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyScheme",{uid:e,scheme:t})}loadB2eAvaialbleSchemes(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.scheme.load",{documentUid:e})}deleteB2eCompany(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.crm.b2ecompany.delete",{id:e})}getLinkForSigning(e,t=true){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.member.link.getLinkForSigning",{memberId:e},t)}memberLoadReadyForMessageStatus(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.send.getMembersForResend",{memberIds:e})}memberResendMessage(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.send.resendMessage",{memberIds:e})}getBlankById(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.blank.getById",{id:e})}registerB2eCompany(e,t,i,s){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.crm.b2ecompany.register",{providerCode:e,taxId:t,companyId:i,externalProviderId:s})}setDecisionToSesB2eAgreement(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.member.communication.setAgreementDecision",{})}createDocumentChat(e,t,i){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.im.groupChat.createDocumentChat",{chatType:e,documentId:t,isEntityId:i})}getDocumentFillAndStartProgress(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.getFillAndStartProgress",{uid:e})}getDocumentGroupFillAndStartProgress(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.group.getFillAndStartProgress",{groupId:e})}getMember(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.member.get",{uid:e})}createDocumentsGroup(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.group.create")}removeDocument(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.remove",{uid:e})}attachGroupToDocument(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.group.attach",{documentUid:e,groupId:t})}getDocumentListInGroup(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.group.documentList",{groupId:e})}changeTemplateVisibility(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.template.changeVisibility",{templateId:e,visibility:t})}deleteTemplate(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.template.delete",{templateId:e})}copyTemplate(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.document.template.copy",{templateId:e})}checkCompanyHrIntegration(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.humanresources.hcmLink.checkCompany",{id:e})}checkNotMappedMembersHrIntegration(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.humanresources.hcmLink.loadNotMappedMembers",{documentUid:e})}getMultipleVacancyMemberHrIntegration(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.humanresources.hcmLink.loadMultipleVacancyEmployee",{documentUid:e})}saveEmployeesForSignProcess(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.humanresources.hcmLink.saveSelectedEmployees",e)}changeEditorStepVisibility(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.wizardOptions.changeEditorStepVisibility",{isSkipEditStep:e})}changeHcmLinkDocumentType(e,t){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.modifyHcmLinkDocumentType",{uid:e,hcmLinkSettingId:t})}getManyDocumentFillAndStartProgress(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.document.getManyFillAndStartProgress",{ids:e})}checkNotMappedMembersHrIntegrationByDocuments(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.humanresources.hcmLink.loadBulkNotMappedMembers",{documentUids:e})}loadBulkMultipleVacancyMemberHrIntegrations(e){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.integration.humanresources.hcmLink.loadBulkMultipleVacancyEmployee",{documentUids:e})}hasSignedDocuments(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.onboarding.hasSignedDocuments",{})}hideOnboardingSigningBanner(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]("sign.api_v1.b2e.onboarding.hideOnboardingSigningBanner",{})}}function p(e,t=null,i=true){return l(e,t,i)}e.Api=m})(this.BX.Sign.V2=this.BX.Sign.V2||{},BX,BX,BX.UI.Sidepanel.Content,BX.Sign.V2,BX.Sign);
//# sourceMappingURL=api.bundle.map.js