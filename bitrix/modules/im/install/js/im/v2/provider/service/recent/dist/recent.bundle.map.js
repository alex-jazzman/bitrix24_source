{"version":3,"file":"recent.bundle.map.js","names":["this","BX","Messenger","v2","exports","im_v2_lib_logger","im_v2_lib_copilot","im_v2_lib_layout","main_core","im_v2_application_core","im_v2_const","_restResult","babelHelpers","classPrivateFieldLooseKey","_withBirthdays","_users","_chats","_messages","_files","_recentItems","_extractUser","_extractChat","_extractMessage","_extractRecentItem","_extractBirthdayItems","_prepareGroupChat","_prepareChatForUser","_prepareChatForAdditionalUser","_getBirthdayPlaceholder","_mergeFileIds","RecentDataExtractor","constructor","params","Object","defineProperty","value","_mergeFileIds2","_getBirthdayPlaceholder2","_prepareChatForAdditionalUser2","_prepareChatForUser2","_prepareGroupChat2","_extractBirthdayItems2","_extractRecentItem2","_extractMessage2","_extractChat2","_extractUser2","writable","rawData","withBirthdays","classPrivateFieldLooseBase","getItems","items","copilot","messagesAutoDeleteConfigs","forEach","item","users","values","chats","messages","files","recentItems","_item$user","user","id","type","ChatType","chat","existingRecentItem","Core","getStore","getters","options","default_user_record","message","FakeMessagePrefix","viewedByOthers","status","MessageStatus","delivered","existingMessage","Type","isArrayFilled","attach","isPlainObject","file","existingFile","_item$message$id","_item$message","messageId","birthdayList","getUserId","counter","dialogId","chatId","chat_id","avatar","color","name","role","UserRole","member","backgroundId","background_id","textFieldEnabled","text_field_enabled","isBirthdayPlaceholder","fileId","existingMessageFilesIds","map","Number","parseInt","setOfFileIds","Set","RecentService","dataIsPreloaded","firstPageIsLoaded","itemsPerPage","isLoading","pagesLoaded","hasMoreItemsToLoad","lastMessageDate","getInstance","instance","getCollection","loadFirstPage","ignorePreloadedItems","Logger","warn","Promise","resolve","result","requestItems","firstPage","loadNextPage","setPreloadedData","hasMore","getLastMessageDate","updateModels","hideChat","recentItem","dispatch","chatIsOpened","LayoutManager","clearCurrentLayoutEntityId","deleteLastOpenedElementById","getRestClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","console","error","queryParams","getQueryParams","getQueryMethod","errorResult","data","imRecentList","SKIP_OPENLINES","LIMIT","LAST_MESSAGE_DATE","GET_ORIGINAL_TEXT","PARSE_TEXT","getModelSaveMethod","extractor","getExtractorOptions","extractedItems","usersPromise","dialoguesPromise","autoDeletePromise","messagesPromise","filesPromise","recentPromise","copilotManager","CopilotManager","copilotPromise","handleRecentListResponse","all","length","slice","date","Service","Lib","Application","Const"],"sources":["recent.bundle.js"],"mappings":"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","ignoreList":[]}