this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,a,o){"use strict";const s=Object.freeze({private:"chatType_private",multiuser:"chatType_multiuser"});const n=Object.freeze({openMessenger:"open_messenger",openChat:"open_chat",createNewChat:"create_new_chat",audioUse:"audio_use",openTab:"open_tab",popupOpen:"popup_open",openPrices:"open_prices",openSettings:"open_settings",clickCreateNew:"click_create_new",openExisting:"open_existing"});const i=Object.freeze({ai:"ai",checkin:"checkin",im:"im",infoHelper:"InfoHelper"});const c=Object.freeze({chatOperations:"chat_operations",shift:"shift",messenger:"messenger",chat:"chat",channel:"channel",videoconf:"videoconf",copilot:"copilot",limit:"limit",toolOff:"tool_off"});const r=Object.freeze({ai:"ai",chat:"chat",channel:"channel",videoconf:"videoconf",copilot:"copilot"});const l=Object.freeze({copilotTab:"copilot_tab",chat:"chat"});var p=babelHelpers.classPrivateFieldLooseKey("createdChats");var h=babelHelpers.classPrivateFieldLooseKey("currentTab");var d=babelHelpers.classPrivateFieldLooseKey("instance");var b=babelHelpers.classPrivateFieldLooseKey("getCategoryByChatType");class y{constructor(){Object.defineProperty(this,b,{value:u});Object.defineProperty(this,p,{writable:true,value:new Set});Object.defineProperty(this,h,{writable:true,value:""})}static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,d)[d]){babelHelpers.classPrivateFieldLooseBase(this,d)[d]=new this}return babelHelpers.classPrivateFieldLooseBase(this,d)[d]}onOpenMessenger(){t.sendData({event:n.openMessenger,tool:i.im,category:c.messenger})}onCreateCopilotChat({chatId:e,dialogId:a}){babelHelpers.classPrivateFieldLooseBase(this,p)[p].add(a);t.sendData({event:n.createNewChat,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab,type:r.ai,p3:s.private,p5:`chatId_${e}`})}onOpenCopilotChat(e){const a=o.Core.getStore().getters["chats/get"](e);const p=a.userCounter<=2?s.private:s.multiuser;t.sendData({event:n.openChat,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab,type:r.ai,p3:p,p5:`chatId_${a.chatId}`})}onOpenCopilotTab(){t.sendData({event:n.openTab,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab})}onOpenTab(e){const o=[a.Layout.chat.name,a.Layout.copilot.name,a.Layout.channel.name,a.Layout.notification.name,a.Layout.settings.name,a.Layout.openlines.name];if(!o.includes(e)){return}if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]===e){return}babelHelpers.classPrivateFieldLooseBase(this,h)[h]=e;t.sendData({event:n.openTab,tool:i.im,category:c.messenger,type:e})}onUseCopilotAudioInput(){t.sendData({event:n.audioUse,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab})}onOpenCheckInPopup(){t.sendData({event:n.popupOpen,tool:i.checkin,category:c.shift,c_section:l.chat})}onOpenPriceTable(e){t.sendData({tool:i.infoHelper,category:c.limit,event:n.openPrices,type:e,c_section:l.chat})}onOpenToolsSettings(e){t.sendData({tool:i.infoHelper,category:c.toolOff,event:n.openSettings,type:e,c_section:l.chat})}onStartCreateNewChat(e){const s=o.Core.getStore().getters["application/getLayout"].name;const c=[a.Layout.chat.name,a.Layout.channel.name,a.Layout.notification.name,a.Layout.copilot.name];if(!c.includes(s)){return}t.sendData({tool:i.im,category:babelHelpers.classPrivateFieldLooseBase(this,b)[b](e),event:n.clickCreateNew,type:e,c_section:`${s}_tab`})}onCreateChat(e){babelHelpers.classPrivateFieldLooseBase(this,p)[p].add(e)}onOpenChat(e){if(babelHelpers.classPrivateFieldLooseBase(this,p)[p].has(e.dialogId)){babelHelpers.classPrivateFieldLooseBase(this,p)[p].delete(e.dialogId);return}if(e.type===a.ChatType.copilot){this.onOpenCopilotChat(e.dialogId)}const s=o.Core.getStore().getters["application/getLayout"].name;const c=e.role===a.UserRole.guest?"N":"Y";const r={tool:i.im,category:babelHelpers.classPrivateFieldLooseBase(this,b)[b](e.type),event:n.openExisting,type:e.type,c_section:`${s}_tab`,p3:`isMember_${c}`,p5:`chatId_${e.chatId}`};if(e.type===a.ChatType.comment){r.p1=`chatType_${e.type}`;r.p4=`parentChatId_${e.parentChatId}`}t.sendData(r)}}function u(e){switch(e){case a.ChatType.channel:case a.ChatType.openChannel:case a.ChatType.comment:case a.ChatType.generalChannel:return c.channel;case a.ChatType.copilot:return c.copilot;case a.ChatType.videoconf:return c.videoconf;default:return c.chat}}Object.defineProperty(y,d,{writable:true,value:void 0});e.Analytics=y})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.UI.Analytics,BX.Messenger.v2.Const,BX.Messenger.v2.Application);
//# sourceMappingURL=analytics.bundle.map.js