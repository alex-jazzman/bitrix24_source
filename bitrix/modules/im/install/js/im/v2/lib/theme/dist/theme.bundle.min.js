this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(t,e,r,a){"use strict";const o=Object.freeze({light:"light",dark:"dark"});const n=Object.freeze({default:"default",martaAI:"marta-ai"});const s=Object.freeze({1:{color:"#9fcfff",type:o.dark,pattern:n.default},2:{color:"#81d8bf",type:o.dark,pattern:n.default},3:{color:"#7fadd1",type:o.dark,pattern:n.default},4:{color:"#7a90b6",type:o.dark,pattern:n.default},5:{color:"#5f9498",type:o.dark,pattern:n.default},6:{color:"#799fe1",type:o.dark,pattern:n.default},7:{color:"#cfeefa",type:o.light,pattern:n.default},9:{color:"#efded3",type:o.light,pattern:n.default},11:{color:"#eff4f6",type:o.light,pattern:n.default}});const c={collab:"collab",martaAI:"martaAI",copilot:"copilot"};const i=4;const l={[c.collab]:{color:"#76c68b",type:o.dark,pattern:n.default},[c.martaAI]:{color:"#0277ff",type:o.dark,pattern:n.martaAI},[c.copilot]:s[i]};const g={[c.collab]:"collab-v2",[c.martaAI]:"marta-ai",[c.copilot]:i.toString()};const p="/bitrix/js/im/images/chat-v2-background";const u=Object.freeze({white:"white",gray:"gray"});const d={isLightTheme(){const t=r.Core.getStore().getters["application/settings/get"](a.Settings.appearance.background);const e=s[t];return(e==null?void 0:e.type)===o.light},isDarkTheme(){const t=r.Core.getStore().getters["application/settings/get"](a.Settings.appearance.background);const e=s[t];return(e==null?void 0:e.type)===o.dark},getCurrentBackgroundStyle(t){const e=f(t);return this.getBackgroundStyleById(e)},getBackgroundStyleById(t){var e;const r={...s,...l};const a=r[t];if(!a){return{}}const n=a.type===o.light?u.gray:u.white;const c=a.pattern;const i=(e=g[t])!=null?e:t;const d=`url('${p}/pattern-${n}-${c}.svg')`;const f=`url('${p}/${i}.png')`;return{backgroundColor:a.color,backgroundImage:`${d}, ${f}`,backgroundPosition:"top right, center",backgroundRepeat:"repeat, no-repeat",backgroundSize:"auto, cover"}}};const f=t=>{const o=r.Core.getStore().getters["application/settings/get"](a.Settings.appearance.background);if(!e.Type.isStringFilled(t)){return o}const n=r.Core.getStore().getters["chats/get"](t,true).type;if(n===a.ChatType.collab){return c.collab}if(n===a.ChatType.copilot){return c.copilot}const s=h(t,n);if(s){return c.martaAI}const i=r.Core.getStore().getters["chats/getBackgroundId"](t);const l=r.Core.getStore().getters["users/bots/getBackgroundId"](t);if(c[i]){return c[i]}if(c[l]){return c[l]}return o};const h=(t,e)=>r.Core.getStore().getters["users/bots/isAiAssistant"](t)||[a.ChatType.aiAssistant,a.ChatType.aiAssistantEntity].includes(e);t.SelectableBackground=s;t.SpecialBackground=c;t.ThemeType=o;t.ThemeManager=d})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX,BX.Messenger.v2.Application,BX.Messenger.v2.Const);
//# sourceMappingURL=theme.bundle.map.js