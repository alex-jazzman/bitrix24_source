this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,e,s,n){"use strict";const r=1024*1024*2;const i=(t,e)=>{if(e<r){return n.Loc.getMessage("IM_ELEMENTS_PROGRESSBAR_UPLOAD_LOADING")}const s=e/100*t;const i=`${o(s)} ${n.Loc.getMessage("IM_ELEMENTS_PROGRESSBAR_SIZE_MB")}`;const c=`${o(e)} ${n.Loc.getMessage("IM_ELEMENTS_PROGRESSBAR_SIZE_MB")}`;return`${i} / ${c}`};const o=t=>(t/1024/1024).toFixed(2);const c=Object.freeze({S:"S",L:"L"});const l=1;const a={name:"ProgressBar",components:{BIcon:e.BIcon},props:{item:{type:Object,required:true},size:{type:String,default:c.L}},emits:["cancelClick"],computed:{Color:()=>s.Color,OutlineIcons:()=>e.Outline,file(){return this.item},needProgressBar(){return[s.FileStatus.progress,s.FileStatus.upload].includes(this.file.status)},progressStyles(){const t=23;const e=2*Math.PI*t;const s=Math.max(this.file.progress,l);const n=e-s/100*e;return{strokeDasharray:e,strokeDashoffset:n}},labelText(){return i(this.file.progress,this.file.size)},containerClass(){return`--size-${this.size.toLowerCase()}`},needLabel(){return this.size===c.L},iconSize(){return this.size===c.L?28:24}},methods:{onLoaderClick(){if(![s.FileStatus.upload,s.FileStatus.progress].includes(this.file.status)){return}this.$emit("cancelClick",{file:this.file})},loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div \n\t\t\tv-if="needProgressBar"\n\t\t\t:class="containerClass"\n\t\t\tclass="bx-im-progress-bar__container" \n\t\t>\n\t\t\t<div class="bx-im-progress-bar__loader" @click="onLoaderClick">\n\t\t\t\t<svg viewBox="0 0 48 48">\n\t\t\t\t\t<circle\n\t\t\t\t\t\t:style="progressStyles"\n\t\t\t\t\t\tclass="bx-im-progress-bar__loader-progress" \n\t\t\t\t\t\tcx="24" \n\t\t\t\t\t\tcy="24" \n\t\t\t\t\t\tr="23"\n\t\t\t\t\t></circle>\n\t\t\t\t</svg>\n\t\t\t\t<BIcon\n\t\t\t\t\t:name="OutlineIcons.CROSS_L"\n\t\t\t\t\t:color="Color.white"\n\t\t\t\t\t:size="iconSize"\n\t\t\t\t\tclass="bx-im-progress-bar__loader-icon"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div v-if="needLabel" class="bx-im-progress-bar__label">\n\t\t\t\t{{ labelText }}\n\t\t\t</div>\n\t\t</div>\n\t`};t.ProgressBarSize=c;t.ProgressBar=a})(this.BX.Messenger.v2.Component.Elements=this.BX.Messenger.v2.Component.Elements||{},BX.UI.IconSet,BX.Messenger.v2.Const,BX);
//# sourceMappingURL=progressbar.bundle.map.js