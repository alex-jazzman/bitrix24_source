{"version":3,"file":"ai-assistant-answer.bundle.js","sources":["../src/components/bottom-panel-content.js","../src/ai-assistant-answer.js"],"sourcesContent":["import { BIcon, Outline as OutlineIcons } from 'ui.icon-set.api.vue';\nimport { RichLoc } from 'ui.vue3.components.rich-loc';\n\nimport { Utils } from 'im.v2.lib.utils';\nimport { openHelpdeskArticle } from 'im.v2.lib.helpdesk';\nimport { Notifier } from 'im.v2.lib.notifier';\nimport { Color } from 'im.v2.const';\n\nimport type { ImModelMessage } from 'im.v2.model';\n\n// @vue/component\nexport const BottomPanelContent = {\n\tname: 'BottomPanelContent',\n\tcomponents: { BIcon, RichLoc },\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tColor: () => Color,\n\t\tOutlineIcons: () => OutlineIcons,\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tinfoIconColor(): string\n\t\t{\n\t\t\treturn 'var(--im-message-ai-assistant-answer__color_warning)';\n\t\t},\n\t},\n\tmethods: {\n\t\tasync onCopyClick()\n\t\t{\n\t\t\tawait Utils.text.copyToClipboard(this.message.text);\n\t\t\tNotifier.onCopyTextComplete();\n\t\t},\n\t\tonWarningDetailsClick()\n\t\t{\n\t\t\tconst ARTICLE_CODE = '25754438';\n\t\t\topenHelpdeskArticle(ARTICLE_CODE);\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BIcon\n\t\t\t:name=\"OutlineIcons.COPY\"\n\t\t\t:color=\"Color.accentMainPrimaryAlt\"\n\t\t\t:hoverable=\"true\"\n\t\t\t:title=\"loc('IM_MESSAGE_AI_ASSISTANT_ANSWER_ACTION_COPY')\"\n\t\t\t@click=\"onCopyClick\"\n\t\t\tclass=\"bx-im-message-ai-assistant-answer__copy_icon\"\n\t\t/>\n\t\t<BIcon\n\t\t\t:name=\"OutlineIcons.INFO_CIRCLE\"\n\t\t\t:color=\"infoIconColor\"\n\t\t\tclass=\"bx-im-message-ai-assistant-answer__warning_icon\"\n\t\t/>\n\t\t<span class=\"bx-im-message-ai-assistant-answer__warning\">\n\t\t\t<RichLoc\n\t\t\t\t:text=\"loc('IM_MESSAGE_AI_ASSISTANT_ANSWER_WARNING')\"\n\t\t\t\tplaceholder=\"[url]\"\n\t\t\t>\n\t\t\t\t<template #url=\"{ text }\">\n\t\t\t\t\t<span class=\"bx-im-message-ai-assistant-answer__warning_link\" @click=\"onWarningDetailsClick\">\n\t\t\t\t\t\t{{ text }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</RichLoc>\n\t\t</span>\n\t`,\n};\n","import { BaseMessage } from 'im.v2.component.message.base';\nimport { AuthorTitle, DefaultMessageContent, MessageStatus, MessageKeyboard } from 'im.v2.component.message.elements';\n\nimport { BottomPanelContent } from './components/bottom-panel-content';\n\nimport './css/ai-assistant-answer.css';\n\nimport type { ImModelMessage } from 'im.v2.model';\n\n// @vue/component\nexport const AiAssistantMessage = {\n\tname: 'AiAssistantMessage',\n\tcomponents: { AuthorTitle, BaseMessage, DefaultMessageContent, BottomPanelContent, MessageStatus, MessageKeyboard },\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\twithTitle: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\thasKeyboard(): boolean\n\t\t{\n\t\t\treturn this.message.keyboard.length > 0;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseMessage :item=\"item\" :dialogId=\"dialogId\" class=\"bx-im-message-ai-assistant-base-message__container\">\n\t\t\t<div class=\"bx-im-message-default__container\">\n\t\t\t\t<AuthorTitle v-if=\"withTitle\" :item=\"message\"/>\n\t\t\t\t<DefaultMessageContent :item=\"message\" :dialogId=\"dialogId\" :withMessageStatus=\"false\" />\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-message-ai-assistant-answer__bottom-panel\">\n\t\t\t\t<div class=\"bx-im-message-ai-assistant-answer__panel-content\">\n\t\t\t\t\t<BottomPanelContent :item=\"message\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-message-ai-assistant-answer__status-container\">\n\t\t\t\t\t<MessageStatus :item=\"message\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<template #after-message v-if=\"hasKeyboard\">\n\t\t\t\t<MessageKeyboard :item=\"message\" :dialogId=\"dialogId\" />\n\t\t\t</template>\n\t\t</BaseMessage>\n\t`,\n};\n"],"names":["BottomPanelContent","name","components","BIcon","RichLoc","props","item","type","Object","required","computed","Color","OutlineIcons","message","infoIconColor","methods","onCopyClick","Utils","text","copyToClipboard","Notifier","onCopyTextComplete","onWarningDetailsClick","ARTICLE_CODE","openHelpdeskArticle","loc","phraseCode","replacements","$Bitrix","Loc","getMessage","template","AiAssistantMessage","AuthorTitle","BaseMessage","DefaultMessageContent","MessageStatus","MessageKeyboard","dialogId","String","withTitle","Boolean","default","hasKeyboard","keyboard","length"],"mappings":";;;;;;;;CAUA;AACA,CAAO,MAAMA,kBAAkB,GAAG;GACjCC,IAAI,EAAE,oBAAoB;GAC1BC,UAAU,EAAE;YAAEC,wBAAK;cAAEC;IAAS;GAC9BC,KAAK,EAAE;KACNC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;;IAEX;GACDC,QAAQ,EAAE;KACTC,KAAK,EAAE,MAAMA,iBAAK;KAClBC,YAAY,EAAE,MAAMA,0BAAY;KAChCC,OAAO,GACP;OACC,OAAO,IAAI,CAACP,IAAI;MAChB;KACDQ,aAAa,GACb;OACC,OAAO,sDAAsD;;IAE9D;GACDC,OAAO,EAAE;KACR,MAAMC,WAAW,GACjB;OACC,MAAMC,qBAAK,CAACC,IAAI,CAACC,eAAe,CAAC,IAAI,CAACN,OAAO,CAACK,IAAI,CAAC;OACnDE,2BAAQ,CAACC,kBAAkB,EAAE;MAC7B;KACDC,qBAAqB,GACrB;OACC,MAAMC,YAAY,GAAG,UAAU;OAC/BC,sCAAmB,CAACD,YAAY,CAAC;MACjC;KACDE,GAAG,CAACC,UAAkB,EAAEC,YAAmC,GAAG,EAAE,EAChE;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACJ,UAAU,EAAEC,YAAY,CAAC;;IAE7D;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2BZ,CAAC;;CClED;AACA,OAAaC,kBAAkB,GAAG;GACjC/B,IAAI,EAAE,oBAAoB;GAC1BC,UAAU,EAAE;kBAAE+B,4CAAW;kBAAEC,wCAAW;4BAAEC,sDAAqB;KAAEnC,kBAAkB;oBAAEoC,8CAAa;sBAAEC;IAAiB;GACnHhC,KAAK,EAAE;KACNC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACD6B,QAAQ,EAAE;OACT/B,IAAI,EAAEgC,MAAM;OACZ9B,QAAQ,EAAE;MACV;KACD+B,SAAS,EAAE;OACVjC,IAAI,EAAEkC,OAAO;OACbC,OAAO,EAAE;;IAEV;GACDhC,QAAQ,EAAE;KACTG,OAAO,GACP;OACC,OAAO,IAAI,CAACP,IAAI;MAChB;KACDqC,WAAW,GACX;OACC,OAAO,IAAI,CAAC9B,OAAO,CAAC+B,QAAQ,CAACC,MAAM,GAAG,CAAC;;IAExC;GACDd,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;CAmBZ,CAAC;;;;;;;;"}