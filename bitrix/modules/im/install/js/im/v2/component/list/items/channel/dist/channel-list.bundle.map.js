{"version":3,"file":"channel-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","ui_notification","main_core_events","main_date","im_v2_component_elements","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_lib_logger","im_v2_lib_user","im_v2_application_core","im_v2_lib_rest","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","MessageText","name","components","ChatTitle","props","item","type","Object","required","data","computed","recentItem","dialog","$store","getters","dialogId","message","formattedDate","formatDate","date","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","author","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","isDeleted","loc","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","methods","DateFormatter","formatByTemplate","DateTemplate","recent","phraseCode","replacements","$Bitrix","Loc","getMessage","template","ChannelItem","ChatAvatar","AvatarSize","needsBirthdayPlaceholder","formattedCounter","counter","toString","layout","isUser","ChatType","user","isChat","isChatSelected","Layout","channel","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","length","showLastMessage","Settings","invitation","wrapClasses","EmptyState","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageId","_requestItems","_updateModels","_getMinMessageId","ChannelService","constructor","defineProperty","value","_getMinMessageId2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","async","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","queryParams","limit","filter","lastMessageId","runAction","RestMethod","imV2RecentChannelTail","catch","error","console","Logger","warn","messages","hasNextPage","getStore","dispatch","restResult","users","chats","files","recentItems","usersPromise","dialoguesPromise","messagesPromise","filesPromise","recentPromise","all","firstMessageId","id","reduce","minId","nextMessage","Math","min","TAG","_pullClient","_requestWatchStart","PullWatchManager","_requestWatchStart2","getPullClient","subscribe","extendWatch","unsubscribe","clearWatch","imV2RecentChannelExtendPullWatch","ChannelRecentMenu","RecentMenu","getMenuItems","getOpenItem","onclick","LayoutManager","getInstance","setLayout","context","menuInstance","close","ChannelList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","firstPageLoaded","collection","preparedItems","sort","a","b","firstDate","secondDate","isEmptyCollection","created","joinedChannels","Set","contextMenuManager","bindEvents","beforeUnmount","destroy","unbindEvents","getRecentService","loadFirstPage","getPullWatchManager","deactivated","removeJoinedChannels","event","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","onChannelJoin","showNotification","channelDialogId","getData","add","EventEmitter","EventType","forEach","service","pullWatchManager","UI","Notification","Center","notify","content","List","Event","Main","Elements","Lib","Application","Const"],"sources":["channel-list.bundle.js"],"mappings":"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"}