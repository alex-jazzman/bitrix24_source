{"version":3,"file":"channel-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_component_elements_listLoadingState","main_date","im_v2_component_elements_chatTitle","im_v2_component_elements_avatar","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_provider_service_recent","im_v2_application_core","im_v2_lib_rest","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","MessageText","name","components","MessageAvatar","props","item","type","Object","required","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","message","formattedDate","formatDate","date","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","author","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","isDeleted","loc","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","methods","DateFormatter","formatByTemplate","DateTemplate","recent","phraseCode","replacements","$Bitrix","Loc","getMessage","template","ChannelItem","ChatAvatar","ChatTitle","data","needsBirthdayPlaceholder","formattedCounter","counter","toString","layout","isUser","ChatType","user","isChat","isChatSelected","Layout","channel","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","showLastMessage","Settings","invitation","wrapClasses","EmptyState","_lastMessageId","babelHelpers","classPrivateFieldLooseKey","_getMinMessageId","ChannelService","BaseRecentService","constructor","args","super","defineProperty","value","_getMinMessageId2","writable","getRestMethodName","RestMethod","imV2RecentChannelTail","getRecentSaveActionName","getRequestFilter","firstPage","lastMessageId","classPrivateFieldLooseBase","onAfterRequest","getStore","dispatch","handlePaginationField","result","messages","length","firstMessageId","id","reduce","minId","nextMessage","Math","min","TAG","_pullClient","_requestWatchStart","PullWatchManager","_requestWatchStart2","getPullClient","subscribe","extendWatch","unsubscribe","clearWatch","runAction","imV2RecentChannelExtendPullWatch","ChannelRecentMenu","RecentMenu","getMenuItems","getOpenItem","title","onClick","LayoutManager","getInstance","setLayout","context","menuInstance","close","ChannelList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","firstPageLoaded","collection","preparedItems","sort","a","b","firstMessage","messageId","secondMessage","isEmptyCollection","created","contextMenuManager","beforeUnmount","destroy","activated","getRecentService","loadFirstPage","getPullWatchManager","deactivated","onScroll","event","dom","isOneScreenRemaining","target","hasMoreItemsToLoad","loadNextPage","$emit","onRightClick","preventDefault","openMenu","currentTarget","service","pullWatchManager","List","Elements","Main","Lib","Service","Application","Const"],"sources":["channel-list.bundle.js"],"mappings":"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","ignoreList":[]}