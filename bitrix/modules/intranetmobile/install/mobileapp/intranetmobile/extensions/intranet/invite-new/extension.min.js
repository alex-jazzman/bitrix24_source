jn.define("intranet/invite-new",((e,t,n)=>{const{PureComponent:i}=e("layout/pure-component");const{Area:s}=e("ui-system/layout/area");const{Loc:r}=e("loc");const{Text2:a}=e("ui-system/typography/text");const{Color:l}=e("tokens");const{Box:o}=e("ui-system/layout/box");const{PhoneTab:c}=e("intranet/invite-new/src/tab/phone");const{LinkTab:h}=e("intranet/invite-new/src/tab/link");const{AnalyticsEvent:u,IntranetInviteAnalytics:I}=e("intranet/invite-new/src/analytics");const d={PHONE:"phone",LINK:"link"};const T=device.screen.safeArea.bottom>0;const p=38;class g extends i{constructor(e){super(e);this.department=null;this.selectedTabInstance=null;this.state={selectedTabType:this.getDefaultSelectedTab()}}static getAjaxErrorText(e){return e.map((e=>{if(e.message){return e.message.replace("<br/>:","\n").replace("<br/>","\n")}return e.replace("<br/>:","\n").replace("<br/>","\n")})).filter((e=>e.length>0)).join("\n")}get canInviteByPhone(){return Boolean(this.props.canInviteByPhone)}get canInviteByLink(){return Boolean(this.props.canInviteByLink)}get testId(){return"invite"}get inviteLink(){return this.props.inviteLink??""}get sharingMessage(){return this.props.sharingMessage??""}get isSingleInviteTypeAvailable(){return!this.canInviteByPhone&&this.canInviteByLink||this.canInviteByPhone&&!this.canInviteByLink}get layout(){return this.props.layout??null}get multipleInvite(){return this.props.multipleInvite??true}get analytics(){return this.props.analytics??{}}get creatorEmailConfirmed(){return this.props.creatorEmailConfirmed??{}}get adminConfirm(){return this.props.adminConfirm??""}get onInviteSentHandler(){return this.props.onInviteSentHandler??null}get onInviteError(){return this.props.onInviteError??null}getDefaultSelectedTab(){if(this.canInviteByPhone){return d.PHONE}if(this.canInviteByLink){return d.LINK}return null}updateSelectedTab(e){if(!Object.values(d).includes(e)){return}this.setState({selectedTabType:e})}#e(){return[{id:d.PHONE,title:r.getMessage("INTRANET_INVITE_BY_PHONE_TEXT_MSGVER_1"),isSelected:this.state.selectedTabType===d.PHONE},{id:d.LINK,title:r.getMessage("INTRANET_INVITE_BY_LINK_TEXT_MSGVER_1"),isSelected:this.state.selectedTabType===d.LINK}]}render(){this.initSelectedTabInstance();return o({safeArea:{bottom:true},style:{flex:1,width:"100%",paddingBottom:T?0:p}},s({isFirst:true,style:{flex:1}},this.isSingleInviteTypeAvailable&&this.#t(),!this.isSingleInviteTypeAvailable&&this.#n(),this.selectedTabInstance.renderTabContent()),this.selectedTabInstance.renderButton())}initSelectedTabInstance=()=>{switch(this.state.selectedTabType){case d.PHONE:this.selectedTabInstance=new c({layout:this.layout,multipleInvite:this.multipleInvite,analytics:this.analytics,creatorEmailConfirmed:this.creatorEmailConfirmed,onInviteSentHandler:this.onInviteSentHandler,onInviteError:this.onInviteError});break;case d.LINK:this.selectedTabInstance=new h({layout:this.layout,sharingMessage:this.sharingMessage,inviteLink:this.inviteLink,analytics:this.analytics,adminConfirm:this.adminConfirm});break;default:}};#t(){const e=this.state.selectedTabType===d.PHONE?r.getMessage("INTRANET_INVITE_BY_PHONE_TEXT_MSGVER_1"):r.getMessage("INTRANET_INVITE_BY_LINK_TEXT_MSGVER_1");return View({style:{width:"100%",justifyContent:"center",alignItems:"center",height:36}},a({testId:`${this.testId}-single-tab-text`,text:e,color:l.base2,numberOfLines:0,ellipsize:"end",style:{textAlign:"center"}}))}#n(){return SegmentedControlView({style:{height:36},items:this.#e(),onSegmentChanged:e=>{this.updateSelectedTab(e.id)}})}}n.exports={Invite:g,AnalyticsEvent:u,IntranetInviteAnalytics:I}}));
//# sourceMappingURL=extension.map.js