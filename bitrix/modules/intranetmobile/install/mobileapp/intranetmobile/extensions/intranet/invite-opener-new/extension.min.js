jn.define("intranet/invite-opener-new",((e,t,n)=>{const{Notify:i}=e("notify");const{Invite:a,IntranetInviteAnalytics:o}=e("intranet/invite-new");const{Loc:r}=e("loc");const{StatusBox:s}=e("layout/ui/status-box");const{makeLibraryImagePath:l}=e("asset-manager");const{getInviteSettings:I,setUserVisitedInvitations:d}=e("intranet/invite-opener-new/api");const E={POSSIBILITIES_RESTRICTED:"Invite possibilities restricted",PERMISSIONS_RESTRICTED:"Invite permissions restricted"};const c=e=>{if(env.isCollaber||env.extranet){return}i.showIndicatorLoading();I(e).then((t=>{if(!t){return}void d();if(!t.canCurrentUserInvite){u(e.onInviteError,e.parentLayout);return}v({...t,...e})})).catch(console.error).finally((()=>i.hideCurrentIndicator()))};const u=(e,t=PageManager)=>{s.open({backdropTitle:r.getMessage("INTRANET_INVITE_OPENER_TITLE_MSGVER_1"),testId:"status-box-no-invitation",imageUri:l("no-invitation.svg","invite-status-box","intranet"),parentWidget:t,description:r.getMessage("INTRANET_INVITE_DISABLED_BOX_TEXT"),buttonText:r.getMessage("INTRANET_INVITE_DISABLED_BOX_BUTTON_TEXT")});if(e){e([new Error(E.PERMISSIONS_RESTRICTED)])}};const v=({parentLayout:e=null,openWidgetConfig:t={},analytics:n={},onInviteSentHandler:i=null,onInviteError:s=null,onViewHiddenWithoutInvitingHandler:l=null,canInviteBySMS:I=false,canInviteByLink:d=false,canInviteByEmail:E=false,creatorEmailConfirmed:c=false,multipleInvite:u=true,adminConfirm:v=false,isBitrix24Included:p=false,isInviteWithLocalEmailAppEnabled:f=true})=>{const g=new o({analytics:n});g.sendDrawerOpenEvent();g.setDepartmentParam(false);const T={enableNavigationBarBorder:false,titleParams:{text:r.getMessage("INTRANET_INVITE_OPENER_TITLE_MSGVER_1"),type:"dialog"},modal:true,backdrop:{showOnTop:false,onlyMediumPosition:false,mediumPositionHeight:530,bounceEnable:true,swipeAllowed:true,swipeContentAllowed:false,horizontalSwipeAllowed:false,shouldResizeContent:true,adoptHeightByKeyboard:true},...t,onReady:n=>{let o=false;let r=false;n.showComponent(new a({layout:n,parentLayout:e,openWidgetConfig:t,analytics:g,onInviteSentHandler:e=>{o=true;if(i){i(e)}},onInviteError:e=>{r=true;if(s){s(e)}},canInviteBySMS:I,canInviteByLink:d,canInviteByEmail:E,creatorEmailConfirmed:c,multipleInvite:u,adminConfirm:v,isBitrix24Included:p,isInviteWithLocalEmailAppEnabled:f}));n.on("onViewRemoved",(()=>{if(!o&&!r&&l){l()}}))}};if(e){e.openWidget("layout",T);return}PageManager.openWidget("layout",T)};n.exports={openIntranetInviteWidget:c,ErrorCode:E}}));
//# sourceMappingURL=extension.map.js