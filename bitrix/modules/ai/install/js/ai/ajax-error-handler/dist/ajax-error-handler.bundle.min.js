this.BX=this.BX||{};(function(e,r){"use strict";function s(e){if(r.Type.isStringFilled(e)===false){throw new TypeError("Parameter must be the filled string.")}return a(e)}function a(e){return e.split("_").map((e=>{if(Number.isNaN(parseInt(e,10))){return e}return""})).filter((e=>e)).join("_")}const l={MONTHLY_LIMIT:"LIMIT_IS_EXCEEDED_MONTHLY",DAILY_LIMIT:"LIMIT_IS_EXCEEDED_DAILY",TARIFF_LIMIT:"SERVICE_IS_NOT_AVAILABLE_BY_TARIFF",BAAS_LIMIT:"LIMIT_IS_EXCEEDED_BAAS",OTHER:"AI_ENGINE_ERROR_OTHER",PROVIDER:"AI_ENGINE_ERROR_PROVIDER"};var i=babelHelpers.classPrivateFieldLooseKey("boxLimitSliderCode");var t=babelHelpers.classPrivateFieldLooseKey("isCloud");var o=babelHelpers.classPrivateFieldLooseKey("validateHandleGenerateErrorParams");var n=babelHelpers.classPrivateFieldLooseKey("handleDailyLimitError");var d=babelHelpers.classPrivateFieldLooseKey("handleMonthlyLimitError");var c=babelHelpers.classPrivateFieldLooseKey("handleTariffLimitError");var b=babelHelpers.classPrivateFieldLooseKey("handleOtherError");var p=babelHelpers.classPrivateFieldLooseKey("handleProviderError");var u=babelHelpers.classPrivateFieldLooseKey("handleUndefinedError");var v=babelHelpers.classPrivateFieldLooseKey("handleBaasLimitError");var L=babelHelpers.classPrivateFieldLooseKey("handleImageTariffLimitError");var I=babelHelpers.classPrivateFieldLooseKey("showInfoHelper");var P=babelHelpers.classPrivateFieldLooseKey("replaceSliderCodeWithBoxLimitCodeIfBox");class f{static handleTextGenerateError(e){babelHelpers.classPrivateFieldLooseBase(f,o)[o](e);const r=e.errorCode;switch(r){case l.MONTHLY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,d)[d](e==null?void 0:e.sliderCode)}case l.DAILY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}case l.TARIFF_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,c)[c]()}case l.BAAS_LIMIT:{if(e!=null&&e.showSliderWithMsg&&e!=null&&e.sliderCode){return babelHelpers.classPrivateFieldLooseBase(this,d)[d](e.sliderCode)}return babelHelpers.classPrivateFieldLooseBase(this,v)[v](e.baasOptions)}case l.OTHER:{return babelHelpers.classPrivateFieldLooseBase(this,b)[b]()}case l.PROVIDER:{return babelHelpers.classPrivateFieldLooseBase(this,p)[p]()}default:{return babelHelpers.classPrivateFieldLooseBase(this,u)[u]()}}}static handleImageGenerateError(e){babelHelpers.classPrivateFieldLooseBase(f,o)[o](e);const r=e.errorCode;switch(r){case l.MONTHLY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,d)[d](e==null?void 0:e.sliderCode)}case l.DAILY_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}case l.TARIFF_LIMIT:{return babelHelpers.classPrivateFieldLooseBase(this,L)[L]()}case l.BAAS_LIMIT:{if(e!=null&&e.showSliderWithMsg&&e!=null&&e.sliderCode){return babelHelpers.classPrivateFieldLooseBase(this,d)[d](e.sliderCode)}return babelHelpers.classPrivateFieldLooseBase(this,v)[v](e.baasOptions)}case l.OTHER:{return babelHelpers.classPrivateFieldLooseBase(this,b)[b]()}case l.PROVIDER:{return babelHelpers.classPrivateFieldLooseBase(this,p)[p]()}default:{return babelHelpers.classPrivateFieldLooseBase(this,u)[u]()}}}}function E(){return r.Extension.getSettings("ai.ajax-error-handler").isCloud}function h(e){var s;const a=e.errorCode;const l=e.baasOptions;const i=(s=e.baasOptions)==null?void 0:s.bindElement;const t=e==null?void 0:e.baasOptions.context;if(r.Type.isStringFilled(a)===false){throw new Error("AI.AjaxErrorHandler: errorCode option is required and must be a string")}if(r.Type.isPlainObject(l)===false){throw new TypeError("AI.AjaxErrorHandler: baasOptions option is required and must be a Object with context and bindElement properties")}if(i&&r.Type.isElementNode(i)===false){throw new Error("AI.AjaxErrorHandler: baasOptions.bindElement option must be an element node")}if(r.Type.isStringFilled(t)===false){throw new Error("AI.AjaxErrorHandler: baasOptions.context option is required and must be a string")}}function H(){babelHelpers.classPrivateFieldLooseBase(f,I)[I](babelHelpers.classPrivateFieldLooseBase(f,P)[P]("limit_copilot_max_number_daily_requests"))}function _(e){babelHelpers.classPrivateFieldLooseBase(f,I)[I](e!=null?e:"limit_copilot_requests")}async function F(){babelHelpers.classPrivateFieldLooseBase(f,I)[I](babelHelpers.classPrivateFieldLooseBase(f,P)[P]("limit_copilot_requests"))}function y(){return undefined}function B(){return undefined}function O(){return undefined}function T(e){const{bindElement:a,context:l,useAngle:i=true,useSlider:t=false}=e;if(t){r.Runtime.loadExtension("ui.info-helper").then((({InfoHelper:e})=>{e.show("limit_boost_copilot")})).catch((e=>{console.error(e)}));return}r.Runtime.loadExtension("baas.store").then((({ServiceWidget:e})=>{if(e){const n=s(l);const d=e.getInstanceByCode("ai_copilot_token").bind(a,n);d.getPopup().adjustPosition({forceTop:true});d.show();if(i===false){var t;r.Dom.style((t=d.getPopup())==null?void 0:t.getPopupContainer().querySelector(".popup-window-angly"),"opacity",0)}else{var o;r.Dom.style((o=d.getPopup())==null?void 0:o.getPopupContainer().querySelector(".popup-window-angly"),"opacity",1)}}})).catch((e=>{console.error(e)}))}function m(){babelHelpers.classPrivateFieldLooseBase(this,I)[I]("limit_sites_ImageAssistant_AI")}async function A(e){const{InfoHelper:s}=await r.Runtime.loadExtension("ui.info-helper");s.show(e)}function R(e){return babelHelpers.classPrivateFieldLooseBase(f,t)[t]()?e:babelHelpers.classPrivateFieldLooseBase(f,i)[i]}Object.defineProperty(f,P,{value:R});Object.defineProperty(f,I,{value:A});Object.defineProperty(f,L,{value:m});Object.defineProperty(f,v,{value:T});Object.defineProperty(f,u,{value:O});Object.defineProperty(f,p,{value:B});Object.defineProperty(f,b,{value:y});Object.defineProperty(f,c,{value:F});Object.defineProperty(f,d,{value:_});Object.defineProperty(f,n,{value:H});Object.defineProperty(f,o,{value:h});Object.defineProperty(f,t,{value:E});Object.defineProperty(f,i,{writable:true,value:"limit_copilot_requests_box"});e.AjaxErrorHandler=f})(this.BX.AI=this.BX.AI||{},BX);
//# sourceMappingURL=ajax-error-handler.bundle.map.js