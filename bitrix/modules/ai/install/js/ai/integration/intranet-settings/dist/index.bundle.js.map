{"version":3,"file":"index.bundle.js","sources":["../src/ai_page.js","../src/index.js"],"sourcesContent":["import {Loc, Runtime, Tag, Type} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {Alert, AlertColor, AlertSize} from 'ui.alerts';\nimport {BaseField} from 'ui.form-elements.view';\nimport {Row} from 'ui.section';\nimport {Checker} from 'ui.form-elements.view';\nimport {SelectorField} from 'ai.ui.field.selectorfield';\nimport {SettingsSection, SettingsRow, SettingsField, BaseSettingsPage} from 'ui.form-elements.field';\nimport {AiSettingsItem, AiSettingsGroup, AiSettingsItemRelations, AiSettingsItemField} from './types';\n\nimport './css/ai_page.css';\n\nexport class AiPage extends BaseSettingsPage\n{\n\tstatic #groupIconDefaultSet = 'ui.icon-set.main';\n\tstatic #groupIconDefaultIcon = '--copilot-ai';\n\n\ttitlePage: string = '';\n\tdescriptionPage: string = '';\n\n\t#itemRelations: [AiSettingsItemRelations] = [];\n\t#itemFields: {[string]: AiSettingsItemField} = {};\n\t#onSaveCheckers: [Checker] = [];\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.titlePage = Loc.getMessage('INTRANET_SETTINGS_TITLE_PAGE_AI');\n\t\tthis.descriptionPage = Loc.getMessage('INTRANET_SETTINGS_TITLE_PAGE_AI_DESC');\n\t}\n\n\tgetType(): string\n\t{\n\t\treturn 'ai';\n\t}\n\n\tappendSections(contentNode: HTMLElement): void\n\t{\n\t\tconst groups: ?{[string]: AiSettingsGroup} = this.getValue('fields');\n\t\tif (groups)\n\t\t{\n\t\t\tthis.isOpen = true;\n\t\t\tfor (let groupCode in groups)\n\t\t\t{\n\t\t\t\tconst section = this.#buildGroup(groups[groupCode]);\n\t\t\t\tif (this.isOpen === true)\n\t\t\t\t{\n\t\t\t\t\tthis.isOpen = false;\n\t\t\t\t}\n\t\t\t\tif (section)\n\t\t\t\t{\n\t\t\t\t\tsection.renderTo(contentNode);\n\t\t\t\t}\n\n\t\t\t\tif (groups[groupCode].relations)\n\t\t\t\t{\n\t\t\t\t\tgroups[groupCode].relations.forEach(relation => {\n\t\t\t\t\t\tthis.#itemRelations.push(relation);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.#bindEvents();\n\t}\n\n\t#buildGroup(group: AiSettingsGroup): ?SettingsSection\n\t{\n\t\tif (!group.items)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tconst items = Object.values(group.items);\n\t\tif (items.length <= 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst {title, helpdesk, icon} = group;\n\t\tRuntime.loadExtension(icon.set ?? AiPage.#groupIconDefaultSet);\n\n\t\tconst section = new SettingsSection({\n\t\t\tparent: this,\n\t\t\tsection: {\n\t\t\t\ttitle,\n\t\t\t\ttitleIconClasses: 'ui-icon-set ' + (icon.code ?? AiPage.#groupIconDefaultIcon),\n\t\t\t\tisOpen: this.isOpen,\n\t\t\t},\n\t\t});\n\n\t\tif (group.description)\n\t\t{\n\t\t\tlet description = group.description;\n\t\t\tif (helpdesk)\n\t\t\t{\n\t\t\t\tconst helpdeskCode = 'redirect=detail&code=' + helpdesk;\n\t\t\t\tdescription += ' <a href=\"javascript: void();\"'\n\t\t\t\t\t+ ' onclick=\"BX.PreventDefault(); top.BX.Helper.show(\\'' + helpdeskCode + '\\');\"'\n\t\t\t\t\t+ '>'\n\t\t\t\t\t+ Loc.getMessage('INTRANET_SETTINGS_HELPDESK_LINK')\n\t\t\t\t\t+ '</a>'\n\t\t\t\t;\n\t\t\t}\n\n\t\t\tsection.getSectionView().append(\n\t\t\t\t(new Row({\n\t\t\t\t\tcontent: (new Alert({\n\t\t\t\t\t\trow: {\n\t\t\t\t\t\t\tseparator: 'null',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttext: description,\n\t\t\t\t\t\tinline: true,\n\t\t\t\t\t\tsize: AlertSize.SMALL,\n\t\t\t\t\t\tcolor: AlertColor.PRIMARY,\n\t\t\t\t\t})).getContainer(),\n\t\t\t\t})).render())\n\t\t\t;\n\t\t}\n\n\t\titems.forEach(item => {\n\t\t\tconst row = this.#buildItem(item);\n\t\t\tif (row.getChildrenElements().length > 0)\n\t\t\t{\n\t\t\t\trow.setParentElement(section);\n\t\t\t}\n\t\t});\n\n\t\treturn section;\n\t}\n\n\t#buildItem(\n\t\t{ code, header, onSave, options, recommended, restriction, title, type, value }: AiSettingsItem,\n\t): SettingsRow\n\t{\n\t\tconst withOnSave = onSave && onSave.switcher;\n\n\t\tconst row = new SettingsRow({\n\t\t\trow: {\n\t\t\t\tclassName: withOnSave ? '--with-on-save' : '',\n\t\t\t},\n\t\t});\n\n\t\tlet field = null;\n\t\tif (type === 'boolean')\n\t\t{\n\t\t\tconst checkerOptions = {\n\t\t\t\ttitle,\n\t\t\t\tinputName: code,\n\t\t\t\tchecked: value,\n\t\t\t\thintOn: header,\n\t\t\t\thintOff: header,\n\t\t\t};\n\n\t\t\tif (restriction)\n\t\t\t{\n\t\t\t\tcheckerOptions.isEnable = false;\n\t\t\t\tcheckerOptions.checked = false;\n\n\t\t\t\tconst messageNode = Tag.render`<span>${restriction.helpMessage}</span>`;\n\t\t\t\tcheckerOptions.helpMessageProvider = this.helpMessageProviderFactory(messageNode);\n\t\t\t\tcheckerOptions.bannerCode = restriction.bannerCode;\n\t\t\t}\n\n\t\t\tfield = new Checker(checkerOptions);\n\t\t}\n\n\t\telse if (type === 'list')\n\t\t{\n\t\t\tif (options && value)\n\t\t\t{\n\t\t\t\tconst items = [];\n\t\t\t\tconst additionalItems = [];\n\t\t\t\tfor (const option in options)\n\t\t\t\t{\n\t\t\t\t\tif (Type.isString(options[option]))\n\t\t\t\t\t{\n\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\tname: options[option],\n\t\t\t\t\t\t\tvalue: option,\n\t\t\t\t\t\t\tselected: option === value,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if (Type.isPlainObject(options[option]))\n\t\t\t\t\t{\n\t\t\t\t\t\tadditionalItems.push(options[option]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (items.length > 0)\n\t\t\t\t{\n\t\t\t\t\tfield = new SelectorField({\n\t\t\t\t\t\tinputName: code,\n\t\t\t\t\t\tlabel: title,\n\t\t\t\t\t\tname: code,\n\t\t\t\t\t\titems,\n\t\t\t\t\t\tadditionalItems,\n\t\t\t\t\t\trecommendedItems: recommended,\n\t\t\t\t\t\tcurrent: value,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (field)\n\t\t{\n\t\t\tthis.#addField(code, field, row);\n\t\t}\n\n\t\tif (withOnSave)\n\t\t{\n\t\t\tconst onSaveField = new Checker({\n\t\t\t\tinputName: code + '_onsave',\n\t\t\t\ttitle: onSave.switcher,\n\t\t\t\tchecked: false,\n\t\t\t\tsize: 'extra-small',\n\t\t\t\tnoMarginBottom: true,\n\t\t\t});\n\n\t\t\tthis.#addField(code, onSaveField, row);\n\t\t\tthis.#onSaveCheckers.push(onSaveField);\n\t\t}\n\n\t\treturn row;\n\t}\n\n\t#addField(code: string, field: BaseField, row: SettingsRow)\n\t{\n\t\trow.addChild(new SettingsField({\n\t\t\tfieldView: field,\n\t\t}));\n\n\t\tthis.#itemFields[code] = {\n\t\t\tcode,\n\t\t\tfield,\n\t\t\trow,\n\t\t};\n\t}\n\n\t#bindEvents()\n\t{\n\t\tif (this.#onSaveCheckers.length > 0)\n\t\t{\n\t\t\tEventEmitter.subscribe(\n\t\t\t\tEventEmitter.GLOBAL_TARGET, 'BX.Intranet.Settings:onBeforeSave', () => {\n\t\t\t\t\tthis.#onSaveCheckers.forEach(field => {\n\t\t\t\t\t\tfield.switcher?.check(false, false);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\n\t\tif (this.#itemRelations.length > 0)\n\t\t{\n\t\t\tthis.#itemRelations.forEach(relation => {\n\t\t\t\tconst parent = this.#itemFields[relation.parent];\n\t\t\t\tif (parent && parent.field && parent.field instanceof Checker)\n\t\t\t\t{\n\t\t\t\t\tif (!parent.field.isChecked())\n\t\t\t\t\t{\n\t\t\t\t\t\trelation.children.forEach(child => {\n\t\t\t\t\t\t\tconst node = this.#itemFields[child]?.row?.getRowView();\n\t\t\t\t\t\t\tnode.hide();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tEventEmitter.subscribe(parent.field, 'change', event => {\n\t\t\t\t\t\tconst isActive = event.getData();\n\t\t\t\t\t\trelation.children.forEach(child => {\n\t\t\t\t\t\t\tconst node = this.#itemFields[child]?.row?.getRowView();\n\t\t\t\t\t\t\tif (node)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisActive ? node.show() : node.hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","import { EventEmitter } from 'main.core.events';\nimport { AiPage } from './ai_page';\n\nEventEmitter.subscribe(\n\tEventEmitter.GLOBAL_TARGET,\n\t'BX.Intranet.Settings:onExternalPageLoaded:ai',\n\t() => new AiPage()\n);\n"],"names":["AiPage","titlePage","Loc","getMessage","descriptionPage","contentNode","groups","getValue","isOpen","groupCode","section","renderTo","relations","forEach","relation","push","BaseSettingsPage","group","items","Object","values","length","title","helpdesk","icon","Runtime","loadExtension","set","SettingsSection","parent","titleIconClasses","code","description","helpdeskCode","getSectionView","append","Row","content","Alert","row","separator","text","inline","size","AlertSize","SMALL","color","AlertColor","PRIMARY","getContainer","render","item","getChildrenElements","setParentElement","header","onSave","options","recommended","restriction","type","value","withOnSave","switcher","SettingsRow","className","field","checkerOptions","inputName","checked","hintOn","hintOff","isEnable","messageNode","Tag","helpMessage","helpMessageProvider","helpMessageProviderFactory","bannerCode","Checker","additionalItems","option","Type","isString","name","selected","isPlainObject","SelectorField","label","recommendedItems","current","onSaveField","noMarginBottom","addChild","SettingsField","fieldView","EventEmitter","subscribe","GLOBAL_TARGET","check","isChecked","children","child","node","getRowView","hide","event","isActive","getData","show"],"mappings":"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"}