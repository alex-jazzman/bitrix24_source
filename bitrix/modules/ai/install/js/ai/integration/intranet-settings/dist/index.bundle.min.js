this.BX=this.BX||{};this.BX.AI=this.BX.AI||{};this.BX.AI.Integration=this.BX.AI.Integration||{};(function(e,t,i,a,r,n,s,l){"use strict";var o;function c(e,t){h(e,t);t.add(e)}function d(e,t,i){h(e,t);t.set(e,i)}function h(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function v(e,t,i){u(e,t);f(i,"get");return p(e,i)}function f(e,t){if(e===undefined){throw new TypeError("attempted to "+t+" private static field before its declaration")}}function u(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function p(e,t){if(t.get){return t.get.call(e)}return t.value}function b(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var g=new WeakMap;var w=new WeakMap;var I=new WeakMap;var E=new WeakSet;var T=new WeakSet;var m=new WeakSet;var H=new WeakSet;var P=function(e){babelHelpers.inherits(i,e);function i(){var e;babelHelpers.classCallCheck(this,i);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this));c(babelHelpers.assertThisInitialized(e),H);c(babelHelpers.assertThisInitialized(e),m);c(babelHelpers.assertThisInitialized(e),T);c(babelHelpers.assertThisInitialized(e),E);babelHelpers.defineProperty(babelHelpers.assertThisInitialized(e),"titlePage","");babelHelpers.defineProperty(babelHelpers.assertThisInitialized(e),"descriptionPage","");d(babelHelpers.assertThisInitialized(e),g,{writable:true,value:[]});d(babelHelpers.assertThisInitialized(e),w,{writable:true,value:{}});d(babelHelpers.assertThisInitialized(e),I,{writable:true,value:[]});e.titlePage=t.Loc.getMessage("INTRANET_SETTINGS_TITLE_PAGE_AI");e.descriptionPage=t.Loc.getMessage("INTRANET_SETTINGS_TITLE_PAGE_AI_DESC");return e}babelHelpers.createClass(i,[{key:"getType",value:function e(){return"ai"}},{key:"appendSections",value:function e(t){var i=this;var a=this.getValue("fields");if(a){this.isOpen=true;for(var r in a){var n=b(this,E,S).call(this,a[r]);if(this.isOpen===true){this.isOpen=false}if(n){n.renderTo(t)}if(a[r].relations){a[r].relations.forEach((function(e){babelHelpers.classPrivateFieldGet(i,g).push(e)}))}}}b(this,H,k).call(this)}}]);return i}(l.BaseSettingsPage);function S(e){var i,n,s=this;if(!e.items){return}var o=Object.values(e.items);if(o.length<=0){return}var c=e.title,d=e.helpdesk,h=e.icon;t.Runtime.loadExtension((i=h.set)!==null&&i!==void 0?i:v(P,P,G));var f=new l.SettingsSection({parent:this,section:{title:c,titleIconClasses:"ui-icon-set "+((n=h.code)!==null&&n!==void 0?n:v(P,P,X)),isOpen:this.isOpen}});if(e.description){var u=e.description;if(d){var p="redirect=detail&code="+d;u+=' <a href="javascript: void();"'+" onclick=\"BX.PreventDefault(); top.BX.Helper.show('"+p+"');\""+">"+t.Loc.getMessage("INTRANET_SETTINGS_HELPDESK_LINK")+"</a>"}f.getSectionView().append(new r.Row({content:new a.Alert({row:{separator:"null"},text:u,inline:true,size:a.AlertSize.SMALL,color:a.AlertColor.PRIMARY}).getContainer()}).render())}o.forEach((function(e){var t=b(s,T,B).call(s,e);if(t.getChildrenElements().length>0){t.setParentElement(f)}}));return f}function B(e){var i=e.code,a=e.header,r=e.onSave,c=e.options,d=e.recommended,h=e.restriction,v=e.title,f=e.type,u=e.value;var p=r&&r.switcher;var g=new l.SettingsRow({row:{className:p?"--with-on-save":""}});var w=null;if(f==="boolean"){var E={title:v,inputName:i,checked:u,hintOn:a,hintOff:a};if(h){E.isEnable=false;E.checked=false;var T=t.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(["<span>","</span>"])),h.helpMessage);E.helpMessageProvider=this.helpMessageProviderFactory(T);E.bannerCode=h.bannerCode}w=new s.Checker(E)}else if(f==="list"){if(c&&u){var H=[];var P=[];for(var S in c){if(t.Type.isString(c[S])){H.push({name:c[S],value:S,selected:S===u})}else if(t.Type.isPlainObject(c[S])){P.push(c[S])}}if(H.length>0){w=new n.SelectorField({inputName:i,label:v,name:i,items:H,additionalItems:P,recommendedItems:d,current:u})}}}if(w){b(this,m,A).call(this,i,w,g)}if(p){var B=new s.Checker({inputName:i+"_onsave",title:r.switcher,checked:false,size:"extra-small",noMarginBottom:true});b(this,m,A).call(this,i,B,g);babelHelpers.classPrivateFieldGet(this,I).push(B)}return g}function A(e,t,i){i.addChild(new l.SettingsField({fieldView:t}));babelHelpers.classPrivateFieldGet(this,w)[e]={code:e,field:t,row:i}}function k(){var e=this;if(babelHelpers.classPrivateFieldGet(this,I).length>0){i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Settings:onBeforeSave",(function(){babelHelpers.classPrivateFieldGet(e,I).forEach((function(e){var t;(t=e.switcher)===null||t===void 0?void 0:t.check(false,false)}))}))}if(babelHelpers.classPrivateFieldGet(this,g).length>0){babelHelpers.classPrivateFieldGet(this,g).forEach((function(t){var a=babelHelpers.classPrivateFieldGet(e,w)[t.parent];if(a&&a.field&&a.field instanceof s.Checker){if(!a.field.isChecked()){t.children.forEach((function(t){var i,a;var r=(i=babelHelpers.classPrivateFieldGet(e,w)[t])===null||i===void 0?void 0:(a=i.row)===null||a===void 0?void 0:a.getRowView();r.hide()}))}i.EventEmitter.subscribe(a.field,"change",(function(i){var a=i.getData();t.children.forEach((function(t){var i,r;var n=(i=babelHelpers.classPrivateFieldGet(e,w)[t])===null||i===void 0?void 0:(r=i.row)===null||r===void 0?void 0:r.getRowView();if(n){a?n.show():n.hide()}}))}))}}))}}var G={writable:true,value:"ui.icon-set.main"};var X={writable:true,value:"--copilot-ai"};i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Settings:onExternalPageLoaded:ai",(function(){return new P}))})(this.BX.AI.Integration.IntranetSettings=this.BX.AI.Integration.IntranetSettings||{},BX,BX.Event,BX.UI,BX.UI,BX.AI.UI.Field,BX.UI.FormElements,BX.UI.FormElements);
//# sourceMappingURL=index.bundle.map.js