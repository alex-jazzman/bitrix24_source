<? namespace Bitrix\Main;$GLOBALS['____1509050977']= array(base64_decode('Zmls'.'ZV'.'9leGlz'.'dHM='),base64_decode('c3'.'R'.'ydG91cH'.'Blcg=='),base64_decode('bW'.'Q1'),base64_decode('bWQ1'),base64_decode('aW5fYXJyYXk'.'='),base64_decode('aW5fY'.'XJyY'.'Xk='),base64_decode('a'.'W5'.'f'.'YXJ'.'yY'.'Xk='),base64_decode(''.'Z'.'GVmaW5lZA=='),base64_decode('ZGVmaW'.'5lZA=='),base64_decode('ZG'.'V'.'m'.'aW5lZA'.'=='),base64_decode(''.'Z'.'ml'.'s'.'ZV9leGlzdHM='),base64_decode('ZmlsZV'.'9'.'leGlzdHM='),base64_decode('Zml'.'sZV9'.'le'.'GlzdHM='),base64_decode('ZmlsZV9l'.'eGlzdHM='),base64_decode('Z'.'XhwbG9kZQ'.'='.'='));if(!function_exists(__NAMESPACE__.'\\___357673910')){function ___357673910($_903178136){static $_132290814= false; if($_132290814 == false) $_132290814=array('L2Jp'.'d'.'HJpeC9sa'.'WNlbn'.'Nl'.'X2'.'tl'.'eS5w'.'a'.'HA=','','',''.'REVNTw==','REVNTw==',''.'QklU'.'UklY',''.'TElDRU5DRQ==',''.'REVNTw='.'=','L2'.'tleV9'.'1'.'cGRhdGUucG'.'hwP2xpY2Vuc2Vfa2'.'V5PQ='.'=','JnR'.'vYmFza2V0'.'P'.'Xk'.'mb'.'GF'.'uZz0=','c'.'nU=',''.'a3o'.'=','Ynk=','a'.'HR'.'0cHM'.'6Ly9kZX'.'YuMW'.'MtYml'.'0cml4'.'LnJ1L2'.'xlYXJuaW5nL2Nvd'.'X'.'JzZS9pbmRleC'.'5waHA/Q'.'0'.'9VUlNF'.'X'.'0lEPTE'.'z'.'NS'.'ZMRVN'.'TT05f'.'S'.'UQ9MjU3'.'MjA=','a'.'HR0cHM6Ly90c'.'m'.'Fpbml'.'u'.'Zy'.'5iaXR'.'yaXgyN'.'C5jb20v'.'c3VwcG9ydC'.'90'.'cmFpbmluZ'.'y9jb3Vyc2UvaW5k'.'ZXgucGhw'.'P0'.'NPVVJTR'.'V'.'9JR'.'D0xNzgmTE'.'V'.'T'.'U09OX'.'0lEPTI1OTMy'.'JkxFU1NP'.'Tl9Q'.'QVRIPTE3NTIwLjE'.'3N'.'TYyLjI1'.'OTM'.'w'.'LjI1OTM'.'y',''.'cnU=','Ynk=','a3o=',''.'Z'.'GU=','ZXU=',''.'Zn'.'I=',''.'c'.'Gw'.'=','aXQ=',''.'dWs=','ZXU=','Y29t','ZW4'.'=',''.'R'.'EV'.'NTw==','W'.'Q==','V'.'El'.'NRUx'.'JTUlUX0'.'VES'.'VRJT04=','WQ='.'=','RU'.'5DT0RF','WQ==',''.'U2l'.'0Z'.'UV4'.'cG'.'lyZ'.'U'.'Rh'.'dGU=','bW'.'Fpbg='.'=','fn'.'N'.'1cHBvcn'.'R'.'fZm'.'luaXNoX'.'2RhdG'.'U'.'=','WS'.'1tLWQ'.'=','WS1tL'.'WQ'.'=','Yml'.'0cm'.'l'.'4'.'MjQ=','bWFpb'.'g==','flBBUkFNX0NM'.'SUV'.'O'.'VF9MQ'.'U5H','a'.'W5'.'0'.'cmFuZ'.'XQ=','ZW4=','cnU=','b'.'W'.'Fpbg==','dmVuZG'.'9y','d'.'W'.'FfYml0cml'.'4X3BvcnR'.'hbA==','dWE=','Y'.'m'.'l0cml'.'4'.'X3BvcnRh'.'b'.'A==','ZW'.'4=','M'.'WNfY'.'ml0cml4X'.'3'.'Bvcn'.'RhbA==','cnU=','L2J'.'p'.'d'.'HJ'.'peC'.'9tb2R1'.'b'.'GVzL21'.'h'.'aW4vbGF'.'uZ'.'y91YQ==',''.'dW'.'E=','L2'.'J'.'p'.'d'.'HJp'.'eC'.'9tb2R'.'1bGVzL2'.'1ha'.'W4vb'.'GF'.'u'.'Zy9ie'.'Q'.'='.'=',''.'Ynk=','L'.'2Jp'.'d'.'HJpeC9t'.'b2R1'.'bG'.'Vz'.'L'.'21haW4vbG'.'FuZy'.'9reg==','a3o'.'=','L2JpdHJpeC9tb2R'.'1b'.'GVzL'.'21haW4vbGFuZy9ydQ==',''.'cnU=',''.'bWFpb'.'g==','flBBUkFNX1'.'BBUlRORVJfS'.'UQ=','b'.'WFp'.'bg='.'=','U'.'EFSQ'.'U1'.'fT'.'UF'.'YX1VT'.'RVJT',''.'bWF'.'p'.'bg==','fkN'.'PV'.'U5UX0'.'V'.'Y'.'V'.'FJB',''.'Tg==','W'.'Q='.'=','ZXh'.'0cmF'.'uZXQ=','QU5'.'EIFUuTEFTVF9MT'.'0dJTi'.'A+IA='.'=',''.'Q'.'U5EIFU'.'uTEFTVF'.'9MT'.'0dJ'.'T'.'iB'.'JUyBO'.'T1Q'.'gTlVM'.'TA'.'='.'=',''.'aW50cm'.'FuZXQ=','Z'.'Xh0c'.'mF'.'uZXQ=','Z'.'Xh0c'.'mF'.'uZXR'.'fZ3JvdXA=','bWFpbg==','fmx'.'pY2Vuc2'.'V'.'fb'.'mF'.'tZQ='.'=','bWFpbg==','fm'.'xpY2Vuc2VfY2'.'9kZXM=','','L'.'A'.'==');return base64_decode($_132290814[$_903178136]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1402602373= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1402602373 === null){ $_773438378= Loader::getDocumentRoot(). ___357673910(0); $LICENSE_KEY= ___357673910(1); if($GLOBALS['____1509050977'][0]($_773438378)){ include($_773438378);} $this->_1402602373=($LICENSE_KEY == ___357673910(2) || $GLOBALS['____1509050977'][1]($LICENSE_KEY) == ___357673910(3)? ___357673910(4): $LICENSE_KEY);} return $this->_1402602373;} public function getHashLicenseKey(): string{ return $GLOBALS['____1509050977'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1509050977'][3](___357673910(5). $this->getKey(). ___357673910(6));} public function isDemoKey(): bool{ return $this->getKey() == ___357673910(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___357673910(8). $this->getHashLicenseKey(). ___357673910(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1538008427= $this->getRegion(); if($GLOBALS['____1509050977'][4]($_1538008427,[___357673910(10), ___357673910(11), ___357673910(12)])){ return ___357673910(13);} return ___357673910(14);} public function getRenewalLink(): string{ $_1538008427= $this->getRegion(); if($GLOBALS['____1509050977'][5]($_1538008427,[___357673910(15), ___357673910(16), ___357673910(17), ___357673910(18)])){ return self::URL_RENEWAL_LICENSE[$_1538008427];} if($GLOBALS['____1509050977'][6]($_1538008427,[___357673910(19), ___357673910(20), ___357673910(21), ___357673910(22), ___357673910(23)])){ return self::URL_RENEWAL_LICENSE[___357673910(24)];} return self::URL_RENEWAL_LICENSE[___357673910(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___357673910(26)];} public function isDemo(): bool{ return $GLOBALS['____1509050977'][7](___357673910(27)) && DEMO === ___357673910(28);} public function isTimeBound(): bool{ return $GLOBALS['____1509050977'][8](___357673910(29)) && TIMELIMIT_EDITION === ___357673910(30);} public function isEncoded(): bool{ return $GLOBALS['____1509050977'][9](___357673910(31)) && ENCODE === ___357673910(32);} public function getExpireDate():?Date{ $_1740976030= (int)($GLOBALS[___357673910(33)] ??(1136/2-568)); if($_1740976030>(810-2*405)){ return Date::createFromTimestamp($_1740976030);} return null;} public function getSupportExpireDate():?Date{ $_1740976030= Option::get(___357673910(34), ___357673910(35)); if(Date::isCorrect($_1740976030, ___357673910(36))){ return new Date($_1740976030, ___357673910(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___357673910(38))){ return \CBitrix24::getPortalZone();} $_1538008427= Option::get(___357673910(39), ___357673910(40)); if(!empty($_1538008427)){ return $_1538008427;} $_1538008427= $this->__1591115800(); if(!empty($_1538008427)){ return $_1538008427;} return $this->__1343923439();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___357673910(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___357673910(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___357673910(43)];} private function __1591115800():?string{ $_1239153345= Option::get(___357673910(44), ___357673910(45)); if($_1239153345 === ___357673910(46)){ return ___357673910(47);} if($_1239153345 === ___357673910(48)){ return ___357673910(49);} if($_1239153345 === ___357673910(50)){ return ___357673910(51);} return null;} private function __1343923439():?string{ $_1946738359= Application::getDocumentRoot(); if($GLOBALS['____1509050977'][10]($_1946738359. ___357673910(52))){ return ___357673910(53);} if($GLOBALS['____1509050977'][11]($_1946738359. ___357673910(54))){ return ___357673910(55);} if($GLOBALS['____1509050977'][12]($_1946738359. ___357673910(56))){ return ___357673910(57);} if($GLOBALS['____1509050977'][13]($_1946738359. ___357673910(58))){ return ___357673910(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___357673910(60), ___357673910(61), min(122,0,40.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___357673910(62), ___357673910(63), min(160,0,53.333333333333));} public function isExtraCountable(): bool{ return Option::get(___357673910(64), ___357673910(65), ___357673910(66)) === ___357673910(67) && ModuleManager::isModuleInstalled(___357673910(68));} public function getActiveUsersCount(Date $_603409792= null): int{ $_687978939= Application::getConnection(); $_1054807302=(866-2*433); if($_603409792 !== null){  $_608109329= ___357673910(69).$_687978939->getSqlHelper()->convertToDbDate($_603409792);} else{  $_608109329= ___357673910(70);} if(ModuleManager::isModuleInstalled(___357673910(71))){ $_104405202="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_608109329}
			"; $_1054807302= (int)$_687978939->queryScalar($_104405202); $_497658394= (int)Option::get(___357673910(72), ___357673910(73)); if($_497658394>(886-2*443) && $this->isExtraCountable()){ $_104405202="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_497658394}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_608109329}
							AND D.VALUE_ID IS NULL
					"; $_1054807302 += (int)$_687978939->queryScalar($_104405202);}} return $_1054807302;}  public function getName(): string{ return Option::get(___357673910(74), ___357673910(75));}  public function getCodes(): array{ $_91912591= Option::get(___357673910(76), ___357673910(77)); if($_91912591 != ___357673910(78)){ return $GLOBALS['____1509050977'][14](___357673910(79), $_91912591);} return[];}}?>