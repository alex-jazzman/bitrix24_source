<? namespace Bitrix\Main;$GLOBALS['____290365197']= array(base64_decode('Zml'.'sZV9'.'le'.'GlzdHM='),base64_decode('c3Ry'.'dG91'.'c'.'HBlc'.'g='.'='),base64_decode('bWQ1'),base64_decode('bWQ1'),base64_decode('aW5fYXJyYX'.'k='),base64_decode('a'.'W5fYXJyY'.'Xk='),base64_decode('aW'.'5fYXJyYXk='),base64_decode('ZG'.'VmaW5lZ'.'A'.'=='),base64_decode(''.'ZGVmaW5'.'lZ'.'A=='),base64_decode('ZG'.'VmaW5lZA='.'='),base64_decode('Zml'.'sZV9le'.'GlzdHM='),base64_decode('ZmlsZ'.'V'.'9'.'leG'.'lzdHM='),base64_decode('Zmls'.'Z'.'V9leG'.'lzdHM='),base64_decode('Z'.'m'.'l'.'sZV9leGlzd'.'H'.'M'.'='),base64_decode('ZXhwbG9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___821643188')){function ___821643188($_314837141){static $_550213988= false; if($_550213988 == false) $_550213988=array('L2'.'JpdH'.'J'.'peC9saWNlbnNlX2tleS5w'.'aHA=','','','REV'.'N'.'Tw'.'==','REVN'.'Tw'.'==',''.'QklUUklY',''.'TElD'.'RU5D'.'RQ'.'==','REVNTw==','L2t'.'l'.'e'.'V91c'.'GR'.'hd'.'G'.'UucG'.'h'.'w'.'P'.'2xpY2'.'Vu'.'c2Vf'.'a'.'2V5'.'P'.'Q==','JnRvYmFza'.'2V'.'0PXkmbGFuZ'.'z0=','c'.'n'.'U=',''.'a3o=','Ynk=',''.'aHR'.'0c'.'HM6L'.'y'.'9k'.'Z'.'XYuMWM'.'tY'.'ml0cml4L'.'nJ1L2xl'.'Y'.'X'.'Jua'.'W5n'.'L'.'2NvdX'.'J'.'z'.'ZS9pb'.'mR'.'leC5w'.'a'.'HA/Q'.'09VUlNFX0l'.'EPTEz'.'N'.'S'.'ZMRV'.'NTT05fSUQ'.'9MjU'.'3Mj'.'A=','aHR0c'.'HM6Ly90cmFpbmluZy5iaXRy'.'aXgy'.'NC5jb20v'.'c3'.'VwcG'.'9ydC90'.'cmFpbmluZ'.'y9jb3V'.'yc2Uv'.'aW5kZ'.'XgucG'.'hwP0N'.'P'.'VVJ'.'TRV'.'9JR'.'D0xNzgmT'.'EV'.'TU09'.'OX0lEPTI'.'1O'.'TMyJkxFU'.'1NPTl'.'9QQVRIP'.'TE3NTIwLjE3N'.'TYy'.'L'.'j'.'I1OTM'.'wLjI1OTM'.'y',''.'cnU=','Ynk=','a3o=','ZGU=','Z'.'X'.'U=',''.'ZnI'.'=','cGw=','aX'.'Q=','dWs=','ZXU=','Y29'.'t','ZW4=','REV'.'NTw==','WQ==','VElNRU'.'x'.'JTUlUX0V'.'ESVRJT04=','WQ'.'==','R'.'U5'.'DT0RF',''.'WQ==','U2l'.'0Z'.'U'.'V4cGlyZUR'.'hdG'.'U=','bWFpbg==','fnN1'.'cHBv'.'cn'.'RfZmlu'.'aX'.'NoX2'.'RhdG'.'U=',''.'WS1'.'tL'.'WQ=','W'.'S1t'.'L'.'WQ=','Yml0c'.'ml4M'.'jQ'.'=','bWFp'.'bg='.'=','flBBUkF'.'NX0NM'.'SUVOV'.'F9M'.'QU5H',''.'aW'.'50cmF'.'uZXQ'.'=',''.'ZW'.'4'.'=','cnU=','bW'.'F'.'pbg==','d'.'mVuZG9y','dWF'.'fYml0cml4'.'X3BvcnRhbA==','dWE=','Y'.'ml0cml4X'.'3'.'Bv'.'cnR'.'hbA==','ZW4=',''.'M'.'WNfYml0'.'c'.'ml4X3B'.'vcnRhbA==','cnU=','L2'.'JpdHJpe'.'C9tb2R'.'1bGVzL21h'.'aW'.'4v'.'bGFuZy91YQ==','dWE=','L2JpdHJpe'.'C9tb2R1bGVzL2'.'1haW4'.'vb'.'GF'.'uZy'.'9ieQ==','Ynk=','L2'.'JpdHJpeC'.'9tb2R1'.'b'.'GVz'.'L21haW4vbGFuZy'.'9reg==','a3'.'o=','L2JpdH'.'J'.'peC9tb2R'.'1bGV'.'zL21haW4'.'vbG'.'Fu'.'Zy9ydQ='.'=','c'.'nU=','bWFpbg==','f'.'lBBUkFNX'.'1'.'BBUlRORV'.'JfS'.'UQ=','bWFp'.'bg==','UE'.'FSQU1fTU'.'FY'.'X'.'1V'.'TRVJT','b'.'WFp'.'b'.'g==','fkNPVU5'.'UX'.'0'.'VYVFJB',''.'Tg==','WQ==',''.'ZXh0cmFu'.'ZXQ'.'=','QU5'.'EIFU'.'uTE'.'F'.'TVF9'.'MT0dJTiA+IA'.'==','QU5E'.'IFUuTE'.'FT'.'VF'.'9MT0dJTiBJUy'.'BO'.'T1QgTlV'.'MT'.'A='.'=','aW50cmF'.'uZX'.'Q=',''.'ZXh0c'.'m'.'FuZXQ=','ZX'.'h0c'.'mF'.'uZX'.'R'.'fZ3JvdXA=','b'.'WFpb'.'g==','fmxpY2Vuc2VfbmFt'.'Z'.'Q==','b'.'WFp'.'bg==','fmxpY2Vuc2VfY29kZ'.'XM=','','LA==');return base64_decode($_550213988[$_314837141]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1044359726= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1044359726 === null){ $_319143673= Loader::getDocumentRoot(). ___821643188(0); $LICENSE_KEY= ___821643188(1); if($GLOBALS['____290365197'][0]($_319143673)){ include($_319143673);} $this->_1044359726=($LICENSE_KEY == ___821643188(2) || $GLOBALS['____290365197'][1]($LICENSE_KEY) == ___821643188(3)? ___821643188(4): $LICENSE_KEY);} return $this->_1044359726;} public function getHashLicenseKey(): string{ return $GLOBALS['____290365197'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____290365197'][3](___821643188(5). $this->getKey(). ___821643188(6));} public function isDemoKey(): bool{ return $this->getKey() == ___821643188(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___821643188(8). $this->getHashLicenseKey(). ___821643188(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1411496039= $this->getRegion(); if($GLOBALS['____290365197'][4]($_1411496039,[___821643188(10), ___821643188(11), ___821643188(12)])){ return ___821643188(13);} return ___821643188(14);} public function getRenewalLink(): string{ $_1411496039= $this->getRegion(); if($GLOBALS['____290365197'][5]($_1411496039,[___821643188(15), ___821643188(16), ___821643188(17), ___821643188(18)])){ return self::URL_RENEWAL_LICENSE[$_1411496039];} if($GLOBALS['____290365197'][6]($_1411496039,[___821643188(19), ___821643188(20), ___821643188(21), ___821643188(22), ___821643188(23)])){ return self::URL_RENEWAL_LICENSE[___821643188(24)];} return self::URL_RENEWAL_LICENSE[___821643188(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___821643188(26)];} public function isDemo(): bool{ return $GLOBALS['____290365197'][7](___821643188(27)) && DEMO === ___821643188(28);} public function isTimeBound(): bool{ return $GLOBALS['____290365197'][8](___821643188(29)) && TIMELIMIT_EDITION === ___821643188(30);} public function isEncoded(): bool{ return $GLOBALS['____290365197'][9](___821643188(31)) && ENCODE === ___821643188(32);} public function getExpireDate():?Date{ $_1254632069= (int)($GLOBALS[___821643188(33)] ??(233*2-466)); if($_1254632069> min(218,0,72.666666666667)){ return Date::createFromTimestamp($_1254632069);} return null;} public function getSupportExpireDate():?Date{ $_1254632069= Option::get(___821643188(34), ___821643188(35)); if(Date::isCorrect($_1254632069, ___821643188(36))){ return new Date($_1254632069, ___821643188(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___821643188(38))){ return \CBitrix24::getPortalZone();} $_1411496039= Option::get(___821643188(39), ___821643188(40)); if(!empty($_1411496039)){ return $_1411496039;} $_1411496039= $this->__1145523985(); if(!empty($_1411496039)){ return $_1411496039;} return $this->__376242293();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___821643188(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___821643188(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___821643188(43)];} private function __1145523985():?string{ $_428845681= Option::get(___821643188(44), ___821643188(45)); if($_428845681 === ___821643188(46)){ return ___821643188(47);} if($_428845681 === ___821643188(48)){ return ___821643188(49);} if($_428845681 === ___821643188(50)){ return ___821643188(51);} return null;} private function __376242293():?string{ $_598970087= Application::getDocumentRoot(); if($GLOBALS['____290365197'][10]($_598970087. ___821643188(52))){ return ___821643188(53);} if($GLOBALS['____290365197'][11]($_598970087. ___821643188(54))){ return ___821643188(55);} if($GLOBALS['____290365197'][12]($_598970087. ___821643188(56))){ return ___821643188(57);} if($GLOBALS['____290365197'][13]($_598970087. ___821643188(58))){ return ___821643188(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___821643188(60), ___821643188(61), min(98,0,32.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___821643188(62), ___821643188(63),(804-2*402));} public function isExtraCountable(): bool{ return Option::get(___821643188(64), ___821643188(65), ___821643188(66)) === ___821643188(67) && ModuleManager::isModuleInstalled(___821643188(68));} public function getActiveUsersCount(Date $_600325637= null): int{ $_5662828= Application::getConnection(); $_728020599=(992-2*496); if($_600325637 !== null){  $_795749087= ___821643188(69).$_5662828->getSqlHelper()->convertToDbDate($_600325637);} else{  $_795749087= ___821643188(70);} if(ModuleManager::isModuleInstalled(___821643188(71))){ $_493571364="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_795749087}
			"; $_728020599= (int)$_5662828->queryScalar($_493571364); $_65384803= (int)Option::get(___821643188(72), ___821643188(73)); if($_65384803>(1224/2-612) && $this->isExtraCountable()){ $_493571364="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_65384803}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_795749087}
							AND D.VALUE_ID IS NULL
					"; $_728020599 += (int)$_5662828->queryScalar($_493571364);}} return $_728020599;}  public function getName(): string{ return Option::get(___821643188(74), ___821643188(75));}  public function getCodes(): array{ $_1184854761= Option::get(___821643188(76), ___821643188(77)); if($_1184854761 != ___821643188(78)){ return $GLOBALS['____290365197'][14](___821643188(79), $_1184854761);} return[];}}?>