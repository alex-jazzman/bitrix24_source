<? namespace Bitrix\Main;$GLOBALS['____720439062']= array(base64_decode('ZmlsZV9'.'leGl'.'zdHM='),base64_decode(''.'c3RydG91c'.'H'.'Blc'.'g='.'='),base64_decode('b'.'WQ'.'1'),base64_decode('bW'.'Q'.'1'),base64_decode('aW5fYXJyYXk='),base64_decode('aW5fYXJy'.'YXk='),base64_decode(''.'aW'.'5f'.'YXJyYXk='),base64_decode('ZGVmaW5l'.'Z'.'A=='),base64_decode('ZGV'.'m'.'aW5l'.'ZA=='),base64_decode('ZGVm'.'aW5lZA=='),base64_decode('Zm'.'lsZV9le'.'GlzdHM='),base64_decode('Zm'.'lsZ'.'V9le'.'Gl'.'zdHM='),base64_decode(''.'Zm'.'lsZ'.'V9leGlzd'.'HM='),base64_decode('Zmls'.'ZV9'.'l'.'eGlzdHM='),base64_decode('ZX'.'hwbG9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___1728320376')){function ___1728320376($_109113668){static $_114722302= false; if($_114722302 == false) $_114722302=array(''.'L2J'.'pdHJpeC9s'.'aW'.'NlbnNl'.'X2tleS5wa'.'HA=','','','REVN'.'Tw==','RE'.'VNTw==','Qkl'.'UUklY',''.'TE'.'lDRU5'.'DRQ==',''.'R'.'EV'.'NTw==','L2tle'.'V9'.'1cG'.'Rh'.'dGUucGh'.'wP2xpY2Vuc2'.'Vf'.'a2'.'V'.'5P'.'Q==',''.'J'.'nR'.'vYmFz'.'a2V0P'.'XkmbGFu'.'Zz0=','cnU=','a3o=',''.'Ynk=','a'.'HR'.'0cHM6Ly9kZXYu'.'MWMt'.'Yml'.'0'.'cml'.'4'.'LnJ1L'.'2'.'xlYXJuaW5nL'.'2Nvd'.'XJ'.'zZS9pbmRle'.'C5waHA/Q09'.'VUlNFX'.'0lEPTEzNSZMR'.'V'.'NTT05fSUQ9MjU3MjA=',''.'aHR0cHM'.'6Ly9'.'0'.'cmFpbml'.'uZ'.'y5ia'.'XRyaXgyNC5jb'.'2'.'0'.'v'.'c3VwcG9'.'ydC90c'.'mFpbm'.'luZy'.'9jb3'.'Vyc'.'2Uv'.'a'.'W5kZXgu'.'cG'.'hwP0NPVVJTRV9'.'JR'.'D'.'0xN'.'zgm'.'TE'.'VT'.'U0'.'9OX0lEP'.'TI1OT'.'MyJ'.'kx'.'FU'.'1NPTl9QQVRIPTE3N'.'TIwLjE'.'3NT'.'YyL'.'j'.'I'.'1OTMwLjI'.'1OTMy','c'.'nU=',''.'Y'.'nk=','a3o=','ZGU=','ZXU=',''.'ZnI=',''.'cG'.'w=','aXQ=','dW'.'s=','ZXU'.'=','Y29'.'t','ZW4=','REVNTw='.'=','WQ==',''.'VElNRU'.'x'.'JT'.'UlU'.'X0V'.'ESVRJT'.'04=',''.'WQ'.'==',''.'RU5DT0RF','WQ='.'=','U2l0ZUV4cGlyZUR'.'hdGU=','bWFpbg==','fnN1cHBvc'.'nRfZm'.'l'.'uaXNoX2RhdG'.'U=','WS1tLWQ=','WS1tL'.'WQ'.'=','Ym'.'l0'.'cml4MjQ=',''.'bW'.'Fpbg==','flBBUkF'.'NX'.'0NMSU'.'VOVF'.'9MQ'.'U5'.'H','aW'.'5'.'0c'.'m'.'F'.'uZXQ=','ZW4=',''.'cnU=','bWFp'.'bg==','dm'.'Vu'.'ZG9'.'y','Y'.'m'.'l0cml4X'.'3B'.'vc'.'nR'.'hbA'.'==','ZW4'.'=','MWNfY'.'ml0cm'.'l4X3Bv'.'cnR'.'hbA==','cnU=','L2JpdHJ'.'pe'.'C'.'9tb2R'.'1bGVzL'.'21'.'haW4v'.'bGF'.'uZy91YQ'.'='.'=','dW'.'E=','L2JpdHJ'.'peC9tb'.'2'.'R1'.'bGVzL'.'21h'.'aW4vbGFuZ'.'y'.'9ieQ==','Ynk'.'=','L'.'2J'.'pdHJpeC9tb2R1bGVzL'.'21haW4v'.'bGFuZy9r'.'eg==','a3o'.'=','L2JpdHJpe'.'C9tb2'.'R1bGVzL21haW'.'4vbGFuZy'.'9yd'.'Q'.'==','cnU=','bWFp'.'bg'.'='.'=',''.'fl'.'BBUkFNX1B'.'BUlRORV'.'J'.'fSUQ=',''.'bWF'.'pbg'.'==','UEFSQU1fT'.'UFY'.'X1VTRVJ'.'T',''.'bWFpb'.'g==','fk'.'N'.'P'.'VU5'.'UX0'.'VYVFJB',''.'Tg==','W'.'Q==','ZXh0cm'.'FuZ'.'XQ=','QU5E'.'I'.'FUuTEFTVF'.'9'.'MT'.'0dJ'.'TiA+IA==',''.'QU5EI'.'F'.'UuTEF'.'TVF9MT0dJTiBJUyBOT1QgTlVMT'.'A='.'=','aW50cmFu'.'ZXQ=','ZXh0cm'.'FuZXQ=','ZX'.'h0cmFuZXRf'.'Z'.'3Jv'.'dXA=','b'.'WFp'.'bg'.'='.'=','f'.'m'.'xpY2V'.'uc2VfbmFt'.'Z'.'Q==','bWFpbg'.'==','fmxpY2V'.'uc2Vf'.'Y'.'2'.'9kZ'.'XM=','','LA='.'=');return base64_decode($_114722302[$_109113668]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1897879425= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1897879425 === null){ $_548461598= Loader::getDocumentRoot(). ___1728320376(0); $LICENSE_KEY= ___1728320376(1); if($GLOBALS['____720439062'][0]($_548461598)){ include($_548461598);} $this->_1897879425=($LICENSE_KEY == ___1728320376(2) || $GLOBALS['____720439062'][1]($LICENSE_KEY) == ___1728320376(3)? ___1728320376(4): $LICENSE_KEY);} return $this->_1897879425;} public function getHashLicenseKey(): string{ return $GLOBALS['____720439062'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____720439062'][3](___1728320376(5). $this->getKey(). ___1728320376(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1728320376(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1728320376(8). $this->getHashLicenseKey(). ___1728320376(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_505607985= $this->getRegion(); if($GLOBALS['____720439062'][4]($_505607985,[___1728320376(10), ___1728320376(11), ___1728320376(12)])){ return ___1728320376(13);} return ___1728320376(14);} public function getRenewalLink(): string{ $_505607985= $this->getRegion(); if($GLOBALS['____720439062'][5]($_505607985,[___1728320376(15), ___1728320376(16), ___1728320376(17), ___1728320376(18)])){ return self::URL_RENEWAL_LICENSE[$_505607985];} if($GLOBALS['____720439062'][6]($_505607985,[___1728320376(19), ___1728320376(20), ___1728320376(21), ___1728320376(22), ___1728320376(23)])){ return self::URL_RENEWAL_LICENSE[___1728320376(24)];} return self::URL_RENEWAL_LICENSE[___1728320376(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1728320376(26)];} public function isDemo(): bool{ return $GLOBALS['____720439062'][7](___1728320376(27)) && DEMO === ___1728320376(28);} public function isTimeBound(): bool{ return $GLOBALS['____720439062'][8](___1728320376(29)) && TIMELIMIT_EDITION === ___1728320376(30);} public function isEncoded(): bool{ return $GLOBALS['____720439062'][9](___1728320376(31)) && ENCODE === ___1728320376(32);} public function getExpireDate():?Date{ $_873562937= (int)($GLOBALS[___1728320376(33)] ??(220*2-440)); if($_873562937>(1292/2-646)){ return Date::createFromTimestamp($_873562937);} return null;} public function getSupportExpireDate():?Date{ $_873562937= Option::get(___1728320376(34), ___1728320376(35)); if(Date::isCorrect($_873562937, ___1728320376(36))){ return new Date($_873562937, ___1728320376(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1728320376(38))){ return \CBitrix24::getPortalZone();} $_505607985= Option::get(___1728320376(39), ___1728320376(40)); if(!empty($_505607985)){ return $_505607985;} $_505607985= $this->__1706808331(); if(!empty($_505607985)){ return $_505607985;} return $this->__696529146();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1728320376(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1728320376(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1728320376(43)];} private function __1706808331():?string{ $_696836317= Option::get(___1728320376(44), ___1728320376(45)); if($_696836317 === ___1728320376(46)){ return ___1728320376(47);} if($_696836317 === ___1728320376(48)){ return ___1728320376(49);} return null;} private function __696529146():?string{ $_1237029916= Application::getDocumentRoot(); if($GLOBALS['____720439062'][10]($_1237029916. ___1728320376(50))){ return ___1728320376(51);} if($GLOBALS['____720439062'][11]($_1237029916. ___1728320376(52))){ return ___1728320376(53);} if($GLOBALS['____720439062'][12]($_1237029916. ___1728320376(54))){ return ___1728320376(55);} if($GLOBALS['____720439062'][13]($_1237029916. ___1728320376(56))){ return ___1728320376(57);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1728320376(58), ___1728320376(59),(982-2*491));} public function getMaxUsers(): int{ return (int)Option::get(___1728320376(60), ___1728320376(61), min(214,0,71.333333333333));} public function isExtraCountable(): bool{ return Option::get(___1728320376(62), ___1728320376(63), ___1728320376(64)) === ___1728320376(65) && ModuleManager::isModuleInstalled(___1728320376(66));} public function getActiveUsersCount(Date $_697010347= null): int{ $_996541211= Application::getConnection(); $_1658523174= min(188,0,62.666666666667); if($_697010347 !== null){  $_1747101413= ___1728320376(67).$_996541211->getSqlHelper()->convertToDbDate($_697010347);} else{  $_1747101413= ___1728320376(68);} if(ModuleManager::isModuleInstalled(___1728320376(69))){ $_1949851747="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1747101413}
			"; $_1658523174= (int)$_996541211->queryScalar($_1949851747); $_61661220= (int)Option::get(___1728320376(70), ___1728320376(71)); if($_61661220> min(134,0,44.666666666667) && $this->isExtraCountable()){ $_1949851747="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_61661220}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1747101413}
							AND D.VALUE_ID IS NULL
					"; $_1658523174 += (int)$_996541211->queryScalar($_1949851747);}} return $_1658523174;}  public function getName(): string{ return Option::get(___1728320376(72), ___1728320376(73));}  public function getCodes(): array{ $_1747481372= Option::get(___1728320376(74), ___1728320376(75)); if($_1747481372 != ___1728320376(76)){ return $GLOBALS['____720439062'][14](___1728320376(77), $_1747481372);} return[];}}?>