<? namespace Bitrix\Main;$GLOBALS['____1967735908']= array(base64_decode('Zml'.'sZV'.'9leGlzdHM='),base64_decode(''.'c3Ryd'.'G91cHBl'.'cg=='),base64_decode('bWQ1'),base64_decode('bW'.'Q1'),base64_decode('aW5f'.'YXJy'.'Y'.'Xk='),base64_decode('aW5fYXJy'.'YX'.'k='),base64_decode('aW'.'5'.'fYXJy'.'Y'.'Xk'.'='),base64_decode('Z'.'GVmaW'.'5lZA=='),base64_decode(''.'ZGVmaW'.'5lZA=='),base64_decode('ZG'.'VmaW5lZ'.'A=='),base64_decode('Zml'.'sZV9le'.'Glzd'.'HM'.'='),base64_decode('Z'.'mlsZV9le'.'G'.'lzdHM='),base64_decode('Z'.'ml'.'sZV9le'.'G'.'lzd'.'HM='),base64_decode('ZmlsZV9leGlzd'.'HM='),base64_decode('ZXhwbG9kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___973310437')){function ___973310437($_1499512955){static $_1364110758= false; if($_1364110758 == false) $_1364110758=array(''.'L2JpdHJ'.'peC'.'9s'.'aWNlbnN'.'lX2t'.'leS5'.'wa'.'H'.'A'.'=','','','REV'.'NTw==','REVNTw==',''.'QklUUkl'.'Y','TElD'.'RU5DRQ'.'==','REVNTw==',''.'L2tleV91cG'.'Rhd'.'GU'.'u'.'cGh'.'wP2xpY2'.'Vuc2Vfa2V5PQ'.'==','JnR'.'vYmFza'.'2'.'V0PXkm'.'bGFuZz'.'0=','c'.'nU=','a3o=','Ynk=','aHR0cHM'.'6Ly9kZ'.'XYuMWMtY'.'m'.'l0c'.'ml'.'4LnJ1L'.'2'.'xl'.'YXJuaW5'.'nL2Nvd'.'XJ'.'zZS9pbmRleC5waH'.'A/Q0'.'9VUlNFX0lEPTEz'.'N'.'SZMRVN'.'TT'.'05f'.'S'.'UQ9'.'Mj'.'U'.'3'.'MjA=','aHR0cHM'.'6'.'L'.'y90cmFp'.'bmluZy5iaXR'.'yaXgyNC'.'5jb2'.'0v'.'c3'.'Vw'.'c'.'G9ydC90cmFpbm'.'luZy9j'.'b'.'3Vyc2'.'Uv'.'aW5kZXguc'.'Gh'.'w'.'P0N'.'PVVJT'.'RV9JR'.'D0x'.'Nzg'.'mT'.'EVT'.'U09OX0lEPTI1'.'OTMy'.'J'.'kxFU1N'.'PT'.'l9'.'Q'.'QVRIPTE3NTIwLj'.'E3NTY'.'yLjI1O'.'T'.'Mw'.'LjI'.'1OTM'.'y','cnU'.'=','Y'.'nk=','a3o=',''.'ZGU'.'=','ZXU=','ZnI=','cGw=','aXQ'.'=','dWs=','ZXU=','Y29t','ZW4=','REVNTw==','WQ==','VEl'.'NR'.'UxJ'.'TUlUX0V'.'ESVR'.'JT04=',''.'W'.'Q==','RU5DT0'.'RF','WQ==','U2'.'l0ZUV4c'.'G'.'l'.'yZURhdGU'.'=','bWF'.'pbg'.'==','f'.'n'.'N1cHBvcnRfZ'.'mlu'.'aXNo'.'X2Rh'.'dG'.'U=','W'.'S1t'.'LWQ=','WS1tL'.'WQ=','Yml'.'0'.'c'.'ml4Mj'.'Q=',''.'bW'.'Fpbg'.'==','flB'.'BUkF'.'NX0NMSUVOV'.'F'.'9MQU'.'5H','aW50cm'.'FuZXQ=','ZW4=','cnU=','bWFpbg==','dmVuZ'.'G9y','dWF'.'fYml0cml4X'.'3B'.'vc'.'n'.'RhbA==','d'.'WE=','Yml0cml4'.'X3BvcnRh'.'bA'.'='.'=','ZW'.'4'.'=','MWNfYml0'.'cml4X'.'3BvcnRh'.'bA='.'=','cnU=',''.'L2JpdHJpeC'.'9tb2R'.'1bGVzL'.'21'.'h'.'aW4vbGF'.'uZy91YQ'.'==','dWE=',''.'L2'.'J'.'p'.'d'.'H'.'JpeC9t'.'b2R1'.'b'.'GVz'.'L21haW4vbGFu'.'Zy9i'.'eQ'.'==','Yn'.'k=','L2JpdHJpeC9tb2R1bGVzL21'.'haW'.'4vbGFuZy'.'9reg'.'==','a3o=',''.'L2J'.'pdHJpeC9tb2R1b'.'G'.'VzL2'.'1haW4v'.'bGFuZ'.'y9ydQ==','cn'.'U=',''.'bWFp'.'b'.'g==','flBBUkFN'.'X1BBUlRORVJfS'.'U'.'Q=','bW'.'F'.'pbg==','U'.'EF'.'SQU1fTUFYX1'.'VTRV'.'JT','b'.'WF'.'pb'.'g='.'=',''.'fkN'.'PVU5UX'.'0V'.'Y'.'VFJB','Tg'.'==','WQ==','ZXh'.'0'.'c'.'mFuZXQ=','QU'.'5'.'EIFUuTEFTVF9MT0dJTiA+IA==','QU5'.'EIFU'.'uTEF'.'T'.'VF9MT0dJTiBJU'.'y'.'BOT1Q'.'gTlV'.'MTA'.'==','aW5'.'0cm'.'FuZXQ=','bWFp'.'bg==','fmxp'.'Y2Vuc'.'2V'.'f'.'bmFtZQ==','bWFp'.'bg='.'=','fmxpY2'.'Vuc2'.'VfY29kZXM=','','LA==');return base64_decode($_1364110758[$_1499512955]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_707975664= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_707975664 === null){ $_1352563230= Loader::getDocumentRoot(). ___973310437(0); $LICENSE_KEY= ___973310437(1); if($GLOBALS['____1967735908'][0]($_1352563230)){ include($_1352563230);} $this->_707975664=($LICENSE_KEY == ___973310437(2) || $GLOBALS['____1967735908'][1]($LICENSE_KEY) == ___973310437(3)? ___973310437(4): $LICENSE_KEY);} return $this->_707975664;} public function getHashLicenseKey(): string{ return $GLOBALS['____1967735908'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1967735908'][3](___973310437(5). $this->getKey(). ___973310437(6));} public function isDemoKey(): bool{ return $this->getKey() == ___973310437(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___973310437(8). $this->getHashLicenseKey(). ___973310437(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1809493486= $this->getRegion(); if($GLOBALS['____1967735908'][4]($_1809493486,[___973310437(10), ___973310437(11), ___973310437(12)])){ return ___973310437(13);} return ___973310437(14);} public function getRenewalLink(): string{ $_1809493486= $this->getRegion(); if($GLOBALS['____1967735908'][5]($_1809493486,[___973310437(15), ___973310437(16), ___973310437(17), ___973310437(18)])){ return self::URL_RENEWAL_LICENSE[$_1809493486];} if($GLOBALS['____1967735908'][6]($_1809493486,[___973310437(19), ___973310437(20), ___973310437(21), ___973310437(22), ___973310437(23)])){ return self::URL_RENEWAL_LICENSE[___973310437(24)];} return self::URL_RENEWAL_LICENSE[___973310437(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___973310437(26)];} public function isDemo(): bool{ return $GLOBALS['____1967735908'][7](___973310437(27)) && DEMO === ___973310437(28);} public function isTimeBound(): bool{ return $GLOBALS['____1967735908'][8](___973310437(29)) && TIMELIMIT_EDITION === ___973310437(30);} public function isEncoded(): bool{ return $GLOBALS['____1967735908'][9](___973310437(31)) && ENCODE === ___973310437(32);} public function getExpireDate():?Date{ $_1479378385= (int)($GLOBALS[___973310437(33)] ??(984-2*492)); if($_1479378385>(180*2-360)){ return Date::createFromTimestamp($_1479378385);} return null;} public function getSupportExpireDate():?Date{ $_1479378385= Option::get(___973310437(34), ___973310437(35)); if(Date::isCorrect($_1479378385, ___973310437(36))){ return new Date($_1479378385, ___973310437(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___973310437(38))){ return \CBitrix24::getPortalZone();} $_1809493486= Option::get(___973310437(39), ___973310437(40)); if(!empty($_1809493486)){ return $_1809493486;} $_1809493486= $this->__1593816956(); if(!empty($_1809493486)){ return $_1809493486;} return $this->__1945360797();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___973310437(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___973310437(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___973310437(43)];} private function __1593816956():?string{ $_816915429= Option::get(___973310437(44), ___973310437(45)); if($_816915429 === ___973310437(46)){ return ___973310437(47);} if($_816915429 === ___973310437(48)){ return ___973310437(49);} if($_816915429 === ___973310437(50)){ return ___973310437(51);} return null;} private function __1945360797():?string{ $_763892074= Application::getDocumentRoot(); if($GLOBALS['____1967735908'][10]($_763892074. ___973310437(52))){ return ___973310437(53);} if($GLOBALS['____1967735908'][11]($_763892074. ___973310437(54))){ return ___973310437(55);} if($GLOBALS['____1967735908'][12]($_763892074. ___973310437(56))){ return ___973310437(57);} if($GLOBALS['____1967735908'][13]($_763892074. ___973310437(58))){ return ___973310437(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___973310437(60), ___973310437(61),(796-2*398));} public function getMaxUsers(): int{ return (int)Option::get(___973310437(62), ___973310437(63), min(124,0,41.333333333333));} public function isExtraCountable(): bool{ return Option::get(___973310437(64), ___973310437(65), ___973310437(66)) === ___973310437(67) && ModuleManager::isModuleInstalled(___973310437(68));} public function getActiveUsersCount(Date $_135312380= null): int{ $_67062108= Application::getConnection(); $_1135222276=(139*2-278); if($_135312380 !== null){  $_496159701= ___973310437(69).$_67062108->getSqlHelper()->convertToDbDate($_135312380);} else{  $_496159701= ___973310437(70);} if(ModuleManager::isModuleInstalled(___973310437(71))){ $_1518139748="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_496159701}
			"; $_1135222276= (int)$_67062108->queryScalar($_1518139748); if($this->isExtraCountable()){ $_1518139748="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_496159701}
							AND D.VALUE_ID IS NULL
					"; $_1135222276 += (int)$_67062108->queryScalar($_1518139748);}} return $_1135222276;}  public function getName(): string{ return Option::get(___973310437(72), ___973310437(73));}  public function getCodes(): array{ $_466252467= Option::get(___973310437(74), ___973310437(75)); if($_466252467 != ___973310437(76)){ return $GLOBALS['____1967735908'][14](___973310437(77), $_466252467);} return[];}}?>