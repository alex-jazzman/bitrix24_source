<? namespace Bitrix\Main;$GLOBALS['____1491073685']= array(base64_decode('Zm'.'lsZV9leGlzd'.'HM'.'='),base64_decode('c3R'.'y'.'dG91cHB'.'lcg=='),base64_decode('bWQ1'),base64_decode('bWQ1'),base64_decode('aW5fYXJyYXk='),base64_decode('a'.'W5'.'fYXJyYX'.'k'.'='),base64_decode('aW5fYXJyY'.'Xk='),base64_decode('ZG'.'VmaW5lZA'.'=='),base64_decode('Z'.'GVmaW5lZA=='),base64_decode('Z'.'G'.'VmaW'.'5lZA=='),base64_decode(''.'Z'.'mlsZV9l'.'eGlzdHM='),base64_decode(''.'Zmls'.'ZV9leG'.'lzdHM='),base64_decode('Z'.'mlsZV9leGlz'.'dHM='),base64_decode('Z'.'ml'.'sZV9'.'leGl'.'zdHM='),base64_decode('ZXhwbG9'.'kZQ=='));if(!function_exists(__NAMESPACE__.'\\___1832713816')){function ___1832713816($_163466182){static $_1050560276= false; if($_1050560276 == false) $_1050560276=array('L2Jp'.'dHJpeC9saW'.'NlbnNlX2tle'.'S5'.'waH'.'A=','','','REVNTw==','REVNTw==','Qk'.'lUUkl'.'Y','TElDRU5D'.'RQ==','REVNTw==','L2tleV91cGRhdGUucG'.'h'.'wP2'.'xp'.'Y2Vu'.'c2'.'Vfa2V5'.'P'.'Q='.'=','JnRvYmFza'.'2V0PXkmbGFuZ'.'z0=','cnU=','a3o=','Y'.'n'.'k=','aHR0c'.'H'.'M6L'.'y9kZXYuMWM'.'tYml0'.'cm'.'l4LnJ1L2x'.'lYXJu'.'a'.'W'.'5nL2N'.'v'.'d'.'XJzZS9'.'pb'.'m'.'Rl'.'eC5waH'.'A/Q'.'09VUlN'.'FX'.'0lEP'.'TEzNSZMRVNTT0'.'5fSU'.'Q9Mj'.'U3M'.'jA=','a'.'HR0cHM6L'.'y'.'9'.'0c'.'mFp'.'b'.'mlu'.'Z'.'y'.'5i'.'aXRyaX'.'gyNC5jb2'.'0vc'.'3Vwc'.'G9yd'.'C90cmFpbml'.'uZy'.'9'.'jb3Vyc2UvaW5'.'kZ'.'Xg'.'u'.'cG'.'hw'.'P0NPVVJTRV9JRD0'.'xNzgmTEVTU09OX0'.'lEP'.'TI1'.'OTM'.'yJkxFU1'.'NPTl9Q'.'QV'.'RIPTE3NT'.'I'.'wLjE3NTYyLjI1O'.'T'.'M'.'w'.'LjI1OTMy','cnU=',''.'Ynk=',''.'a3o=','ZG'.'U=','ZXU=','ZnI=','cGw=','aX'.'Q=','dWs=',''.'ZXU=','Y29t',''.'ZW4=','R'.'EVNT'.'w==','WQ==','VElN'.'R'.'U'.'xJT'.'Ul'.'UX0VESV'.'RJT'.'04=','WQ='.'=','RU5D'.'T0'.'RF',''.'WQ'.'==','U2l0Z'.'UV'.'4cGlyZ'.'URhdGU=','bW'.'Fpb'.'g='.'=','f'.'nN1cH'.'BvcnRfZmlu'.'aXNoX2RhdG'.'U=',''.'WS'.'1t'.'LWQ'.'=','WS1t'.'LWQ=',''.'Yml'.'0'.'c'.'ml'.'4MjQ'.'=','b'.'WFpbg==',''.'flBBUkFN'.'X0'.'NMS'.'UVOV'.'F9MQU5H','a'.'W5'.'0cmF'.'uZXQ'.'=','ZW4=','cnU=','bWFpb'.'g='.'=',''.'dmVu'.'ZG9y',''.'d'.'W'.'FfYml0cm'.'l4'.'X3'.'B'.'vcnRhb'.'A'.'==',''.'dWE'.'=','Yml0cml4X3B'.'vcnRhb'.'A'.'==',''.'ZW4=','M'.'WNfYml'.'0cml4X3'.'BvcnRh'.'bA==','cnU'.'=',''.'L'.'2'.'Jpd'.'HJpeC9t'.'b2'.'R1b'.'G'.'V'.'zL'.'21haW4vbGFuZ'.'y'.'91YQ==','dW'.'E=','L2'.'Jp'.'dHJp'.'eC'.'9tb2'.'R1bGV'.'zL2'.'1haW4vbGFuZ'.'y9ieQ==','Ynk=','L2J'.'pdHJ'.'peC'.'9'.'tb'.'2R1bGVzL'.'21'.'h'.'aW4vbG'.'FuZ'.'y9reg='.'=','a3o=',''.'L2Jp'.'dHJpeC9tb2R1bGVz'.'L21h'.'aW4vbGF'.'uZy9y'.'dQ==','cn'.'U=','bWFpbg'.'==',''.'flB'.'B'.'UkFNX1BBUlRO'.'RVJfSUQ=','bWFpbg==','UEFS'.'Q'.'U1fTUFYX1VTR'.'VJT','b'.'W'.'Fpbg='.'=','fkNPVU5UX0VYVFJB','Tg'.'==','WQ==',''.'Z'.'Xh0cm'.'Fu'.'Z'.'XQ=','QU5'.'EIFU'.'u'.'TEFT'.'VF9MT0dJTi'.'A+'.'IA==','Q'.'U5EIFUu'.'T'.'E'.'F'.'TVF9MT0dJ'.'TiBJUyBO'.'T'.'1'.'QgTlV'.'MTA==','aW'.'5'.'0cmFuZX'.'Q'.'=','ZXh0'.'cmF'.'uZXQ=','ZXh0cmFuZXRfZ'.'3JvdXA=','bWFpbg==',''.'fmx'.'pY2V'.'uc2VfbmFtZQ'.'==',''.'b'.'WFp'.'b'.'g'.'==','fmxp'.'Y'.'2Vuc2VfY2'.'9kZX'.'M=','','LA==');return base64_decode($_1050560276[$_163466182]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1149436836= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1149436836 === null){ $_1969262472= Loader::getDocumentRoot(). ___1832713816(0); $LICENSE_KEY= ___1832713816(1); if($GLOBALS['____1491073685'][0]($_1969262472)){ include($_1969262472);} $this->_1149436836=($LICENSE_KEY == ___1832713816(2) || $GLOBALS['____1491073685'][1]($LICENSE_KEY) == ___1832713816(3)? ___1832713816(4): $LICENSE_KEY);} return $this->_1149436836;} public function getHashLicenseKey(): string{ return $GLOBALS['____1491073685'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1491073685'][3](___1832713816(5). $this->getKey(). ___1832713816(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1832713816(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1832713816(8). $this->getHashLicenseKey(). ___1832713816(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1899378618= $this->getRegion(); if($GLOBALS['____1491073685'][4]($_1899378618,[___1832713816(10), ___1832713816(11), ___1832713816(12)])){ return ___1832713816(13);} return ___1832713816(14);} public function getRenewalLink(): string{ $_1899378618= $this->getRegion(); if($GLOBALS['____1491073685'][5]($_1899378618,[___1832713816(15), ___1832713816(16), ___1832713816(17), ___1832713816(18)])){ return self::URL_RENEWAL_LICENSE[$_1899378618];} if($GLOBALS['____1491073685'][6]($_1899378618,[___1832713816(19), ___1832713816(20), ___1832713816(21), ___1832713816(22), ___1832713816(23)])){ return self::URL_RENEWAL_LICENSE[___1832713816(24)];} return self::URL_RENEWAL_LICENSE[___1832713816(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1832713816(26)];} public function isDemo(): bool{ return $GLOBALS['____1491073685'][7](___1832713816(27)) && DEMO === ___1832713816(28);} public function isTimeBound(): bool{ return $GLOBALS['____1491073685'][8](___1832713816(29)) && TIMELIMIT_EDITION === ___1832713816(30);} public function isEncoded(): bool{ return $GLOBALS['____1491073685'][9](___1832713816(31)) && ENCODE === ___1832713816(32);} public function getExpireDate():?Date{ $_904708401= (int)($GLOBALS[___1832713816(33)] ??(798-2*399)); if($_904708401>(194*2-388)){ return Date::createFromTimestamp($_904708401);} return null;} public function getSupportExpireDate():?Date{ $_904708401= Option::get(___1832713816(34), ___1832713816(35)); if(Date::isCorrect($_904708401, ___1832713816(36))){ return new Date($_904708401, ___1832713816(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1832713816(38))){ return \CBitrix24::getPortalZone();} $_1899378618= Option::get(___1832713816(39), ___1832713816(40)); if(!empty($_1899378618)){ return $_1899378618;} $_1899378618= $this->__40849951(); if(!empty($_1899378618)){ return $_1899378618;} return $this->__932793056();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1832713816(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1832713816(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1832713816(43)];} private function __40849951():?string{ $_1135932459= Option::get(___1832713816(44), ___1832713816(45)); if($_1135932459 === ___1832713816(46)){ return ___1832713816(47);} if($_1135932459 === ___1832713816(48)){ return ___1832713816(49);} if($_1135932459 === ___1832713816(50)){ return ___1832713816(51);} return null;} private function __932793056():?string{ $_1370053541= Application::getDocumentRoot(); if($GLOBALS['____1491073685'][10]($_1370053541. ___1832713816(52))){ return ___1832713816(53);} if($GLOBALS['____1491073685'][11]($_1370053541. ___1832713816(54))){ return ___1832713816(55);} if($GLOBALS['____1491073685'][12]($_1370053541. ___1832713816(56))){ return ___1832713816(57);} if($GLOBALS['____1491073685'][13]($_1370053541. ___1832713816(58))){ return ___1832713816(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1832713816(60), ___1832713816(61),(952-2*476));} public function getMaxUsers(): int{ return (int)Option::get(___1832713816(62), ___1832713816(63), min(140,0,46.666666666667));} public function isExtraCountable(): bool{ return Option::get(___1832713816(64), ___1832713816(65), ___1832713816(66)) === ___1832713816(67) && ModuleManager::isModuleInstalled(___1832713816(68));} public function getActiveUsersCount(Date $_486018725= null): int{ $_1432335671= Application::getConnection(); $_1369683560= min(190,0,63.333333333333); if($_486018725 !== null){  $_1026452863= ___1832713816(69).$_1432335671->getSqlHelper()->convertToDbDate($_486018725);} else{  $_1026452863= ___1832713816(70);} if(ModuleManager::isModuleInstalled(___1832713816(71))){ $_1611615144="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1026452863}
			"; $_1369683560= (int)$_1432335671->queryScalar($_1611615144); $_645044565= (int)Option::get(___1832713816(72), ___1832713816(73)); if($_645044565> min(18,0,6) && $this->isExtraCountable()){ $_1611615144="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_645044565}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1026452863}
							AND D.VALUE_ID IS NULL
					"; $_1369683560 += (int)$_1432335671->queryScalar($_1611615144);}} return $_1369683560;}  public function getName(): string{ return Option::get(___1832713816(74), ___1832713816(75));}  public function getCodes(): array{ $_1674705132= Option::get(___1832713816(76), ___1832713816(77)); if($_1674705132 != ___1832713816(78)){ return $GLOBALS['____1491073685'][14](___1832713816(79), $_1674705132);} return[];}}?>