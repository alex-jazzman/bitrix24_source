{"version":3,"file":"script.map.js","names":["this","BX","Disk","exports","ui_buttons","main_popup","disk_externalLink","disk_sharingLegacyPopup","InvalidTokenError","_Error","babelHelpers","inherits","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","wrapNativeSuper","Error","prototype","name","b64DecodeUnicode","str","decodeURIComponent","atob","replace","m","p","code","charCodeAt","toString","toUpperCase","length","base64UrlDecode","output","err","jwtDecode","token","options","pos","header","part","split","concat","decoded","e","message","JSON","parse","AccessLevel","DashboardFlow","SDKEvents","WebSDK","params","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","accessLevel","canEditBoard","boardData","jwtParams","user_id","username","avatar_url","access_level","can_edit_board","webhook_url","document_id","download_link","session_id","file_name","readonly","editable","documentId","fileUrl","sessionId","fileName","console","error","boardParams","appUrl","encodeURIComponent","lang","partnerId","boardUrl","ui","colorTheme","openTemplatesModal","compactHeader","showCloseButton","dashboardFlow","undefined","exportAsFile","spinner","userKickable","confirmUserKick","scrollToElement","features","appContainerDomain","window","location","origin","iframeEl","document","createElement","allow","addEventListener","destroy","bind","createClass","key","value","init","container","getElementById","containerId","src","createUrl","style","width","height","border","appendChild","FlipBoard","getBoardMethods","_this","tryToCloseBoard","Promise","resolve","reject","event","data","successCloseApp","errorCloseApp","contentWindow","postMessage","tryToCloseApp","renameBoard","successBoardRenamed","errorBoardRenamed","url","URL","searchParams","set","Date","now","listenBoardEvents","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","_3","_4","waitParams","setParams","boardChanged","events","onBoardChanged","onBoardRenamed","userIsKicked","onUserKicked","userConfirmKickFromBoard","onUserKickConfirmed","shareElementWithSocials","onShareElementWithSocials","link","social","removeEventListener","Board","defineProperty","setupSharingButton","ButtonManager","createByUniqId","panelButtonUniqIds","setupSharing","sharingControlType","unifiedLinkAccessOnly","bindEvents","menuWindow","getMenuWindow","extLinkOptions","getMenuItem","onclick","handleClickSharingByExternalLink","removeMenuItem","addMenuItem","sharingOptions","handleClickSharing","menuItem","close","dataset","shouldBlockExternalLinkFeature","eval","blockerExternalLinkFeature","ExternalLinkForUnifiedLink","showPopup","uniqueCode","ExternalLink","id","showSharingRightsPopup","popup","LegacyPopup","popupOptions","object","SharingControlType","WITH_CHANGE_RIGHTS","WITH_SHARING","showSharingDetailWithChangeRights","WITHOUT_EDIT","showSharingDetailWithoutEdit","SDK","Flipchart","UI","Main","Sharing"],"sources":["script.js"],"mappings":"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","ignoreList":[]}