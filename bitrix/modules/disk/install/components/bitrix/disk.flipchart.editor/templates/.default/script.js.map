{"version":3,"file":"script.js","sources":["src/jwt-decode/build/esm/index.js","src/flip-board-sdk/src/lib/types/SDK.js","src/flip-board-sdk/src/lib/types/events.js","src/flip-board-sdk/src/lib/flip-board-sdk.js","src/board.js","src/index.js"],"sourcesContent":["export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","export var AccessLevel;\n(function (AccessLevel) {\n    AccessLevel[\"private\"] = \"private\";\n    AccessLevel[\"readonly\"] = \"readonly\";\n    AccessLevel[\"editable\"] = \"editable\";\n})(AccessLevel || (AccessLevel = {}));\nexport var DashboardFlow;\n(function (DashboardFlow) {\n    DashboardFlow[\"short\"] = \"short\";\n})(DashboardFlow || (DashboardFlow = {}));\n//# sourceMappingURL=SDK.js.map","export var SDKEvents;\n(function (SDKEvents) {\n    SDKEvents[\"waitParams\"] = \"waitSDKParams\";\n    SDKEvents[\"setParams\"] = \"setParams\";\n    SDKEvents[\"boardChanged\"] = \"boardChanged\";\n    SDKEvents[\"tryToCloseApp\"] = \"tryToCloseApp\";\n    SDKEvents[\"successCloseApp\"] = \"successCloseApp\";\n    SDKEvents[\"errorCloseApp\"] = \"errorCloseApp\";\n    SDKEvents[\"renameBoard\"] = \"renameBoard\";\n    SDKEvents[\"successBoardRenamed\"] = \"successBoardRenamed\";\n    SDKEvents[\"errorBoardRenamed\"] = \"errorBoardRenamed\";\n    SDKEvents[\"userIsKicked\"] = \"userIsKicked\";\n    SDKEvents[\"userConfirmKickFromBoard\"] = \"userConfirmKickFromBoard\";\n    SDKEvents[\"shareElementWithSocials\"] = \"shareElementWithSocials\";\n})(SDKEvents || (SDKEvents = {}));\n//# sourceMappingURL=events.js.map","import { jwtDecode } from \"../../../jwt-decode/build/esm/index\";\nimport { AccessLevel } from './types/SDK';\nimport { SDKEvents } from './types/events';\nexport default class WebSDK {\n    constructor(params) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        this.params = params;\n        let accessLevel;\n        let canEditBoard;\n        const boardData = {};\n        let jwtParams = {\n            user_id: '',\n            username: '',\n            avatar_url: '',\n            access_level: 'read',\n            can_edit_board: false,\n            webhook_url: '',\n            document_id: '',\n            download_link: '',\n            session_id: '',\n            file_name: '',\n        };\n        if (params.token) {\n            try {\n                jwtParams = jwtDecode(params.token);\n                accessLevel = jwtParams.access_level === 'read' ? AccessLevel.readonly : AccessLevel.editable;\n                canEditBoard = jwtParams.can_edit_board;\n                boardData.documentId = jwtParams.document_id;\n                boardData.fileUrl = jwtParams.download_link;\n                boardData.sessionId = jwtParams.session_id;\n                boardData.fileName = jwtParams.file_name;\n            }\n            catch (e) {\n                console.error('invalid token');\n            }\n        }\n        this.boardParams = {\n            appUrl: encodeURIComponent(params.appUrl),\n            accessLevel,\n            canEditBoard,\n            token: params.token,\n            lang: params.lang || 'ru',\n            // bitrix partnerId by default\n            partnerId: params.partnerId || '0',\n            boardUrl: params.boardUrl && encodeURIComponent(params.boardUrl),\n            ui: {\n                colorTheme: ((_a = params.ui) === null || _a === void 0 ? void 0 : _a.colorTheme) || 'flipOriginLight',\n                openTemplatesModal: !!((_b = params.ui) === null || _b === void 0 ? void 0 : _b.openTemplatesModal),\n                compactHeader: !!((_c = params.ui) === null || _c === void 0 ? void 0 : _c.compactHeader),\n                showCloseButton: !!((_d = params.ui) === null || _d === void 0 ? void 0 : _d.showCloseButton),\n                dashboardFlow: ((_e = params.ui) === null || _e === void 0 ? void 0 : _e.dashboardFlow) || undefined,\n                exportAsFile: ((_f = params.ui) === null || _f === void 0 ? void 0 : _f.exportAsFile) !== false,\n                spinner: (_g = params.ui) === null || _g === void 0 ? void 0 : _g.spinner,\n                userKickable: (_h = params.ui) === null || _h === void 0 ? void 0 : _h.userKickable,\n                confirmUserKick: (_j = params.ui) === null || _j === void 0 ? void 0 : _j.confirmUserKick,\n                scrollToElement: (_k = params.ui) === null || _k === void 0 ? void 0 : _k.scrollToElement,\n                features: (_l = params.ui) === null || _l === void 0 ? void 0 : _l.features,\n            },\n            appContainerDomain: window.location.origin,\n            boardData,\n        };\n        this.iframeEl = document.createElement('iframe');\n        this.iframeEl.allow = 'clipboard-read; clipboard-write; fullscreen';\n        window.addEventListener('beforeunload', this.destroy.bind(this));\n    }\n    init() {\n        const container = document.getElementById(this.params.containerId);\n        if (!container) {\n            console.error(`Элемент с id \"${this.params.containerId}\" не найден.`);\n            return;\n        }\n        this.iframeEl.src = this.createUrl();\n        this.iframeEl.style.width = '100%';\n        this.iframeEl.style.height = '100%';\n        this.iframeEl.style.border = 'none';\n        container.appendChild(this.iframeEl);\n        this.addEventListener();\n        window.FlipBoard = this.getBoardMethods();\n    }\n    getBoardMethods() {\n        return {\n            tryToCloseBoard: () => new Promise((resolve, reject) => {\n                var _a;\n                window.addEventListener('message', (event) => {\n                    var _a, _b;\n                    if (((_a = event.data) === null || _a === void 0 ? void 0 : _a.event) === SDKEvents.successCloseApp) {\n                        resolve();\n                    }\n                    if (((_b = event.data) === null || _b === void 0 ? void 0 : _b.event) === SDKEvents.errorCloseApp) {\n                        reject();\n                    }\n                });\n                (_a = this.iframeEl.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage({ event: SDKEvents.tryToCloseApp }, '*');\n            }),\n            renameBoard: (name) => new Promise((resolve, reject) => {\n                var _a;\n                window.addEventListener('message', (event) => {\n                    var _a, _b;\n                    if (((_a = event.data) === null || _a === void 0 ? void 0 : _a.event) === SDKEvents.successBoardRenamed) {\n                        resolve();\n                    }\n                    if (((_b = event.data) === null || _b === void 0 ? void 0 : _b.event) === SDKEvents.errorBoardRenamed) {\n                        reject();\n                    }\n                });\n                (_a = this.iframeEl.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage({\n                    event: SDKEvents.renameBoard,\n                    data: { name },\n                }, '*');\n            }),\n            // Другие методы можно добавить здесь\n        };\n    }\n    createUrl() {\n        const url = new URL(`${this.params.appUrl}${this.boardParams.partnerId === '0' ? '/sdkBoard' : ''}`);\n        url.searchParams.set('fromSDK', 'true');\n        if (this.boardParams.ui.openTemplatesModal)\n            url.searchParams.set('openTemplates', 'true');\n        if (this.boardParams.ui.spinner && this.boardParams.ui.spinner !== 'default')\n            url.searchParams.set('spinner', this.boardParams.ui.spinner);\n        url.searchParams.set('dt', Date.now().toString());\n        if (this.boardParams.ui.scrollToElement)\n            url.searchParams.set('elementId', this.boardParams.ui.scrollToElement);\n        return url.toString();\n    }\n    addEventListener() {\n        window.addEventListener('message', this.listenBoardEvents.bind(this));\n    }\n    listenBoardEvents(event) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4;\n        if (((_a = event.data) === null || _a === void 0 ? void 0 : _a.event) === SDKEvents.waitParams) {\n            // @ts-ignore\n            (_b = this.iframeEl.contentWindow) === null || _b === void 0 ? void 0 : _b.postMessage({ event: SDKEvents.setParams, data: this.boardParams }, '*');\n        }\n        if (((_c = event.data) === null || _c === void 0 ? void 0 : _c.event) === SDKEvents.boardChanged) {\n            if ((_e = (_d = this.params) === null || _d === void 0 ? void 0 : _d.events) === null || _e === void 0 ? void 0 : _e.onBoardChanged) {\n                this.params.events.onBoardChanged();\n            }\n        }\n        if (((_f = event.data) === null || _f === void 0 ? void 0 : _f.event) === SDKEvents.successBoardRenamed) {\n            if ((_h = (_g = this.params) === null || _g === void 0 ? void 0 : _g.events) === null || _h === void 0 ? void 0 : _h.onBoardRenamed) {\n                this.params.events.onBoardRenamed(((_k = (_j = event.data) === null || _j === void 0 ? void 0 : _j.data) === null || _k === void 0 ? void 0 : _k.name) || '');\n            }\n        }\n        if (((_l = event.data) === null || _l === void 0 ? void 0 : _l.event) === SDKEvents.userIsKicked) {\n            if ((_o = (_m = this.params) === null || _m === void 0 ? void 0 : _m.events) === null || _o === void 0 ? void 0 : _o.onUserKicked) {\n                (_q = (_p = this.params) === null || _p === void 0 ? void 0 : _p.events) === null || _q === void 0 ? void 0 : _q.onUserKicked();\n            }\n        }\n        if (((_r = event.data) === null || _r === void 0 ? void 0 : _r.event) === SDKEvents.userConfirmKickFromBoard) {\n            if ((_t = (_s = this.params) === null || _s === void 0 ? void 0 : _s.events) === null || _t === void 0 ? void 0 : _t.onUserKickConfirmed) {\n                (_v = (_u = this.params) === null || _u === void 0 ? void 0 : _u.events) === null || _v === void 0 ? void 0 : _v.onUserKickConfirmed();\n            }\n        }\n        if (((_w = event.data) === null || _w === void 0 ? void 0 : _w.event) === SDKEvents.shareElementWithSocials) {\n            if ((_y = (_x = this.params) === null || _x === void 0 ? void 0 : _x.events) === null || _y === void 0 ? void 0 : _y.onShareElementWithSocials) {\n                (_0 = (_z = this.params) === null || _z === void 0 ? void 0 : _z.events) === null || _0 === void 0 ? void 0 : _0.onShareElementWithSocials(((_2 = (_1 = event.data) === null || _1 === void 0 ? void 0 : _1.data) === null || _2 === void 0 ? void 0 : _2.link) || '', ((_4 = (_3 = event.data) === null || _3 === void 0 ? void 0 : _3.data) === null || _4 === void 0 ? void 0 : _4.social) || 'telegram');\n            }\n        }\n    }\n    destroy() {\n        window.removeEventListener('message', this.listenBoardEvents);\n    }\n}\n//# sourceMappingURL=flip-board-sdk.js.map","import { ButtonManager, Button } from 'ui.buttons';\nimport { MenuItem } from 'main.popup';\nimport { ExternalLink, ExternalLinkForUnifiedLink } from 'disk.external-link';\nimport { LegacyPopup, SharingControlType } from 'disk.sharing-legacy-popup';\nimport type { BoardData } from './types';\n\nexport default class Board\n{\n\tsetupSharingButton: Button = null;\n\tdata: BoardData = null;\n\tsharingControlType: SharingControlType;\n\tunifiedLinkAccessOnly: boolean = false;\n\n\tconstructor(options)\n\t{\n\t\tthis.setupSharingButton = ButtonManager.createByUniqId(options.panelButtonUniqIds.setupSharing);\n\t\tthis.data = options.boardData;\n\t\tthis.sharingControlType = options.sharingControlType;\n\t\tthis.unifiedLinkAccessOnly = options.unifiedLinkAccessOnly;\n\n\t\tthis.bindEvents();\n\t}\n\n\tbindEvents(): void\n\t{\n\t\tif (this.setupSharingButton)\n\t\t{\n\t\t\tconst menuWindow = this.setupSharingButton.getMenuWindow();\n\t\t\tconst extLinkOptions = menuWindow.getMenuItem('ext-link').options;\n\t\t\textLinkOptions.onclick = this.handleClickSharingByExternalLink.bind(this);\n\n\t\t\tmenuWindow.removeMenuItem('ext-link');\n\t\t\tmenuWindow.addMenuItem(extLinkOptions);\n\n\t\t\tconst sharingOptions = menuWindow.getMenuItem('sharing').options;\n\t\t\tsharingOptions.onclick = this.handleClickSharing.bind(this);\n\n\t\t\tmenuWindow.removeMenuItem('sharing');\n\t\t\tmenuWindow.addMenuItem(sharingOptions);\n\t\t}\n\t}\n\n\thandleClickSharingByExternalLink(event, menuItem: MenuItem): void\n\t{\n\t\tthis.setupSharingButton.getMenuWindow().close();\n\t\tif (menuItem.dataset.shouldBlockExternalLinkFeature)\n\t\t{\n\t\t\teval(menuItem.dataset.blockerExternalLinkFeature);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.unifiedLinkAccessOnly)\n\t\t{\n\t\t\tExternalLinkForUnifiedLink.showPopup(this.data.uniqueCode);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tExternalLink.showPopup(this.data.id);\n\t\t}\n\t}\n\n\thandleClickSharing(): void\n\t{\n\t\tthis.setupSharingButton.getMenuWindow().close();\n\t\tthis.showSharingRightsPopup();\n\t}\n\n\tshowSharingRightsPopup(): void\n\t{\n\t\tconst popup = new LegacyPopup();\n\t\tconst popupOptions = {\n\t\t\tobject: {\n\t\t\t\tid: this.data.id,\n\t\t\t\tname: this.data.name,\n\t\t\t},\n\t\t};\n\n\t\tswitch (this.sharingControlType)\n\t\t{\n\t\t\tcase SharingControlType.WITH_CHANGE_RIGHTS:\n\t\t\tcase SharingControlType.WITH_SHARING:\n\t\t\t\tpopup.showSharingDetailWithChangeRights(popupOptions);\n\t\t\t\tbreak;\n\t\t\tcase SharingControlType.WITHOUT_EDIT:\n\t\t\t\tpopup.showSharingDetailWithoutEdit(popupOptions);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","import WebSDK from './flip-board-sdk/src/lib/flip-board-sdk';\nimport Board from './board.js';\n\nconst SDK = WebSDK;\n\nexport {\n\tBoard,\n\tSDK,\n};\n"],"names":["InvalidTokenError","Error","prototype","name","b64DecodeUnicode","str","decodeURIComponent","atob","replace","m","p","code","charCodeAt","toString","toUpperCase","length","base64UrlDecode","output","err","jwtDecode","token","options","pos","header","part","split","decoded","e","message","JSON","parse","AccessLevel","DashboardFlow","SDKEvents","WebSDK","params","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","accessLevel","canEditBoard","boardData","jwtParams","user_id","username","avatar_url","access_level","can_edit_board","webhook_url","document_id","download_link","session_id","file_name","readonly","editable","documentId","fileUrl","sessionId","fileName","console","error","boardParams","appUrl","encodeURIComponent","lang","partnerId","boardUrl","ui","colorTheme","openTemplatesModal","compactHeader","showCloseButton","dashboardFlow","undefined","exportAsFile","spinner","userKickable","confirmUserKick","scrollToElement","features","appContainerDomain","window","location","origin","iframeEl","document","createElement","allow","addEventListener","destroy","bind","container","getElementById","containerId","src","createUrl","style","width","height","border","appendChild","FlipBoard","getBoardMethods","tryToCloseBoard","Promise","resolve","reject","event","data","successCloseApp","errorCloseApp","contentWindow","postMessage","tryToCloseApp","renameBoard","successBoardRenamed","errorBoardRenamed","url","URL","searchParams","set","Date","now","listenBoardEvents","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","_3","_4","waitParams","setParams","boardChanged","events","onBoardChanged","onBoardRenamed","userIsKicked","onUserKicked","userConfirmKickFromBoard","onUserKickConfirmed","shareElementWithSocials","onShareElementWithSocials","link","social","removeEventListener","Board","setupSharingButton","ButtonManager","createByUniqId","panelButtonUniqIds","setupSharing","sharingControlType","unifiedLinkAccessOnly","bindEvents","menuWindow","getMenuWindow","extLinkOptions","getMenuItem","onclick","handleClickSharingByExternalLink","removeMenuItem","addMenuItem","sharingOptions","handleClickSharing","menuItem","close","dataset","shouldBlockExternalLinkFeature","eval","blockerExternalLinkFeature","ExternalLinkForUnifiedLink","showPopup","uniqueCode","ExternalLink","id","showSharingRightsPopup","popup","LegacyPopup","popupOptions","object","SharingControlType","WITH_CHANGE_RIGHTS","WITH_SHARING","showSharingDetailWithChangeRights","WITHOUT_EDIT","showSharingDetailWithoutEdit","SDK"],"mappings":";;;;;;QAAaA,iBAAiB;MAAA;MAAA;QAAA;QAAA;;MAAA;IAAA,6CAASC,KAAK;IAE5CD,iBAAiB,CAACE,SAAS,CAACC,IAAI,GAAG,mBAAmB;IACtD,SAASC,gBAAgB,CAACC,GAAG,EAAE;MAC3B,OAAOC,kBAAkB,CAACC,IAAI,CAACF,GAAG,CAAC,CAACG,OAAO,CAAC,MAAM,EAAE,UAACC,CAAC,EAAEC,CAAC,EAAK;QAC1D,IAAIC,IAAI,GAAGD,CAAC,CAACE,UAAU,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,WAAW,EAAE;QACrD,IAAIH,IAAI,CAACI,MAAM,GAAG,CAAC,EAAE;UACjBJ,IAAI,GAAG,GAAG,GAAGA,IAAI;;QAErB,OAAO,GAAG,GAAGA,IAAI;OACpB,CAAC,CAAC;IACP;IACA,SAASK,eAAe,CAACX,GAAG,EAAE;MAC1B,IAAIY,MAAM,GAAGZ,GAAG,CAACG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;MACtD,QAAQS,MAAM,CAACF,MAAM,GAAG,CAAC;QACrB,KAAK,CAAC;UACF;QACJ,KAAK,CAAC;UACFE,MAAM,IAAI,IAAI;UACd;QACJ,KAAK,CAAC;UACFA,MAAM,IAAI,GAAG;UACb;QACJ;UACI,MAAM,IAAIhB,KAAK,CAAC,4CAA4C,CAAC;;MAErE,IAAI;QACA,OAAOG,gBAAgB,CAACa,MAAM,CAAC;OAClC,CACD,OAAOC,GAAG,EAAE;QACR,OAAOX,IAAI,CAACU,MAAM,CAAC;;IAE3B;AACA,IAAO,SAASE,SAAS,CAACC,KAAK,EAAEC,OAAO,EAAE;MACtC,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;QAC3B,MAAM,IAAIpB,iBAAiB,CAAC,2CAA2C,CAAC;;MAE5EqB,OAAO,KAAKA,OAAO,GAAG,EAAE,CAAC;MACzB,IAAMC,GAAG,GAAGD,OAAO,CAACE,MAAM,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC;MAC3C,IAAMC,IAAI,GAAGJ,KAAK,CAACK,KAAK,CAAC,GAAG,CAAC,CAACH,GAAG,CAAC;MAClC,IAAI,OAAOE,IAAI,KAAK,QAAQ,EAAE;QAC1B,MAAM,IAAIxB,iBAAiB,kDAA2CsB,GAAG,GAAG,CAAC,EAAG;;MAEpF,IAAII,OAAO;MACX,IAAI;QACAA,OAAO,GAAGV,eAAe,CAACQ,IAAI,CAAC;OAClC,CACD,OAAOG,CAAC,EAAE;QACN,MAAM,IAAI3B,iBAAiB,6DAAsDsB,GAAG,GAAG,CAAC,eAAKK,CAAC,CAACC,OAAO,OAAI;;MAE9G,IAAI;QACA,OAAOC,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC;OAC7B,CACD,OAAOC,CAAC,EAAE;QACN,MAAM,IAAI3B,iBAAiB,2DAAoDsB,GAAG,GAAG,CAAC,eAAKK,CAAC,CAACC,OAAO,OAAI;;IAEhH;;ICxDO,IAAIG,WAAW;IACtB,CAAC,UAAUA,WAAW,EAAE;MACpBA,WAAW,CAAC,SAAS,CAAC,GAAG,SAAS;MAClCA,WAAW,CAAC,UAAU,CAAC,GAAG,UAAU;MACpCA,WAAW,CAAC,UAAU,CAAC,GAAG,UAAU;IACxC,CAAC,EAAEA,WAAW,KAAKA,WAAW,GAAG,EAAE,CAAC,CAAC;AACrC,IAAO,IAAIC,aAAa;IACxB,CAAC,UAAUA,aAAa,EAAE;MACtBA,aAAa,CAAC,OAAO,CAAC,GAAG,OAAO;IACpC,CAAC,EAAEA,aAAa,KAAKA,aAAa,GAAG,EAAE,CAAC,CAAC;;ICTlC,IAAIC,SAAS;IACpB,CAAC,UAAUA,SAAS,EAAE;MAClBA,SAAS,CAAC,YAAY,CAAC,GAAG,eAAe;MACzCA,SAAS,CAAC,WAAW,CAAC,GAAG,WAAW;MACpCA,SAAS,CAAC,cAAc,CAAC,GAAG,cAAc;MAC1CA,SAAS,CAAC,eAAe,CAAC,GAAG,eAAe;MAC5CA,SAAS,CAAC,iBAAiB,CAAC,GAAG,iBAAiB;MAChDA,SAAS,CAAC,eAAe,CAAC,GAAG,eAAe;MAC5CA,SAAS,CAAC,aAAa,CAAC,GAAG,aAAa;MACxCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,qBAAqB;MACxDA,SAAS,CAAC,mBAAmB,CAAC,GAAG,mBAAmB;MACpDA,SAAS,CAAC,cAAc,CAAC,GAAG,cAAc;MAC1CA,SAAS,CAAC,0BAA0B,CAAC,GAAG,0BAA0B;MAClEA,SAAS,CAAC,yBAAyB,CAAC,GAAG,yBAAyB;IACpE,CAAC,EAAEA,SAAS,KAAKA,SAAS,GAAG,EAAE,CAAC,CAAC;;ICZU,IACtBC,MAAM;MACvB,gBAAYC,MAAM,EAAE;QAAA;QAChB,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;QAC9C,IAAI,CAACX,MAAM,GAAGA,MAAM;QACpB,IAAIY,WAAW;QACf,IAAIC,YAAY;QAChB,IAAMC,SAAS,GAAG,EAAE;QACpB,IAAIC,SAAS,GAAG;UACZC,OAAO,EAAE,EAAE;UACXC,QAAQ,EAAE,EAAE;UACZC,UAAU,EAAE,EAAE;UACdC,YAAY,EAAE,MAAM;UACpBC,cAAc,EAAE,KAAK;UACrBC,WAAW,EAAE,EAAE;UACfC,WAAW,EAAE,EAAE;UACfC,aAAa,EAAE,EAAE;UACjBC,UAAU,EAAE,EAAE;UACdC,SAAS,EAAE;SACd;QACD,IAAIzB,MAAM,CAACf,KAAK,EAAE;UACd,IAAI;YACA8B,SAAS,GAAG/B,SAAS,CAACgB,MAAM,CAACf,KAAK,CAAC;YACnC2B,WAAW,GAAGG,SAAS,CAACI,YAAY,KAAK,MAAM,GAAGvB,WAAW,CAAC8B,QAAQ,GAAG9B,WAAW,CAAC+B,QAAQ;YAC7Fd,YAAY,GAAGE,SAAS,CAACK,cAAc;YACvCN,SAAS,CAACc,UAAU,GAAGb,SAAS,CAACO,WAAW;YAC5CR,SAAS,CAACe,OAAO,GAAGd,SAAS,CAACQ,aAAa;YAC3CT,SAAS,CAACgB,SAAS,GAAGf,SAAS,CAACS,UAAU;YAC1CV,SAAS,CAACiB,QAAQ,GAAGhB,SAAS,CAACU,SAAS;WAC3C,CACD,OAAOjC,CAAC,EAAE;YACNwC,OAAO,CAACC,KAAK,CAAC,eAAe,CAAC;;;QAGtC,IAAI,CAACC,WAAW,GAAG;UACfC,MAAM,EAAEC,kBAAkB,CAACpC,MAAM,CAACmC,MAAM,CAAC;UACzCvB,WAAW,EAAXA,WAAW;UACXC,YAAY,EAAZA,YAAY;UACZ5B,KAAK,EAAEe,MAAM,CAACf,KAAK;UACnBoD,IAAI,EAAErC,MAAM,CAACqC,IAAI,IAAI,IAAI;;UAEzBC,SAAS,EAAEtC,MAAM,CAACsC,SAAS,IAAI,GAAG;UAClCC,QAAQ,EAAEvC,MAAM,CAACuC,QAAQ,IAAIH,kBAAkB,CAACpC,MAAM,CAACuC,QAAQ,CAAC;UAChEC,EAAE,EAAE;YACAC,UAAU,EAAE,CAAC,CAACxC,EAAE,GAAGD,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAIvC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwC,UAAU,KAAK,iBAAiB;YACtGC,kBAAkB,EAAE,CAAC,EAAE,CAACxC,EAAE,GAAGF,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAItC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwC,kBAAkB,CAAC;YACnGC,aAAa,EAAE,CAAC,EAAE,CAACxC,EAAE,GAAGH,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAIrC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwC,aAAa,CAAC;YACzFC,eAAe,EAAE,CAAC,EAAE,CAACxC,EAAE,GAAGJ,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAIpC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwC,eAAe,CAAC;YAC7FC,aAAa,EAAE,CAAC,CAACxC,EAAE,GAAGL,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAInC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwC,aAAa,KAAKC,SAAS;YACpGC,YAAY,EAAE,CAAC,CAACzC,EAAE,GAAGN,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAIlC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyC,YAAY,MAAM,KAAK;YAC/FC,OAAO,EAAE,CAACzC,EAAE,GAAGP,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAIjC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyC,OAAO;YACzEC,YAAY,EAAE,CAACzC,EAAE,GAAGR,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAIhC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyC,YAAY;YACnFC,eAAe,EAAE,CAACzC,EAAE,GAAGT,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAI/B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyC,eAAe;YACzFC,eAAe,EAAE,CAACzC,EAAE,GAAGV,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAI9B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyC,eAAe;YACzFC,QAAQ,EAAE,CAACzC,EAAE,GAAGX,MAAM,CAACwC,EAAE,MAAM,IAAI,IAAI7B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyC;WACtE;UACDC,kBAAkB,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM;UAC1C1C,SAAS,EAATA;SACH;QACD,IAAI,CAAC2C,QAAQ,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QAChD,IAAI,CAACF,QAAQ,CAACG,KAAK,GAAG,6CAA6C;QACnEN,MAAM,CAACO,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;;MACnE;QAAA;QAAA,uBACM;UACH,IAAMC,SAAS,GAAGN,QAAQ,CAACO,cAAc,CAAC,IAAI,CAACjE,MAAM,CAACkE,WAAW,CAAC;UAClE,IAAI,CAACF,SAAS,EAAE;YACZhC,OAAO,CAACC,KAAK,kEAAkB,IAAI,CAACjC,MAAM,CAACkE,WAAW,2DAAe;YACrE;;UAEJ,IAAI,CAACT,QAAQ,CAACU,GAAG,GAAG,IAAI,CAACC,SAAS,EAAE;UACpC,IAAI,CAACX,QAAQ,CAACY,KAAK,CAACC,KAAK,GAAG,MAAM;UAClC,IAAI,CAACb,QAAQ,CAACY,KAAK,CAACE,MAAM,GAAG,MAAM;UACnC,IAAI,CAACd,QAAQ,CAACY,KAAK,CAACG,MAAM,GAAG,MAAM;UACnCR,SAAS,CAACS,WAAW,CAAC,IAAI,CAAChB,QAAQ,CAAC;UACpC,IAAI,CAACI,gBAAgB,EAAE;UACvBP,MAAM,CAACoB,SAAS,GAAG,IAAI,CAACC,eAAe,EAAE;;;QAC5C;QAAA,kCACiB;UAAA;UACd,OAAO;YACHC,eAAe,EAAE;cAAA,OAAM,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;gBACpD,IAAI9E,EAAE;gBACNqD,MAAM,CAACO,gBAAgB,CAAC,SAAS,EAAE,UAACmB,KAAK,EAAK;kBAC1C,IAAI/E,EAAE,EAAEC,EAAE;kBACV,IAAI,CAAC,CAACD,EAAE,GAAG+E,KAAK,CAACC,IAAI,MAAM,IAAI,IAAIhF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC+E,KAAK,MAAMlF,SAAS,CAACoF,eAAe,EAAE;oBACjGJ,OAAO,EAAE;;kBAEb,IAAI,CAAC,CAAC5E,EAAE,GAAG8E,KAAK,CAACC,IAAI,MAAM,IAAI,IAAI/E,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC8E,KAAK,MAAMlF,SAAS,CAACqF,aAAa,EAAE;oBAC/FJ,MAAM,EAAE;;iBAEf,CAAC;gBACF,CAAC9E,EAAE,GAAG,KAAI,CAACwD,QAAQ,CAAC2B,aAAa,MAAM,IAAI,IAAInF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACoF,WAAW,CAAC;kBAAEL,KAAK,EAAElF,SAAS,CAACwF;iBAAe,EAAE,GAAG,CAAC;eAClI,CAAC;;YACFC,WAAW,EAAE,qBAACvH,IAAI;cAAA,OAAK,IAAI6G,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;gBACpD,IAAI9E,EAAE;gBACNqD,MAAM,CAACO,gBAAgB,CAAC,SAAS,EAAE,UAACmB,KAAK,EAAK;kBAC1C,IAAI/E,EAAE,EAAEC,EAAE;kBACV,IAAI,CAAC,CAACD,EAAE,GAAG+E,KAAK,CAACC,IAAI,MAAM,IAAI,IAAIhF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC+E,KAAK,MAAMlF,SAAS,CAAC0F,mBAAmB,EAAE;oBACrGV,OAAO,EAAE;;kBAEb,IAAI,CAAC,CAAC5E,EAAE,GAAG8E,KAAK,CAACC,IAAI,MAAM,IAAI,IAAI/E,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC8E,KAAK,MAAMlF,SAAS,CAAC2F,iBAAiB,EAAE;oBACnGV,MAAM,EAAE;;iBAEf,CAAC;gBACF,CAAC9E,EAAE,GAAG,KAAI,CAACwD,QAAQ,CAAC2B,aAAa,MAAM,IAAI,IAAInF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACoF,WAAW,CAAC;kBACnFL,KAAK,EAAElF,SAAS,CAACyF,WAAW;kBAC5BN,IAAI,EAAE;oBAAEjH,IAAI,EAAJA;;iBACX,EAAE,GAAG,CAAC;eACV,CAAC;;;WAEL;;;QACJ;QAAA,4BACW;UACR,IAAM0H,GAAG,GAAG,IAAIC,GAAG,WAAI,IAAI,CAAC3F,MAAM,CAACmC,MAAM,SAAG,IAAI,CAACD,WAAW,CAACI,SAAS,KAAK,GAAG,GAAG,WAAW,GAAG,EAAE,EAAG;UACpGoD,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC;UACvC,IAAI,IAAI,CAAC3D,WAAW,CAACM,EAAE,CAACE,kBAAkB,EACtCgD,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,eAAe,EAAE,MAAM,CAAC;UACjD,IAAI,IAAI,CAAC3D,WAAW,CAACM,EAAE,CAACQ,OAAO,IAAI,IAAI,CAACd,WAAW,CAACM,EAAE,CAACQ,OAAO,KAAK,SAAS,EACxE0C,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC3D,WAAW,CAACM,EAAE,CAACQ,OAAO,CAAC;UAChE0C,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,IAAI,EAAEC,IAAI,CAACC,GAAG,EAAE,CAACrH,QAAQ,EAAE,CAAC;UACjD,IAAI,IAAI,CAACwD,WAAW,CAACM,EAAE,CAACW,eAAe,EACnCuC,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC3D,WAAW,CAACM,EAAE,CAACW,eAAe,CAAC;UAC1E,OAAOuC,GAAG,CAAChH,QAAQ,EAAE;;;QACxB;QAAA,mCACkB;UACf4E,MAAM,CAACO,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACmC,iBAAiB,CAACjC,IAAI,CAAC,IAAI,CAAC,CAAC;;;QACxE;QAAA,kCACiBiB,KAAK,EAAE;UACrB,IAAI/E,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEsF,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;UACtH,IAAI,CAAC,CAACjH,EAAE,GAAG+E,KAAK,CAACC,IAAI,MAAM,IAAI,IAAIhF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC+E,KAAK,MAAMlF,SAAS,CAACqH,UAAU,EAAE;;YAE5F,CAACjH,EAAE,GAAG,IAAI,CAACuD,QAAQ,CAAC2B,aAAa,MAAM,IAAI,IAAIlF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmF,WAAW,CAAC;cAAEL,KAAK,EAAElF,SAAS,CAACsH,SAAS;cAAEnC,IAAI,EAAE,IAAI,CAAC/C;aAAa,EAAE,GAAG,CAAC;;UAEvJ,IAAI,CAAC,CAAC/B,EAAE,GAAG6E,KAAK,CAACC,IAAI,MAAM,IAAI,IAAI9E,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC6E,KAAK,MAAMlF,SAAS,CAACuH,YAAY,EAAE;YAC9F,IAAI,CAAChH,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACJ,MAAM,MAAM,IAAI,IAAII,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkH,MAAM,MAAM,IAAI,IAAIjH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkH,cAAc,EAAE;cACjI,IAAI,CAACvH,MAAM,CAACsH,MAAM,CAACC,cAAc,EAAE;;;UAG3C,IAAI,CAAC,CAACjH,EAAE,GAAG0E,KAAK,CAACC,IAAI,MAAM,IAAI,IAAI3E,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC0E,KAAK,MAAMlF,SAAS,CAAC0F,mBAAmB,EAAE;YACrG,IAAI,CAAChF,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACP,MAAM,MAAM,IAAI,IAAIO,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC+G,MAAM,MAAM,IAAI,IAAI9G,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgH,cAAc,EAAE;cACjI,IAAI,CAACxH,MAAM,CAACsH,MAAM,CAACE,cAAc,CAAC,CAAC,CAAC9G,EAAE,GAAG,CAACD,EAAE,GAAGuE,KAAK,CAACC,IAAI,MAAM,IAAI,IAAIxE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwE,IAAI,MAAM,IAAI,IAAIvE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC1C,IAAI,KAAK,EAAE,CAAC;;;UAGrK,IAAI,CAAC,CAAC2C,EAAE,GAAGqE,KAAK,CAACC,IAAI,MAAM,IAAI,IAAItE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACqE,KAAK,MAAMlF,SAAS,CAAC2H,YAAY,EAAE;YAC9F,IAAI,CAACvB,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACjG,MAAM,MAAM,IAAI,IAAIiG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACqB,MAAM,MAAM,IAAI,IAAIpB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwB,YAAY,EAAE;cAC/H,CAACtB,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACnG,MAAM,MAAM,IAAI,IAAImG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmB,MAAM,MAAM,IAAI,IAAIlB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACsB,YAAY,EAAE;;;UAGvI,IAAI,CAAC,CAACrB,EAAE,GAAGrB,KAAK,CAACC,IAAI,MAAM,IAAI,IAAIoB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACrB,KAAK,MAAMlF,SAAS,CAAC6H,wBAAwB,EAAE;YAC1G,IAAI,CAACpB,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACtG,MAAM,MAAM,IAAI,IAAIsG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgB,MAAM,MAAM,IAAI,IAAIf,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACqB,mBAAmB,EAAE;cACtI,CAACnB,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAACxG,MAAM,MAAM,IAAI,IAAIwG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACc,MAAM,MAAM,IAAI,IAAIb,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmB,mBAAmB,EAAE;;;UAG9I,IAAI,CAAC,CAAClB,EAAE,GAAG1B,KAAK,CAACC,IAAI,MAAM,IAAI,IAAIyB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC1B,KAAK,MAAMlF,SAAS,CAAC+H,uBAAuB,EAAE;YACzG,IAAI,CAACjB,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAAC3G,MAAM,MAAM,IAAI,IAAI2G,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACW,MAAM,MAAM,IAAI,IAAIV,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkB,yBAAyB,EAAE;cAC5I,CAAChB,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAAC7G,MAAM,MAAM,IAAI,IAAI6G,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACS,MAAM,MAAM,IAAI,IAAIR,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgB,yBAAyB,CAAC,CAAC,CAACd,EAAE,GAAG,CAACD,EAAE,GAAG/B,KAAK,CAACC,IAAI,MAAM,IAAI,IAAI8B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC9B,IAAI,MAAM,IAAI,IAAI+B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACe,IAAI,KAAK,EAAE,EAAE,CAAC,CAACb,EAAE,GAAG,CAACD,EAAE,GAAGjC,KAAK,CAACC,IAAI,MAAM,IAAI,IAAIgC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAChC,IAAI,MAAM,IAAI,IAAIiC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACc,MAAM,KAAK,UAAU,CAAC;;;;;QAGvZ;QAAA,0BACS;UACN1E,MAAM,CAAC2E,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACjC,iBAAiB,CAAC;;;MAChE;IAAA;;QC5JgBkC,KAAK;MAOzB,eAAYhJ,OAAO,EACnB;QAAA;QAAA,wDAN6B,IAAI;QAAA,0CACf,IAAI;QAAA,2DAEW,KAAK;QAIrC,IAAI,CAACiJ,kBAAkB,GAAGC,wBAAa,CAACC,cAAc,CAACnJ,OAAO,CAACoJ,kBAAkB,CAACC,YAAY,CAAC;QAC/F,IAAI,CAACtD,IAAI,GAAG/F,OAAO,CAAC4B,SAAS;QAC7B,IAAI,CAAC0H,kBAAkB,GAAGtJ,OAAO,CAACsJ,kBAAkB;QACpD,IAAI,CAACC,qBAAqB,GAAGvJ,OAAO,CAACuJ,qBAAqB;QAE1D,IAAI,CAACC,UAAU,EAAE;;MACjB;QAAA;QAAA,6BAGD;UACC,IAAI,IAAI,CAACP,kBAAkB,EAC3B;YACC,IAAMQ,UAAU,GAAG,IAAI,CAACR,kBAAkB,CAACS,aAAa,EAAE;YAC1D,IAAMC,cAAc,GAAGF,UAAU,CAACG,WAAW,CAAC,UAAU,CAAC,CAAC5J,OAAO;YACjE2J,cAAc,CAACE,OAAO,GAAG,IAAI,CAACC,gCAAgC,CAACjF,IAAI,CAAC,IAAI,CAAC;YAEzE4E,UAAU,CAACM,cAAc,CAAC,UAAU,CAAC;YACrCN,UAAU,CAACO,WAAW,CAACL,cAAc,CAAC;YAEtC,IAAMM,cAAc,GAAGR,UAAU,CAACG,WAAW,CAAC,SAAS,CAAC,CAAC5J,OAAO;YAChEiK,cAAc,CAACJ,OAAO,GAAG,IAAI,CAACK,kBAAkB,CAACrF,IAAI,CAAC,IAAI,CAAC;YAE3D4E,UAAU,CAACM,cAAc,CAAC,SAAS,CAAC;YACpCN,UAAU,CAACO,WAAW,CAACC,cAAc,CAAC;;;;QAEvC;QAAA,iDAEgCnE,KAAK,EAAEqE,QAAkB,EAC1D;UACC,IAAI,CAAClB,kBAAkB,CAACS,aAAa,EAAE,CAACU,KAAK,EAAE;UAC/C,IAAID,QAAQ,CAACE,OAAO,CAACC,8BAA8B,EACnD;YACCC,IAAI,CAACJ,QAAQ,CAACE,OAAO,CAACG,0BAA0B,CAAC;YAEjD;;UAGD,IAAI,IAAI,CAACjB,qBAAqB,EAC9B;YACCkB,4CAA0B,CAACC,SAAS,CAAC,IAAI,CAAC3E,IAAI,CAAC4E,UAAU,CAAC;WAC1D,MAED;YACCC,8BAAY,CAACF,SAAS,CAAC,IAAI,CAAC3E,IAAI,CAAC8E,EAAE,CAAC;;;;QAErC;QAAA,qCAGD;UACC,IAAI,CAAC5B,kBAAkB,CAACS,aAAa,EAAE,CAACU,KAAK,EAAE;UAC/C,IAAI,CAACU,sBAAsB,EAAE;;;QAC7B;QAAA,yCAGD;UACC,IAAMC,KAAK,GAAG,IAAIC,mCAAW,EAAE;UAC/B,IAAMC,YAAY,GAAG;YACpBC,MAAM,EAAE;cACPL,EAAE,EAAE,IAAI,CAAC9E,IAAI,CAAC8E,EAAE;cAChB/L,IAAI,EAAE,IAAI,CAACiH,IAAI,CAACjH;;WAEjB;UAED,QAAQ,IAAI,CAACwK,kBAAkB;YAE9B,KAAK6B,0CAAkB,CAACC,kBAAkB;YAC1C,KAAKD,0CAAkB,CAACE,YAAY;cACnCN,KAAK,CAACO,iCAAiC,CAACL,YAAY,CAAC;cACrD;YACD,KAAKE,0CAAkB,CAACI,YAAY;cACnCR,KAAK,CAACS,4BAA4B,CAACP,YAAY,CAAC;cAChD;YACD;cACC;;;;MAEF;IAAA;;QCvFIQ,GAAG,GAAG5K,MAAM;;;;;;;;;"}