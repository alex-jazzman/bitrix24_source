(()=>{class e extends LayoutComponent{constructor(e){super(e);this.id=BX.componentParameters.get("ID","");BX.addCustomEvent("CatalogBarcodeScanner::onSessionIdChanged",(e=>this.id=e))}render(){const e=BX.componentParameters.get("CLOSE_ON_SCANNED",true);const n=BX.componentParameters.get("RESTART_SCANNING_TIMEOUT",2e3);return View({},new BarcodeScanner({onBarcodeScanned:(t,a)=>{const o=()=>{setTimeout((()=>{a.startScanning()}),n)};a.stopScanning();BX.ajax.runAction("catalogmobile.BarcodeScanner.sendBarcodeScannedEvent",{data:{id:this.id,barcode:t.value}}).then((n=>{if(n.data&&e){a.showSuccessOverlay().then((()=>{a.hideSuccessOverlay()})).then((()=>{o()}))}else{o()}})).catch((e=>{o()}))}}))}}BX.onViewLoaded((()=>{layout.showComponent(new e)}))})();
//# sourceMappingURL=component.map.js